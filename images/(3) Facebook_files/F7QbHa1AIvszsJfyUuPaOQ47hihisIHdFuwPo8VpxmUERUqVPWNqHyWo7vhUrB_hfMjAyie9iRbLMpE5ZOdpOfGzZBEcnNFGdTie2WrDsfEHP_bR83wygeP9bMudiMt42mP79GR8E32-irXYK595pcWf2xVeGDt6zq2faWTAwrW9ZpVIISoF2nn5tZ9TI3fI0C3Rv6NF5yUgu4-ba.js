;/*FB_PKG_DELIM*/

__d("LSBumpE2EEMetadataThread",["LSCancelTaskByQueueName","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=new c.Map(),d[0].set("bump_timestamp_ms",a[1]),d[0].set("thread_key",a[0]),d[0].set("bumped_by_local_device_send",a[2]),d[0].set("tam_thread_subtype",[0,0]),d[0].set("wa_jid",f),d[1]=d[0].get("thread_key"),d[0],c.sp(b("LSCancelTaskByQueueName"),c.i64.to_string(d[1]),[0,389])},function(e){return d[2]=new c.Map(),d[2].set("bump_timestamp_ms",a[1]),d[2].set("thread_key",a[0]),d[2].set("bumped_by_local_device_send",a[2]),d[2].set("tam_thread_subtype",[0,0]),d[2].set("wa_jid",f),d[3]=d[2].get("thread_key"),d[2],d[4]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[3]),[0,389],d[4],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSCreateE2EEMetadataThread",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("wa_jid",a[0]),d[0].set("offline_thread_key",a[1]),d[0].set("thread_type",a[2]),d[0].set("folder_type",a[3]),d[0].set("bump_timestamp_ms",a[4]),d[1]=d[0].get("offline_thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[1]),[0,388],d[2],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateE2EEMetadataParticipants",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[1]),[0,394],d[2],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MAWCatQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4877036382414550"}),null);
__d("MAWCatQuery.facebook.graphql",["MAWCatQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:a},params:{id:b("MAWCatQuery_facebookRelayOperation"),metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MAWCatQuery.graphql",["cr:11203"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:11203")}),null);
__d("MAWCatQuery",["MAWCatQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MAWCatQuery.graphql");c=a;g["default"]=c}),98);
__d("mwReplaceToast",["BaseToasterStateManager","MWToast.react","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("BaseToasterStateManager").getInstance();function a(a){var b=a.body,d=a.icon,e=a.startAddOn;e=e===void 0?null:e;var f=a.supressCloseButton;f=f===void 0?!1:f;var g=a.title,j=a.toastId;if(j==null){c("err")("toastId or toasterStateManager is not provided");return}i.replace(j,h.jsx(c("MWToast.react"),{body:b,icon:d,onDismiss:function(){return i.expire(j)},startAddOn:e,supressCloseButton:f,title:g}))}g.mwReplaceToast=a}),98);
__d("MAWCryptoAuthToken",["MAWCatQuery","RelayHooks","err"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null||a.secure_message_over_wa_cat_query==null||a.secure_message_over_wa_cat_query.encrypted_serialized_cat==null||a.secure_message_over_wa_cat_query.expiration_time_in_seconds==null?{error:"Crypto Auth Token was null or incomplete"}:{success:{encrypted_serialized_cat:a.secure_message_over_wa_cat_query.encrypted_serialized_cat,expiration_time_in_seconds:a.secure_message_over_wa_cat_query.expiration_time_in_seconds}}}function a(a){return d("RelayHooks").fetchQuery(a,c("MAWCatQuery"),{}).toPromise().then(h).then(function(a){if(a.error!==null&&a.error!==void 0)throw c("err")("Unable to rotate Crypto Auth Token");return a.success})}g.processCatResponse=h;g.fetchFreshCAT=a}),98);
__d("WAFixedSizeMap",[],(function(a,b,c,d,e,f){a=function(){function a(a){a=a.max;this.$1=new Map();this.$2=new Map();this.$3=0;this.$4=100;this.$4=a}var b=a.prototype;b.has=function(a){return this.$1.has(a)};b.get=function(a){return this.$1.get(a)};b.set=function(a,b){this.$1.set(a,b);this.$2.set(this.$3,a);this.$3+=1;b=this.$2.get(this.$3-this.$4-1);b!=null&&(this.$1["delete"](b),this.$2["delete"](this.$3-this.$4-1))};b.clear=function(){this.$1.clear(),this.$2.clear(),this.$3=0};b.size=function(){return this.$1.size};return a}();f.FixedSizeMap=a}),66);
__d("MAWJobActionsV2",["MAWTransactionMode","Promise","WAFixedSizeMap","WAHex","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return new(b("Promise"))(function(b,c){a.onsuccess=b,a.onerror=c})}function i(a){return h(a).then(function(a){return a.target.result})}function j(a,c,e){return new(b("Promise"))(function(b,f){var g=a(d("MAWTransactionMode").READONLY).index(c);g=g.openCursor(IDBKeyRange.only(e));var h=[];g.onsuccess=function(a){a=a.target.result;if(!a){b(h);return}h.push(a.value);a["continue"]()};g.onerror=function(a){return f(a)}})}var k=new(d("WAFixedSizeMap").FixedSizeMap)({max:100});function a(a,c){var d=c.args,e=c.type,f=c.uniqKey;c=c.version;c=c===void 0?1:c;return f!=null&&k.has(f)?b("Promise").resolve({newlyCreated:"cached",result:k.get(f)}):l(a,{args:d,type:e,uniqKey:f,version:c})}function l(a,c){var e,f=c.args,g=c.scheduleConfig,h=c.type,k=c.uniqKey;c=c.version;c=c===void 0?1:c;e=JSON.stringify([h,(e=k)!=null?e:d("WAHex").randomHex(32)]);var l={backedOffCount:0,current:f,original:f,scheduleConfig:g,startTime:d("WATimeUtils").unixTime(),step:"$unstarted",stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,stepUnexpectedErrorCount:0,type:h,uniqKey:e,version:c,waitUntil:null},n=function(){var b,c=a().add(l),d=i(c);if(l.uniqKey==null&&typeof ((b=c.transaction)==null?void 0:b.commit)==="function")try{c.transaction.commit()}catch(a){}return d.then(function(a){return{id:a,newlyCreated:!0}})};if(k!=null)return j(a,"uniqKey",k).then(function(c){if(c.length===0)return n();var d=[],e=null;c.forEach(function(b){b.step!=="$finished"?e=b:d.push(m(a,b.jobId))});return b("Promise").all(d).then(function(){return e!=null?{id:e.jobId,newlyCreated:!1}:n()})});else return n()}function m(a,b){return i(a()["delete"](b))}function c(a,b){return i(a().get(b))}function e(a,b){return i(a().put(b))}function f(a){return i(a().getAll())}function n(a){return h(a().clear()).then(function(){})}g.recentFinishedJobsCache=k;g.maybeCreateJobWithCache=a;g.maybeCreateJob=l;g.deletePersistedJob=m;g.readPersistedJob=c;g.updatePersistedJob=e;g.readAllPersistedJobs=f;g.clearJobs=n}),98);
__d("MessengerWaitForEvent",["Promise"],(function(a,b,c,d,e,f){function a(a,c,d){var e,f=d;return new(b("Promise"))(function(b){f?e=function(){f.apply(this,arguments)&&b.apply(this,arguments)}:e=b,a&&a.addEventListener&&a.addEventListener(c,e)})["finally"](function(){a&&a.removeEventListener&&a.removeEventListener(c,e)})}f.waitForEvent=a}),66);
__d("LocalStorageMutex",["MessengerWaitForEvent","Promise","QPLUserFlow","err","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=1e3;a=function(){function a(a){var b=this,d=a.mutexKey,e=a.localTakeoverKey,f=a.log,g=a.logError,h=a.getStorage,j=a.setItemGuarded,k=a.mutexTimeoutMs;k=k===void 0?i:k;a=a.mutexTimeoutCallback;this.mutexFilter=function(a){if(a.key!==b.$1)return!1;a=a.newValue||"";if(!a.includes(c("pageID")))return!0;else return!1};this.$1=d;this.$2=e;this.$5=h;this.$6=j;this.$3=f;this.$4=g;this.$7=k;this.$8=a}var e=a.prototype;e.init=function(){c("QPLUserFlow").start(c("qpl")._(1056847375,"584"));this.$3("APPMUTEX - this tab is "+c("pageID"));var a=this.getMutex();if(a!=null&&a===c("pageID")){this.$3("APPMUTEX - WE ALREADY HAVE THE MUTEX LOCK WITHIN INIT");c("QPLUserFlow").endSuccess(c("qpl")._(1056847375,"584"));return b("Promise").resolve(!0)}if(a!=null){this.$3("APPMUTEX - initiating localTAKEOVER");return this.localTakeover()}else{this.$3("APPMUTEX - NO1 ELSE IS ALIVE, GET THE MUTEX");a=this.$9(c("pageID"));var d=this.$10(c("pageID"));if(!a.success||!d.success){c("QPLUserFlow").addAnnotations(c("qpl")._(1056847375,"584"),{bool:{setMutexResult:d.success,setTakeoverResult:a.success},string:{setMutexError:d.error,setTakeoverError:a.error}});c("QPLUserFlow").endFailure(c("qpl")._(1056847375,"584"),"fail_to_set_takeover_or_mutex");return b("Promise").resolve(!1)}c("QPLUserFlow").endSuccess(c("qpl")._(1056847375,"584"));return b("Promise").resolve(!0)}};e.localTakeover=function(){var a,e=this,f=this.$9(c("pageID"));if(!f.success){c("QPLUserFlow").addAnnotations(c("qpl")._(1056847375,"584"),{string:{initTakeoverError:f.error}});c("QPLUserFlow").endFailure(c("qpl")._(1056847375,"584"),"local_takeover_init_takeover_failure");return b("Promise").resolve(!1)}var g,h=function(){g!=null&&clearTimeout(g)};f=d("MessengerWaitForEvent").waitForEvent(window,"storage",this.mutexFilter);var j=(a=this==null?void 0:this._mutexTimeoutMs)!=null?a:i;return b("Promise").race([f,new(b("Promise"))(function(a){g=setTimeout(function(){a()},j)}),this.$8?this.$8():new(b("Promise"))(function(a){})]).then(function(a){if(a==null){e.$3("AppMutex - Forcefully took the mutex and takeover lock");var b=e.$9(c("pageID")),d=e.$10(c("pageID"));if(!b.success||!d.success){c("QPLUserFlow").addAnnotations(c("qpl")._(1056847375,"584"),{string:{setMutexError:d.error,setTakeoverError:b.error}});c("QPLUserFlow").endFailure(c("qpl")._(1056847375,"584"),"local_takeover_forcefully_takeover_failure");return!1}c("QPLUserFlow").endSuccess(c("qpl")._(1056847375,"584"));return!0}e.$3("APPMUTEX - GOT MUTEX STORAGE EVENT CHANGE FROM ANOTHER TAB");d=e.$11(a.newValue);if(!d&&e.hasTakeoverPermission()){e.$3("APPMUTEX - setting mutex on localtakeover");b=e.$10(c("pageID"));if(!b.success){c("QPLUserFlow").addAnnotations(c("qpl")._(1056847375,"584"),{string:{setMutexError:b.error}});c("QPLUserFlow").endFailure(c("qpl")._(1056847375,"584"),"local_takeover_set_mutex_failure");return!1}c("QPLUserFlow").endSuccess(c("qpl")._(1056847375,"584"));return!0}else{e.hasTakeoverPermission()&&e.$12();c("QPLUserFlow").endFailure(c("qpl")._(1056847375,"584"),"local_takeover_no_takeover_permission");return!1}}).then(function(a){h();return a})["catch"](function(a){h();e.$4("AppMutex - localTakeover error no permission - "+a);c("QPLUserFlow").endFailure(c("qpl")._(1056847375,"584"),"local_takeover_general_failure");return!1})};e.onMutexDeath=function(){var a=this.getMutex();a!=null&&a==c("pageID")&&(this.$3("APPMUTEX - removing mutex on death"),this.$13(),this.hasTakeoverPermission()&&this.$12())};e.takeoverFilter=function(a){if(a.key!==this.$2)return!1;a=a.newValue||"";if(!a.includes(c("pageID")))return!0;else return!1};e.$14=function(){if(!h){var a=this.$5();if(!a)throw c("err")("Could not get localStorage");h=a}return h};e.getMutex=function(){h=this.$14();return h.getItem(this.$1)};e.$10=function(a){h=this.$14();return this.$6(h,this.$1,a)};e.$13=function(){h=this.$14(),h.removeItem(this.$1)};e.getTakeover=function(){h=this.$14();return h.getItem(this.$2)};e.$9=function(a){h=this.$14();return this.$6(h,this.$2,a)};e.$12=function(){h=this.$14(),h.removeItem(this.$2)};e.$11=function(a){return a!=null?a:""};e.hasTakeoverPermission=function(){var a=this.getTakeover();return a!=null&&a==c("pageID")};return a}();g.THIS_TAB=c("pageID");g.LocalStorageMutex=a}),98);
__d("MAWAppMutex",["LocalStorageMutex","MAWLocalStorage","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h="armadillo_msgr_mutex",i="armadillo_msgr_local_takeover",j=null;function a(){j==null&&(j=new(d("LocalStorageMutex").LocalStorageMutex)({mutexKey:h,localTakeoverKey:i,log:function(a){d("WALogger").LOG([a])},logError:function(a){d("WALogger").ERROR([a])},getStorage:d("MAWLocalStorage").getStorage,setItemGuarded:d("MAWLocalStorage").setItemGuarded}));return j}g.MAW_MUTEX_KEY=h;g.MAW_LOCALTAKEOVER_KEY=i;g.use=a}),98);
__d("MAWLocalizationEphemeralSettingSetAdminMsg",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF}g.isEphemeralSettingSetAdminMsg=a}),98);
__d("MAWAdminMsgCTA.bs",["fbt","MAWLocalizationEphemeralSettingSetAdminMsg","MAWLocalizationType.bs","MAWTimeUtils","Promise","ReQL.bs","asyncToGeneratorRuntime","bs_caml_int64"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._("__JHASH__iw7A0LnsmaW__JHASH__").toString(),j=h._("__JHASH__jODYJ2eW1Pa__JHASH__").toString(),k=h._("__JHASH__xAOSvpC7vLN__JHASH__").toString();function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL.bs").first(d("ReQL.bs").fromIndexDescending(a.table("admin_message_ctas").index("ctaId"))));return a!=null?c("bs_caml_int64").add(a.ctaId,c("bs_caml_int64").one):c("bs_caml_int64").zero});return m.apply(this,arguments)}function n(a,b,c){return d("ReQL.bs").first(d("ReQL.bs").bounds(d("ReQL.bs").fromTableDescending(a.table("admin_message_ctas")),{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:b,tl:{hd:c,tl:0}}},{NAME:"lessThanOrEqual",VAL:{hd:b,tl:{hd:c,tl:0}}}]}))}function o(a){if(a==null)return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:void 0};if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:i};switch(a){case d("MAWLocalizationType.bs").cutoverThreadAdminMessage:case d("MAWLocalizationType.bs").e2eeThreadAdminMessage:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:j};case d("MAWLocalizationType.bs").cutoverRollbackAdminMessage:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:k};default:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:void 0}}}function p(a){if(a==null)return;if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return"admin_msg_armadillo_ephemeral_change_duration";switch(a){case d("MAWLocalizationType.bs").cutoverThreadAdminMessage:return"admin_msg_thread_level_cutover";case d("MAWLocalizationType.bs").e2eeThreadAdminMessage:return"admin_msg_e2ee_thread";case d("MAWLocalizationType.bs").cutoverRollbackAdminMessage:return"admin_msg_cutover_rollback"}}function q(a,b,c,e,f){return a.table("admin_message_ctas").add({actionUrl:f.actionUrl,adClientToken:f.adClientToken,adHelpUrl:f.adHelpUrl,adminMessageNicknameParticipantId:f.adminMessageNicknameParticipantId,adPreferenceUrl:f.adPreferenceUrl,ctaId:b,messageId:e.msgId,showAdChoiceIcon:f.showAdChoiceIcon,targetId:f.targetId,targetTitle:f.targetTitle,threadKey:c,timestampMs:d("MAWTimeUtils").toTimestamp(e.ts),title:f.title})}function r(a,b,c){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){var e=(yield b("Promise").all([n(a,c,d.msgId),l(a)])),f=e[0];e=e[1];if(f!=null)return{ctaId:f.ctaId,ctaType:p(d.adminType),title:f.title};else{f=o(d.adminType);yield q(a,e,c,d,f);return{ctaId:e,ctaType:p(d.adminType),title:f.title}}});return s.apply(this,arguments)}function a(a,c,e){var f=e.adminType;return f!==void 0&&(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(f)||f===d("MAWLocalizationType.bs").cutoverThreadAdminMessage||f===d("MAWLocalizationType.bs").e2eeThreadAdminMessage||f===d("MAWLocalizationType.bs").cutoverRollbackAdminMessage)?r(a,c,e):b("Promise").resolve()}g.insertAdminMsgCta=q;g.createOrReturnExistingAdminMsgCta=r;g.getAdminMsgCtaStep=a}),98);
__d("MAWFrontendMediaUtils",["MAWDbMedia","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==="image/gif")return{mediaType:d("MAWDbMedia").MEDIA_TYPE.GIF,serverMediaType:"gif"};if(a==="image/webp")return{mediaType:d("MAWDbMedia").MEDIA_TYPE.STICKER,serverMediaType:"sticker"};var b=a.split("/")[0];switch(b){case"image":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"image"};case"video":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.VIDEO,serverMediaType:"video"};case"audio":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.PTT,serverMediaType:"ptt"};default:throw c("err")("get a wrong media file with type "+a)}}g.getMediaTypeAndServerMediaTypeFromBlob=a}),98);
__d("QPLUserCountEvent",["QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("QPLUserFlow").start(a),c("QPLUserFlow").endSuccess(a)}g.fireQplUserCount=a}),98);
__d("MNLSXMATemplateType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").neg_one;f.genericShare=a;f.default_=c}),null);
__d("MNXMAPreviewImageDecorationType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11];f.default_=a;f.collage=c;f.video=d;f.messengerIcon=e;f.instagramIcon=b;f.shopping=g;f.upcomingEvent=h;f.live=i;f.reel=j;f.igtv=k;f.youtubeVideo=l;f.youtubeShorts=m}),null);
__d("MAWBridgeNewXMAHandler.bs",["I64","MAWDbMsg","MAWThreadId.bs","MNLSXMALayoutType.bs","MNLSXMATemplateType.bs","MNXMAPreviewImageDecorationType.bs","MessagingAttachmentType.bs","Promise","ReQL.bs","WAArmadilloXMA.pb","bs_belt_Array","bs_belt_Option","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(a===void 0)return;a=c("bs_belt_Array").get(a,b-1);if(a===void 0)return;return a.buttonType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE?"xma_open_native":void 0}function i(a,b){if(a===void 0)return;a=c("bs_belt_Array").get(a,b-1|0);if(a!==void 0)return a.title}function j(a){if(a===0||a!==3)return d("MNLSXMALayoutType.bs").single;else return d("MNLSXMALayoutType.bs").portrait}function a(a){return d("MNLSXMATemplateType.bs").default_}function k(a){switch(a){case 10:return d("MNXMAPreviewImageDecorationType.bs").collage;case 14:return d("MNXMAPreviewImageDecorationType.bs").reel;case 5:case 6:case 7:case 8:case 9:case 11:case 15:case 16:case 17:case 18:case 19:return d("MNXMAPreviewImageDecorationType.bs").default_;case 4:case 12:case 13:case 20:case 21:case 22:case 23:case 24:return d("MNXMAPreviewImageDecorationType.bs").instagramIcon;default:return d("MNXMAPreviewImageDecorationType.bs").default_}}function l(a,e){return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(f){if(f===void 0)return b("Promise").resolve();var g=String(e.xmaId),l=e.msgId;if(l!==void 0)return d("ReQL.bs").first(d("ReQL.bs").fromTableDescending(a.table("attachment_ctas"))).then(function(h){var i=h!==void 0?c("bs_caml_int64").add(h.ctaId,c("bs_caml_int64").one):c("bs_caml_int64").one;h=e.defaultCTA;if(h===void 0)return b("Promise").resolve([void 0,i]);var j=h.actionUrl,k=h.nativeUrl,m="xma_web_url";switch(e.targetType){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:m="xma_rtc_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:m="xma_rtc_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:m="xma_rtc_missed_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:m="xma_rtc_missed_video";break}return a.table("attachment_ctas").add({actionContentBlob:void 0,actionUrl:j!==void 0?j:h.nativeUrl,attachmentFbid:g,attachmentIndex:c("bs_caml_int64").zero,ctaId:i,enableExtensions:!1,extensionHeightType:void 0,messageId:l,nativeUrl:k!==void 0?k:h.actionUrl,platformToken:void 0,targetId:void 0,threadKey:f,title:c("bs_belt_Option").getWithDefault(h.title,""),type_:m,urlWebviewType:void 0}).then(function(){return b("Promise").resolve([i,i])})}).then(function(d){var h=d[1],i=d[0],j=[];d=e.ctas;if(d===void 0)return b("Promise").resolve([i,[]]);d=d.map(function(b,d){d=c("bs_caml_int64").add(h,c("bs_caml_int64").of_int32(d+1|0));j.push(d);var e=b.actionUrl,i=b.nativeUrl;return a.table("attachment_ctas").add({actionContentBlob:void 0,actionUrl:e!==void 0?e:b.nativeUrl,attachmentFbid:g,attachmentIndex:c("bs_caml_int64").zero,ctaId:d,enableExtensions:!1,extensionHeightType:void 0,messageId:l,nativeUrl:i!==void 0?i:b.actionUrl,platformToken:void 0,targetId:void 0,threadKey:f,title:c("bs_belt_Option").getWithDefault(b.title,"Tap to view status update"),type_:"xma_web_url",urlWebviewType:void 0})});return b("Promise").all(d).then(function(){return b("Promise").resolve([i,j])})}).then(function(b){var m=b[1],n=c("bs_caml_int64").of_int32(d("MAWDbMsg").getInChatMsgIdFromMsgId(l)),o;switch(e.targetType){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:o={height:d("I64").of_int32(108),width:d("I64").of_int32(72),xmaContentType:"xma_montage_share"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:o={xmaContentType:"xma_rtc_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:o={xmaContentType:"xma_rtc_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:o={xmaContentType:"xma_rtc_missed_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:o={xmaContentType:"xma_rtc_missed_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:o={xmaContentType:"xma_rtc_missed_group_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:o={xmaContentType:"xma_rtc_missed_group_video"};break;default:o={height:e.previewHeight!=null?d("I64").of_int32(e.previewHeight):void 0,width:e.previewWidth!=null?d("I64").of_int32(e.previewWidth):void 0,xmaContentType:"xma_web_url"};break}return a.table("attachments").add({accessibilitySummaryText:void 0,actionUrl:void 0,attachmentCta1Id:m.length>0?m[0]:void 0,attachmentCta2Id:m.length>1?m[1]:void 0,attachmentCta3Id:m.length>2?m[2]:void 0,attachmentFbid:g,attachmentIndex:c("bs_caml_int64").zero,attachmentLoggingType:void 0,attachmentType:d("MessagingAttachmentType.bs").xma,attributionAppIcon:void 0,attributionAppIconFallback:void 0,attributionAppIconUrlExpirationTimestampMs:void 0,attributionAppId:void 0,attributionAppName:void 0,authorityLevel:c("bs_caml_int64").zero,avatarCount:void 0,avatarViewAccessibilityLabel:void 0,avatarViewSize:void 0,avatarViewTitleList:void 0,avatarViewUrlExpirationTimestampList:void 0,avatarViewUrlFallbackList:void 0,avatarViewUrlList:void 0,captionBodyText:void 0,cta1Title:i(e.ctas,1),cta1Type:h(e.ctas,1),cta2Title:i(e.ctas,2),cta2Type:h(e.ctas,2),cta3Title:i(e.ctas,3),cta3Type:h(e.ctas,3),dashManifest:void 0,decryptionKey:void 0,defaultCtaId:b[0],defaultCtaTitle:c("bs_belt_Option").getWithDefault(c("bs_belt_Option").map(e.defaultCTA,function(a){return a.title})),defaultCtaType:o.xmaContentType,descriptionText:void 0,ephemeralMediaState:void 0,faviconUrl:void 0,faviconUrlExpirationTimestampMs:void 0,faviconUrlFallback:void 0,filename:void 0,filesize:e.filesize!=null?d("I64").of_int32(e.filesize):void 0,gatingTitle:void 0,gatingType:e.overlayIconGlyph!=null?String(e.overlayIconGlyph):void 0,hasMedia:!1,hasXma:!0,headerImageUrl:void 0,headerImageUrlExpirationTimestampMs:void 0,headerImageUrlFallback:void 0,headerImageUrlMimeType:void 0,headerTitle:e.headerTitle,imageUrl:void 0,imageUrlExpirationTimestampMs:void 0,imageUrlFallback:void 0,imageUrlMimeType:void 0,isBorderless:void 0,isPreviewImage:void 0,isSharable:!0,listItemAccessibilityText1:void 0,listItemAccessibilityText2:void 0,listItemAccessibilityText3:void 0,listItemContactUrlExpirationTimestampList1:void 0,listItemContactUrlExpirationTimestampList2:void 0,listItemContactUrlExpirationTimestampList3:void 0,listItemContactUrlFallbackList1:void 0,listItemContactUrlFallbackList2:void 0,listItemContactUrlFallbackList3:void 0,listItemContactUrlList1:void 0,listItemContactUrlList2:void 0,listItemContactUrlList3:void 0,listItemId1:void 0,listItemId2:void 0,listItemId3:void 0,listItemProfilePictureUrl1:void 0,listItemProfilePictureUrl2:void 0,listItemProfilePictureUrl3:void 0,listItemProfilePictureUrlExpirationTimestamp1:void 0,listItemProfilePictureUrlExpirationTimestamp2:void 0,listItemProfilePictureUrlExpirationTimestamp3:void 0,listItemProfilePictureUrlFallback1:void 0,listItemProfilePictureUrlFallback2:void 0,listItemProfilePictureUrlFallback3:void 0,listItemProgressBarFilledPercentage1:void 0,listItemProgressBarFilledPercentage2:void 0,listItemProgressBarFilledPercentage3:void 0,listItemsDescriptionSubtitleText:void 0,listItemsDescriptionText:void 0,listItemsId:void 0,listItemsSecondaryDescriptionText:void 0,listItemTitleText1:void 0,listItemTitleText2:void 0,listItemTitleText3:void 0,localPlayableUrl:void 0,maxSubtitleNumOfLines:e.maxSubtitleNumOfLines!=null?d("I64").of_int32(e.maxSubtitleNumOfLines):void 0,maxTitleNumOfLines:e.maxTitleNumOfLines!=null?d("I64").of_int32(e.maxTitleNumOfLines):void 0,messageId:l,miniPreview:void 0,offlineAttachmentId:g,originalFileHash:void 0,originalPageSenderId:void 0,playableDurationMs:void 0,playableUrl:void 0,playableUrlExpirationTimestampMs:void 0,playableUrlFallback:void 0,playableUrlMimeType:void 0,preheaderText:void 0,previewHeight:o.height,previewHeightLarge:e.previewHeightLarge!=null?d("I64").of_int32(e.previewHeightLarge):void 0,previewImageDecorationType:k(e.targetType),previewUrl:void 0,previewUrlExpirationTimestampMs:void 0,previewUrlFallback:void 0,previewUrlLarge:void 0,previewUrlMimeType:void 0,previewWidth:o.width,previewWidthLarge:e.previewWidthLarge!=null?d("I64").of_int32(e.previewWidthLarge):void 0,samplingFrequencyHz:void 0,shouldAutoplayVideo:void 0,shouldHighlightHeaderTitleInTitle:void 0,shouldRespectServerPreviewSize:void 0,sourceText:void 0,subtitleIconUrl:void 0,subtitleText:e.subtitleText,targetId:void 0,threadKey:f,timestampMs:n,titleText:e.titleText,viewerSeenTimestampMs:void 0,waveformData:void 0,xmaLayoutType:e.xmaLayoutType!=null?j(e.xmaLayoutType):void 0,xmasTemplateType:e.xmaLayoutType!=null?j(e.xmaLayoutType):void 0})});else return b("Promise").resolve()})}function e(a,b){return l(a,b).then(function(){})}g.getCTAType=h;g.getCTATitle=i;g.getLSXMALayoutType=j;g.getLSXMATemplateType=a;g.getLSPreviewImageDecorationType=k;g.call=e}),98);
__d("MAWBridgeDeleteGroupInviteHandler",["MAWThreadId","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield d("MAWThreadId").toThreadKeyMaybe(a,c.threadId));if(c==null)return;c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("group_invites")).getKeyRange(c)));return b("Promise").all(c.map(function(b){a.table("group_invites")["delete"]({hd:b.threadKey,tl:{hd:b.inviterId,tl:{hd:b.inviteeId,tl:0}}})}))});return h.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeDeleteMessageRangesV2Handler",["I64","MAWThreadId","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("MAWThreadId").toThreadKeyMaybe(a,b.threadId));if(c==null)return;return a.table("messages_ranges_v2__generated")["delete"]({hd:c,tl:{hd:d("I64").of_float(b.minTimestampMs),tl:{hd:b.minMsgId,tl:0}}})});return h.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeDeleteMessagesHandler",["MAWThreadId","MAWTimeUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("MAWThreadId").toThreadKeyMaybe(a,b.threadId));if(c!==void 0)for(b of b.messages)yield a.table("messages")["delete"](d("ReQL").key(c,d("MAWTimeUtils").toTimestamp(b.ts),b.msgId))});return h.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeDeleteReactionHandler",["I64","MAWThreadId","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("MAWThreadId").toThreadKeyMaybe(a,b.threadId));if(c!==void 0)return a.table("reactions")["delete"]({hd:c,tl:{hd:b.messageId,tl:{hd:d("I64").of_string(b.actorId),tl:0}}})});return h.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeEphemeralSettingsUpdatedForUIHandler",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("Promise").resolve()}f.call=a}),66);
__d("MAWBridgeGroupInfoUpdatedHandler",["MAWThreadId","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("MAWThreadId").toThreadKeyMaybe(a,b.threadId));if(c===void 0)return;b=(b=b.threadName)!=null?b:void 0;a=a.table("threads");c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(c)));if(c===void 0)return;return a.put(babelHelpers["extends"]({},c,{threadName:b}))});return h.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeGroupInviteUpdateHandler",["I64","MAWThreadId","MAWTimeUtils","MAWUpdateLSThreadCapabilities.bs","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("MAWThreadId").toThreadKeyMaybe(a,c.threadId));if(e===void 0)return b("Promise").resolve();var f=d("I64").of_string(c.inviterId),g=a.table("group_invites");g.put({caption:(g=c.caption)!=null?g:void 0,inviteCode:c.inviteCode,inviteeId:d("I64").of_string(c.inviteeId),inviteExpirationTimestampMs:d("MAWTimeUtils").toTimestamp(c.inviteExpireTs),inviterId:f,threadKey:e});d("MAWUpdateLSThreadCapabilities.bs").setGroupInviteTxn(a,e,f)});return h.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeInitOfflineQueueSyncCompleteHandler.bs",["CurrentLocale","LSDict","LSJson","LSLogHistory","LSSyncChannel.bs","LSSyncStatus.bs","MAWInitSyncComplete.bs","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";var h=[2328,1316134911];function i(a){return a.table("sync_groups").put({canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:d("MAWInitSyncComplete.bs").id,initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:c("bs_caml_int64").zero,minTimeToSyncTimestampMs:h,priority:c("bs_caml_int64").zero,regionHint:void 0,sendSyncParams:!0,syncChannel:d("LSSyncChannel.bs").mqtt,syncParams:d("LSJson").stringify(new(c("LSDict"))([["locale",c("CurrentLocale").get()]])),syncStatus:d("LSSyncStatus.bs").complete})}function a(a){d("LSLogHistory").log("Init Offline Queue Sync Complete","debug");return i(a)}g.neverSyncTimestamp=h;g.finishOfflineArmadilloSyncCursor=i;g.call=a}),98);
__d("MAWBridgeInitOfflineQueueSyncProgressHandler.bs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("Promise").resolve()}f.call=a}),66);
__d("MAWBridgeInitOfflineQueueSyncStartHandler.bs",["CurrentLocale","LSDict","LSJson","LSLogHistory","LSSyncChannel.bs","LSSyncStatus.bs","MAWInitSyncComplete.bs","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";var h=[2328,1316134911];function i(a){return a.table("sync_groups").put({canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:d("MAWInitSyncComplete.bs").id,initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:c("bs_caml_int64").zero,minTimeToSyncTimestampMs:h,priority:c("bs_caml_int64").zero,regionHint:void 0,sendSyncParams:!0,syncChannel:d("LSSyncChannel.bs").mqtt,syncParams:d("LSJson").stringify(new(c("LSDict"))([["locale",c("CurrentLocale").get()]])),syncStatus:d("LSSyncStatus.bs").paging})}function a(a,b){d("LSLogHistory").log("Init Offline Queue Sync Start","debug");return i(a)}g.neverSyncTimestamp=h;g.initOfflineArmadilloSyncCursor=i;g.call=a}),98);
__d("MWChatFetchThreadMessageCounts",["I64","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c={},e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("threads")).filter(function(a){return d("I64").to_int32(a.threadType)===16||d("I64").to_int32(a.threadType)===15}).map(function(a){return a.threadKey}))),f=(yield b("Promise").all(e.map(function(b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("messages")).getKeyRange(b).filter(function(a){return!a.isAdminMessage}))})));e.forEach(function(a,b){c[d("I64").to_string(a)]=f[b].length});return c});return h.apply(this,arguments)}function c(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("messages")).getKeyRange(b).filter(function(a){return!a.isAdminMessage})));return a.length});return i.apply(this,arguments)}g.fetchArmadilloThreadMessageCounts=a;g.fetchArmadilloThreadMessageCount=c}),98);
__d("MWChatDataLossCheckerUtil",["Crypto.bs","FBLogger","I64","MAWBridgeSendAndReceive","MAWThreadId.bs","MWChatFetchThreadMessageCounts","Promise","QuickPerformanceLogger","WebStorage","asyncToGeneratorRuntime","gkx","promiseDone","qex","qpl","useDataLossStatisticsStorageListener"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=Array.from(new Uint8Array(a));return a.map(function(a){return a.toString(16).padStart(2,"0")}).join("")}function i(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(c("qex")._("460"))return a;var b=new TextEncoder();b=b.encode(a).buffer;a=(yield d("Crypto.bs").digest("SHA-256",b));return h(a)}catch(a){return a}});return j.apply(this,arguments)}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.currentIDBCnt,d=a.currentMsgCnt,e=a.logThreadId,f=a.prevMsgCnt,g=a.qplEvent;a=a.threadId;if(e!==void 0&&e){e=(yield i(a));b!==void 0?(c("QuickPerformanceLogger").markerStartFromNavStart(g),c("QuickPerformanceLogger").markerAnnotate(g,{"int":{current_idb_count:b,current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),c("QuickPerformanceLogger").markerEnd(g,2)):(c("QuickPerformanceLogger").markerStartFromNavStart(g),c("QuickPerformanceLogger").markerAnnotate(g,{"int":{current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),c("QuickPerformanceLogger").markerEnd(g,2))}else b!==void 0?(c("QuickPerformanceLogger").markerStartFromNavStart(g),c("QuickPerformanceLogger").markerAnnotate(g,{"int":{current_idb_count:b,current_msg_count:d,prev_msg_count:f}}),c("QuickPerformanceLogger").markerEnd(g,2)):(c("QuickPerformanceLogger").markerStartFromNavStart(g),c("QuickPerformanceLogger").markerAnnotate(g,{"int":{current_msg_count:d,prev_msg_count:f}}),c("QuickPerformanceLogger").markerEnd(g,2))});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.currentMsgCnt,e=a.db,f=a.logThreadId,g=a.prevMsgCnt,h=a.qplEvent,i=a.threadId;if(!c("gkx")("7965"))return k({currentMsgCnt:b,logThreadId:f,prevMsgCnt:g,qplEvent:h,threadId:i});a=-100;try{e=(yield d("MAWThreadId.bs").ofThreadKey(e,d("I64").of_string(i)));if(e.TAG!==0){c("FBLogger")("labyrinth").warn("Fetched Invalid IndexedDB thread id");return k({currentMsgCnt:b,logThreadId:f,prevMsgCnt:g,qplEvent:h,threadId:i})}a=e._0}catch(a){c("FBLogger")("labyrinth").catching(a).warn("Failed to fetch indexedDB thread Id");return k({currentMsgCnt:b,logThreadId:f,prevMsgCnt:g,qplEvent:h,threadId:i})}c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","fetchArmadilloThreadMessageCount",{threadId:a}).then(function(a){return k({currentIDBCnt:a,currentMsgCnt:b,logThreadId:f,prevMsgCnt:g,qplEvent:h,threadId:i})})["catch"](function(a){c("FBLogger")("labyrinth").catching(a).warn("Failed to fetch IndexDB message count");return k({currentMsgCnt:b,logThreadId:f,prevMsgCnt:g,qplEvent:h,threadId:i})}))});return n.apply(this,arguments)}function a(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{a=(yield d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCount(a,b));var e=c("WebStorage").getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return{isThreadMissingMessages:!1};e=JSON.parse(e);b=(e=e[d("I64").to_string(b)])!=null?e:null;if(b==null)return{isThreadMissingMessages:!1};return b>0&&a===0?{currCount:a,isThreadMissingMessages:!0,prevCount:b}:{isThreadMissingMessages:!1}}catch(a){c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss");return{isThreadMissingMessages:!1}}});return o.apply(this,arguments)}function e(a){return d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a).then(function(a){var e=c("WebStorage").getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return b("Promise").resolve(null);e=JSON.parse(e);return b("Promise").resolve({current:a,previous:e})}).then(function(c){if(c==null)return b("Promise").resolve();var d=c.current;c=c.previous;return p(c,d,a)})["catch"](function(a){return c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss")})}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e){var f=[];for(var g in a)Object.prototype.hasOwnProperty.call(d,g)&&f.push(g);g=[];for(var h=0;h<f.length;h++){var i=f[h],j={currentMsgCnt:d[i],db:e,prevMsgCnt:a[i],threadId:i};a[i]>0&&d[i]===0?(g.push(m(babelHelpers["extends"]({},j,{qplEvent:c("qpl")._(717553665,"1183")}))),g.push(m(babelHelpers["extends"]({},j,{logThreadId:!0,qplEvent:c("qpl")._(717562243,"1358")})))):(g.push(m(babelHelpers["extends"]({},j,{qplEvent:c("qpl")._(717553666,"1184")}))),g.push(m(babelHelpers["extends"]({},j,{logThreadId:!0,qplEvent:c("qpl")._(717556541,"1361")}))))}yield b("Promise").all(g)});return q.apply(this,arguments)}function f(a){var b=function(b){c("promiseDone")(i(b).then(function(d){c("QuickPerformanceLogger").markerStartFromNavStart(c("qpl")._(717567419,"1383")),c("QuickPerformanceLogger").markerAnnotate(c("qpl")._(717567419,"1383"),{string:{encryptedThreadId:d,msg_count:a[b].toString()}}),c("QuickPerformanceLogger").markerEnd(c("qpl")._(717567419,"1383"),2)}))};for(var d in a)b(d)}g.qplLog=m;g.checkIsThreadMissingMessages=a;g.fetchCountsAndLogDataLoss=e;g.logThreadCompleteDataLoss=p;g.logLocalStatistics=f}),98);
__d("useDataLossStatisticsStorageListener",["LSDatabaseDeferred","MWChatDataLossCheckerUtil","MWChatFetchThreadMessageCounts","Visibility","WebStorage","promiseDone","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i="armadillo_msgr_data_loss_stats";function a(){h(function(){var a;window.setTimeout(function(){a=c("Visibility").addListener(c("Visibility").HIDDEN,function(){c("promiseDone")(d("LSDatabaseDeferred").db.then(function(a){return d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a).then(function(a){c("WebStorage").setItemGuarded(c("WebStorage").getLocalStorage(),i,JSON.stringify(a)),c("qex")._("1259")&&d("MWChatDataLossCheckerUtil").logLocalStatistics(a)})}))})},3e4);return function(){var b;(b=a)==null?void 0:b.remove()}},[])}g.DATA_LOSS_STATISTICS_STORAGE_KEY=i;g.useDataLossStatisticsStorageListener=a}),98);
__d("MAWBridgeInitSyncCompleteHandler.bs",["CurrentLocale","LSDict","LSJson","LSLogHistory","LSSyncChannel.bs","LSSyncStatus.bs","MAWInitSyncComplete.bs","MAWTTRC","MWChatDataLossCheckerUtil","Promise","QPLUserFlow","bs_caml_int64","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.table("sync_groups").add({canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:d("MAWInitSyncComplete.bs").id,initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:c("bs_caml_int64").zero,minTimeToSyncTimestampMs:[2328,1316134911],priority:c("bs_caml_int64").zero,regionHint:void 0,sendSyncParams:!0,syncChannel:d("LSSyncChannel.bs").mqtt,syncParams:d("LSJson").stringify(new(c("LSDict"))([["locale",c("CurrentLocale").get()]])),syncStatus:d("LSSyncStatus.bs").complete})}function i(a){return a.table("network_requests").add({epochId:c("bs_caml_int64").neg_one,failureCount:c("bs_caml_int64").zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:c("bs_caml_int64").zero,lastSyncRequestTimestampMs:c("bs_caml_int64").zero,networkTaskIdentifier:void 0,syncDatabaseId:d("MAWInitSyncComplete.bs").id,taskQueueName:""})}function a(a){d("LSLogHistory").log("Init Sync Complete","debug");d("MAWTTRC").markEvent("init_sync_received");c("QPLUserFlow").endSuccess(c("qpl")._(25300040,"1388"));return window.Promise.all([c("gkx")("4492")?d("MWChatDataLossCheckerUtil").fetchCountsAndLogDataLoss(a):b("Promise").resolve(),h(a),i(a)]).then(function(){return b("Promise").resolve()})}g.completeLocalArmadilloSyncCursor=h;g.completeLocalArmadilloNetworkRequest=i;g.call=a}),98);
__d("MAWBridgeMediaExpiredHandler.bs",["MAWThreadId.bs","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){var e=String(c.mediaId);return d("MAWThreadId.bs").toThreadKeyMaybe(a,c.threadId).then(function(d){if(d!==void 0)return a.table("attachments")["delete"]({hd:d,tl:{hd:c.msgId,tl:{hd:e,tl:0}}});else return b("Promise").resolve()})}g.call=a}),98);
__d("MAWBridgeMsgUpdatedHandler.bs",["MAWAdminMsgCTA.bs","MAWMsgReply","MAWThreadId","MAWUpdateMsg","ReQL.bs","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("MAWThreadId").toThreadKeyMaybe(b,c.chatId));if(e==null)return;var f=(yield d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("messages")),{hd:e,tl:0}),function(a){return a.messageId===c.msgId})));if(f==null)return;e=(yield d("MAWAdminMsgCTA.bs").getAdminMsgCtaStep(b,e,c));var g=(yield d("MAWMsgReply").getReplySnippet(a,b,c));return d("MAWUpdateMsg").call(a,b,c,f,e,g)});return h.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeMsgsLoadedHandler.bs",["LSClearMessagePlaceholderRange","LSFactory","LSInsertNewMessageRange","MAWThreadId.bs","MAWTimeUtils.bs","Promise","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(f){if(f!==void 0)return c("LSClearMessagePlaceholderRange")(f,"",d("MAWTimeUtils.bs").maxTimestampMs,c("LSFactory")(a)).then(function(){var b=e.rangeExtensionType,g;switch(b.TAG){case 1:case 2:g=c("bs_caml_int64").of_float(b._0.minMsgTs);break;case 0:case 3:g=d("MAWTimeUtils.bs").minTimestampMs;break}b=e.rangeExtensionType;b=b.TAG===3?c("bs_caml_int64").of_float(b._0.maxMsgTs):d("MAWTimeUtils.bs").maxTimestampMs;var h=e.rangeExtensionType,i;switch(h.TAG){case 1:case 2:i=h._0.minMsgId;break;case 0:case 3:i="";break}h=e.rangeExtensionType;var j;switch(h.TAG){case 1:j=h._0.maxMsgId;break;case 0:case 2:j="";break;case 3:j=h._0.maxMsgId;break}h=e.rangeExtensionType;var k;switch(h.TAG){case 1:case 2:k=c("bs_caml_int64").of_float(h._0.minMsgTs);break;case 0:case 3:k=d("MAWTimeUtils.bs").minTimestampMs;break}h=e.rangeExtensionType;h=h.TAG===3?c("bs_caml_int64").of_float(h._0.maxMsgTs):d("MAWTimeUtils.bs").maxTimestampMs;var l=e.rangeExtensionType,m;switch(l.TAG){case 1:m=l._0.hasMoreBefore;break;case 2:m=l._0.hasMoreBefore;break;case 0:case 3:m=!1;break}l=e.rangeExtensionType;l=l.TAG===3?l._0.hasMoreAfter:!1;return c("LSInsertNewMessageRange")(f,g,b,i,j,k,h,m,l,void 0,c("LSFactory")(a))});else return b("Promise").resolve()})}g.call=a}),98);
__d("MAWEphemeralMessageExpirationStorage.bs",["MAWBridgeDeleteMessagesHandler","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a,b,e){b.forEach(function(b){var e=b.ts,f=b.chatId,g=b.msgId;g={msgId:g,threadId:f,ts:e};f=b.chatId;e=[g];b={messages:e,threadId:f};c("promiseDone")(d("MAWBridgeDeleteMessagesHandler").call(a,b))});return h["delete"](e)}function j(a,b,d,e){return c("setTimeout")(function(){i(a,b,d)},e)}function a(a,b,d,e){var f=h.get(d);b=f==null?[b]:(c("clearTimeout")(f.timeoutId),f.msgs.map(function(a){return a.msgId}).indexOf(b.msgId)===-1?(f.msgs.push(b),void 0):void 0,f.msgs);f=j(a,b,d,e);h.set(d,{expirationTs:d,msgs:b,timeoutId:f})}function b(a){var b=a.msgId;a=h.get(a.countdownTs);if(a==null)return;b=a.msgs.map(function(a){return a.msgId}).indexOf(b);if(b>-1){a.msgs.splice(b,1);return}}e=a;f=b;g.setMessageForExpiration=e;g.clearMessageFromExpiration=f}),98);
__d("MAWBridgeMsgsStartCountdownHandler.bs",["MAWEphemeralMessageExpirationStorage.bs","MAWThreadId.bs","MAWTimeUtils","Promise","ReQL.bs","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){return e.msgs.reduce(function(e,f){return e.then(function(){d("MAWEphemeralMessageExpirationStorage.bs").setMessageForExpiration(a,f,f.countdownTs,f.millisecondsUntilCountdownTs);c("bs_caml_int64").of_int32(f.millisecondsUntilCountdownTs);return d("MAWThreadId.bs").toThreadKeyMaybe(a,f.chatId).then(function(e){if(e!==void 0)return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("messages")),{hd:e,tl:{hd:d("MAWTimeUtils").toTimestamp(f.ts),tl:{hd:f.msgId,tl:0}}})).then(function(d){if(d===void 0)return b("Promise").resolve();d=babelHelpers["extends"]({},d,{ephemeralExpirationTs:c("bs_caml_int64").of_float(f.countdownTs)});return a.table("messages").put(d)});else return b("Promise").resolve()})})},b("Promise").resolve())}g.call=a}),98);
__d("MAWBridgeNewMediaHandler",["I64","MAWDbMsg","MAWMedia.bs","MAWThreadId","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=c.duration,f=c.ephemeralMediaState,g=c.ephemeralMediaViewMode,h=c.filesize,i=c.hasMedia,j=c.mediaId,k=c.mediaType,l=c.msgIds,m=c.previewHeight,n=c.previewHeightLarge,o=c.previewWidth,p=c.previewWidthLarge;c=c.threadId;var q=(yield d("MAWThreadId").toThreadKeyMaybe(a,c));if(q==null)return;var r=j.toString();return b("Promise").all(l.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=a.table("attachments"),j=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(c).getKeyRange(q,b)));if(j!=null)return c.put(babelHelpers["extends"]({},j,{hasMedia:i}));j=d("I64").of_int32(d("MAWDbMsg").getInChatMsgIdFromMsgId(b));return c.add({attachmentFbid:r,attachmentIndex:d("I64").zero,attachmentType:d("MAWMedia.bs").mediaTypeToMessageAttachmentType(k,g),authorityLevel:d("I64").zero,ephemeralMediaState:f!=null?d("I64").of_int32(f):void 0,ephemeralMediaViewMode:g!=null?d("I64").of_int32(g):void 0,filesize:h==null?void 0:d("I64").of_int32(h),hasMedia:i,hasXma:!1,isSharable:!1,messageId:b,offlineAttachmentId:r,playableDurationMs:e==null?void 0:d("I64").of_int32(e),previewHeight:m==null?void 0:d("I64").of_int32(m),previewHeightLarge:n==null?void 0:d("I64").of_int32(n),previewWidth:o==null?void 0:d("I64").of_int32(o),previewWidthLarge:p==null?void 0:d("I64").of_int32(p),threadKey:q,timestampMs:j})});return function(a){return c.apply(this,arguments)}}()))});return i.apply(this,arguments)}function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield h(a,b)});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeNewMediaRangeHandler.bs",["LSFactory","LSThreadMediaGalleryGroup.bs","LSUpsertAttachmentRange","MAWThreadId.bs","Promise","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e){return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(f){if(f===void 0)return b("Promise").resolve();var g=c("bs_caml_int64").of_int32(e.minMsgRowId),h=e.hasMoreBefore;return c("LSUpsertAttachmentRange")(f,d("LSThreadMediaGalleryGroup.bs").photosAndVideos,g,h,c("LSFactory")(a))})}function a(a,b){return h(a,b).then(function(){})}g.call=a}),98);
__d("MAWBridgeNewMsgHandler.bs",["LSAuthorityLevel.bs","LSMessageUnsendabilityStatus.bs","LSMessageViewFlag.bs","LSQuickReplyType.bs","MAWAckLevel","MAWAdminMsgCTA.bs","MAWBridgeBuildMsg","MAWBridgeMsg","MAWMsg.bs","MAWMsgReply","MAWMsgReply.bs","MAWThreadId","MAWTimeUtils","MAWUpdateMsg","Promise","ReQL.bs","asyncToGeneratorRuntime","bs_belt_Option","bs_caml_format","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c,d,e,f){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){var i=d("MAWTimeUtils").toTimestamp(f.type_===d("MAWMsg.bs").unsent?c("bs_belt_Option").getWithDefault(f.originalTs,f.ts):f.ts);a=(yield d("MAWBridgeBuildMsg").buildMessage(a,b,f,i));return b.table("messages").add(babelHelpers["extends"]({},a,{adminMsgCtaId:g==null?void 0:g.ctaId,adminMsgCtaTitle:g==null?void 0:g.title,adminMsgCtaType:g==null?void 0:g.ctaType,authorityLevel:d("LSAuthorityLevel.bs").authoritative,cannotUnsendReason:f.type_===d("MAWMsg.bs").unsent||!f.isAuthorMe?d("LSMessageUnsendabilityStatus.bs").denyForNonSender:void 0,displayedContentTypes:d("MAWMsg.bs").getDisplayedContentTypes(f.type_,f.isForwarded,f.isExpiredXmaMsg),ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(f),ephemeralExpirationTs:void 0,forwardScore:void 0,hasQuickReplies:!1,hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(f),isAdminMessage:f.isAdminMessage,isCollapsed:!1,isForwarded:void 0,isUnsent:f.type_===d("MAWMsg.bs").unsent,localDataId:void 0,messageId:f.msgId,msUntilExpirationTs:void 0,offlineThreadingId:f.msgId,primarySortKey:c("bs_caml_int64").of_float(f.sortOrderMs),quickReplyType:d("LSQuickReplyType.bs").none,replyAttachmentExtra:void 0,replyAttachmentId:d("MAWMsgReply.bs").getReplyAttachmentId(f),replyAttachmentType:d("MAWMsgReply.bs").getReplyAttachmentType(f),replyCtaId:void 0,replyCtaTitle:void 0,replyMediaExpirationTimestampMs:d("MAWMsgReply.bs").getReplyMediaExpirationTimestampMs(f),replyMediaPreviewHeight:d("MAWMsgReply.bs").getReplyMediaHeight(f),replyMediaPreviewWidth:d("MAWMsgReply.bs").getReplyMediaWidth(f),replyMediaUrl:void 0,replyMediaUrlFallback:void 0,replyMediaUrlMimeType:d("MAWMsgReply.bs").getReplyMediaMimeType(f),replySnippet:h,replySourceId:d("MAWMsgReply.bs").getReplySourceId(f),replySourceTimestampMs:void 0,replySourceType:d("MAWMsgReply.bs").getReplySourceType(f),replySourceTypeV2:d("MAWMsgReply.bs").getReplySourceTypeV2(f),replyStatus:d("MAWBridgeBuildMsg").getReplyStatus(f),replyToUserId:d("MAWMsgReply.bs").getReplyUserId(f),replyType:void 0,secondarySortKey:void 0,senderId:c("bs_caml_format").caml_int64_of_string(f.sender),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(f.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(f.ack),stickerId:void 0,subscriptErrorMessage:void 0,takedownState:void 0,textHasLinks:!1,threadKey:e,timestampMs:i,unsentTimestampMs:d("MAWTimeUtils").toTimestamp(f.ts),viewedPluginContext:void 0,viewedPluginKey:void 0,viewFlags:d("LSMessageViewFlag.bs").uncalculated}))});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield d("MAWThreadId").toThreadKeyMaybe(b,e.chatId));if(f==null)return;var g=(yield d("MAWAdminMsgCTA.bs").getAdminMsgCtaStep(b,f,e)),i=(yield d("MAWMsgReply").getReplySnippet(a,b,e)),j=e.offlineMsg;if(j==null)return h(a,b,f,e,g,i);j=(yield d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("messages")),{hd:f,tl:{hd:c("bs_caml_int64").of_float(j.ts),tl:{hd:j.msgId,tl:0}}})));return j==null?h(a,b,f,e,g,i):d("MAWUpdateMsg").call(a,b,e,j,g,i)});return k.apply(this,arguments)}function a(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){yield b("Promise").all(d.filter(function(a){return!a.isDualSend}).map(function(b){return j(a,c,b)}))});return l.apply(this,arguments)}g.call=j;g.bulkCall=a}),98);
__d("MAWBridgeOneToOneMessageRequestLoadedHandler.bs",["fbt","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil","LSThreadBitOffset.bs","MAWContactRelationshipType","MAWDbContact","MAWMessageRequestUtil.bs","MAWThreadId.bs","Promise","ReQL.bs","bs_caml","bs_caml_format","bs_caml_int64","qex"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,e){return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(f){if(f!==void 0)return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:f,tl:0})).then(function(f){if(f===void 0)return b("Promise").resolve([void 0,void 0,void 0,!1]);var g=d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(e.fbid),tl:0}));return b("Promise").all([b("Promise").resolve(f),g,b("Promise").resolve(e.relationship),b("Promise").resolve(d("LSMessagingThreadTypeUtil").isOneToOne(f.threadType))])}).then(function(e){var f=e[0];if(f===void 0)return b("Promise").resolve();var g=e[1];if(g===void 0)return b("Promise").resolve();var i=e[2];if(i===void 0)return b("Promise").resolve();if(!e[3])return b("Promise").resolve();e=c("bs_caml").i64_neq(g.authorityLevel,d("LSAuthorityLevel.bs").authoritative)?i:d("MAWContactRelationshipType").getContactRelationshipType(g);if(f.folderName==="pending"||f.folderName==="other"||f.folderName==="spam"||f.folderName==="inbox"&&e===d("MAWDbContact").REVERSED_ONE_WAY_CONTACT&&c("bs_caml").i64_neq(f.lastActivityTimestampMs,c("bs_caml_int64").zero)){i=d("LSThreadBitOffset.bs").clear(d("MAWMessageRequestUtil.bs").disabledThreadCapabilitiesForIncomingRequest,f.capabilities,f.capabilities2,f.capabilities3);g=c("qex")._("1364")&&f.folderName==="inbox"?h._("__JHASH__4F6x7gUU1-S__JHASH__").toString():void 0;e=[d("LSThreadBitOffset.bs").set(d("MAWMessageRequestUtil.bs").enabledThreadCapabilitiesForIncomingRequest,i[0],i[1],i[2]),g]}else e=[[f.capabilities,f.capabilities2,f.capabilities3],void 0];i=e[0];g=babelHelpers["extends"]({},f,{capabilities3:i[2],capabilities2:i[1],additionalThreadContext:e[1],capabilities:i[0]});return a.table("threads").put(g).then(function(){})});else return b("Promise").resolve()})}g.call=a}),98);
__d("MAWBridgeParticipantRemovedHandler.bs",["MAWThreadId.bs","Promise","bs_caml_format"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(d){if(d===void 0)return b("Promise").resolve();var f=c("bs_caml_format").caml_int64_of_string(e.userId);return a.table("participants")["delete"]({hd:d,tl:{hd:f,tl:0}}).then(function(){})})}g.call=a}),98);
__d("MAWBridgeParticipantUpdatedHandler.bs",["fbt","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSFactory","LSGroupParticipantJoinState.bs","LSVerifyContactRowExists","MAWCurrentUser","MAWThreadId.bs","MAWTimeUtils","MAWUpdateLSThreadCapabilities.bs","Promise","ReQLTable.bs","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("MAWCurrentUser").getID(),j=c("bs_caml_format").caml_int64_of_string(i);function a(a){return a.startsWith("shadow_")}function e(a,e){if(e.fbid.startsWith("shadow_"))return b("Promise").resolve();else return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(f){if(f===void 0)return b("Promise").resolve();var g=c("bs_caml_format").caml_int64_of_string(e.fbid),k=d("MAWTimeUtils").toTimestamp(e.readWatermarkTs),l=d("MAWTimeUtils").toTimestamp(e.deliveredWatermarkTs),m=d("MAWTimeUtils").toTimestamp(e.lastReadActionTs),n=e.isSuperAdmin?h._("__JHASH__-gVxfbL98KU__JHASH__").toString():void 0,o={contents:!1},p={contents:!1};return d("ReQLTable.bs").update(a.table("participants"),{hd:f,tl:{hd:g,tl:0}},function(a){if(a!==void 0){p.contents=!0;return{authorityLevel:a.authorityLevel,contactId:g,deliveredWatermarkTimestampMs:l,groupParticipantJoinState:e.isInvited?d("LSGroupParticipantJoinState.bs").invited:d("LSGroupParticipantJoinState.bs").member,isAdmin:e.isAdmin,isModerator:!1,isSuperAdmin:a.isSuperAdmin,nickname:a.nickname,normalizedSearchTerms:a.normalizedSearchTerms,participantCapabilities:a.participantCapabilities,readActionTimestampMs:m,readWatermarkTimestampMs:k,subscribeSource:n,threadKey:f}}else{p.contents=!0;o.contents=!0;return{authorityLevel:c("bs_caml_int64").zero,contactId:g,deliveredWatermarkTimestampMs:l,groupParticipantJoinState:e.isInvited?d("LSGroupParticipantJoinState.bs").invited:d("LSGroupParticipantJoinState.bs").member,isAdmin:e.isAdmin,isModerator:!1,isSuperAdmin:e.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:c("bs_caml_int64").zero,readWatermarkTimestampMs:k,subscribeSource:n,threadKey:f}}}).then(function(){if(p.contents)return d("MAWUpdateLSThreadCapabilities.bs").disableBlockerCapabilitiesTxn(a,f).then(function(){var b=c("bs_caml").i64_eq(j,g),h=e.isAdmin;if(b)if(h)return d("MAWUpdateLSThreadCapabilities.bs").enableAddMembersTxn(a,f);else return d("MAWUpdateLSThreadCapabilities.bs").disableAddMembersTxn(a,f);else return window.Promise.resolve()});else return b("Promise").resolve()}).then(function(){if(o.contents)return c("LSVerifyContactRowExists")(g,d("LSContactIdType.bs").fbid,void 0,void 0,d("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,d("LSContactBlockedByViewerStatus.bs").unblocked,void 0,c("bs_caml_obj").caml_equal(i,e.fbid),d("LSAuthorityLevel.bs").optimistic,void 0,void 0,d("LSContactWorkForeignEntityType.bs").unknown,d("LSContactGender.bs").unknown,d("LSContactViewerRelationship.bs").unknown,void 0,c("LSFactory")(a));else return b("Promise").resolve()})})}g.currentUserId=i;g.currentUserIdAsInt64=j;g.checkIfDualSendUser=a;g.call=e}),98);
__d("MAWBridgeParticipantsUpdatedHandler.bs",["fbt","I64","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSFactory","LSGroupParticipantJoinState.bs","LSVerifyContactRowExists","MAWCurrentUser","MAWThreadId.bs","MAWTimeUtils","MAWUpdateLSThreadCapabilities.bs","Promise","ReQLTable.bs","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("MAWCurrentUser").getID(),j=c("bs_caml_format").caml_int64_of_string(i);function a(a){return a.startsWith("shadow_")}function e(a,e){e=e.participants.filter(function(a){return!a.fbid.startsWith("shadow_")});return b("Promise").all(e.map(function(e){return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(f){if(f===void 0)return b("Promise").resolve();var g=c("bs_caml_format").caml_int64_of_string(e.fbid),k=d("MAWTimeUtils").toTimestamp(e.readWatermarkTs),l=d("MAWTimeUtils").toTimestamp(e.deliveredWatermarkTs),m=d("MAWTimeUtils").toTimestamp(e.lastReadActionTs),n=e.isSuperAdmin?h._("__JHASH__-gVxfbL98KU__JHASH__").toString():void 0,o={contents:!1},p={contents:!1};return d("ReQLTable.bs").update(a.table("participants"),{hd:f,tl:{hd:g,tl:0}},function(a){if(a!==void 0){p.contents=!0;return{authorityLevel:a.authorityLevel,contactId:g,deliveredWatermarkTimestampMs:d("I64").equal(l,d("I64").zero)?a.deliveredWatermarkTimestampMs:l,groupParticipantJoinState:e.isInvited?d("LSGroupParticipantJoinState.bs").invited:d("LSGroupParticipantJoinState.bs").member,isAdmin:e.isAdmin,isModerator:!1,isSuperAdmin:a.isSuperAdmin,nickname:a.nickname,normalizedSearchTerms:a.normalizedSearchTerms,participantCapabilities:a.participantCapabilities,readActionTimestampMs:d("I64").equal(m,d("I64").zero)?a.readActionTimestampMs:m,readWatermarkTimestampMs:d("I64").equal(k,d("I64").zero)?a.readWatermarkTimestampMs:k,subscribeSource:n,threadKey:f}}else{p.contents=!0;o.contents=!0;return{authorityLevel:c("bs_caml_int64").zero,contactId:g,deliveredWatermarkTimestampMs:l,groupParticipantJoinState:e.isInvited?d("LSGroupParticipantJoinState.bs").invited:d("LSGroupParticipantJoinState.bs").member,isAdmin:e.isAdmin,isModerator:!1,isSuperAdmin:e.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:c("bs_caml_int64").zero,readWatermarkTimestampMs:k,subscribeSource:n,threadKey:f}}}).then(function(){if(p.contents)return d("MAWUpdateLSThreadCapabilities.bs").disableBlockerCapabilitiesTxn(a,f).then(function(){var b=c("bs_caml").i64_eq(j,g),h=e.isAdmin;if(b)if(h)return d("MAWUpdateLSThreadCapabilities.bs").enableAddMembersTxn(a,f);else return d("MAWUpdateLSThreadCapabilities.bs").disableAddMembersTxn(a,f);else return window.Promise.resolve()});else return b("Promise").resolve()}).then(function(){if(o.contents)return c("LSVerifyContactRowExists")(g,d("LSContactIdType.bs").fbid,void 0,void 0,d("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,d("LSContactBlockedByViewerStatus.bs").unblocked,void 0,c("bs_caml_obj").caml_equal(i,e.fbid),d("LSAuthorityLevel.bs").optimistic,void 0,void 0,d("LSContactWorkForeignEntityType.bs").unknown,d("LSContactGender.bs").unknown,d("LSContactViewerRelationship.bs").unknown,void 0,c("LSFactory")(a));else return b("Promise").resolve()})})})).then(function(){})}g.currentUserId=i;g.currentUserIdAsInt64=j;g.checkIfDualSendUser=a;g.call=e}),98);
__d("WAMsg",["$InternalEnum","WAAssertUnreachable","WAErr","WAJids","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2}),i=b("$InternalEnum")({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});b=b("$InternalEnum")({PLAYED:0,SCREENSHOTTED:1,FORCE_DISABLED:2});function a(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.XMA:case d("WAMsgType").MSG_TYPE.REACTION:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.RAVEN:return a;case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.RAVEN_ACTION:return null;default:return c("WAAssertUnreachable")(a.type)}}function e(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.XMA:case d("WAMsgType").MSG_TYPE.REACTION:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.RAVEN:return!0;case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.RAVEN_ACTION:return!1;default:return c("WAAssertUnreachable")(a.type)}}function j(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:return{externalId:a.id.externalId,author:a.id.author,ts:a.ts,sentTs:a.sentTs,serverTs:a.serverTs,expirationTs:a.expirationTs,deleteTs:a.deleteTs,ephemeralSetting:a.ephemeralSetting};case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:return{externalId:a.id.externalId,author:a.id.author,ts:a.ts,sentTs:a.sentTs};default:a.type;return null}}function f(a){var b=j(a);if(b==null)return null;switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.TEXT,msgContent:a.msgContent});case d("WAMsgType").MSG_TYPE.IMAGE:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.IMAGE,mediaId:a.mediaId});case d("WAMsgType").MSG_TYPE.VIDEO:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.VIDEO,mediaId:a.mediaId});case d("WAMsgType").MSG_TYPE.PTT:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.PTT,mediaId:a.mediaId});case d("WAMsgType").MSG_TYPE.STICKER:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.STICKER,mediaId:a.mediaId});case d("WAMsgType").MSG_TYPE.GIF:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.PTT,mediaId:a.mediaId});case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL});case d("WAMsgType").MSG_TYPE.UNAVAILABLE:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.UNAVAILABLE});case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.XMA:case d("WAMsgType").MSG_TYPE.REACTION:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.RAVEN_ACTION:case d("WAMsgType").MSG_TYPE.RAVEN:case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:return null;default:return c("WAAssertUnreachable")(a.type)}}function k(a){if(d("WAJids").isAuthorSystem(a.author))throw c("WAErr")("Cannot send @system messages");else return{author:a.author,chat:a.chat,externalId:a.externalId}}g.WARavenMsgEphemeralType=h;g.WARavenMsgEphemeralMediaState=i;g.WARavenActionNotifType=b;g.asRenderableMessage=a;g.isRenderableMessage=e;g.asQuotedMsg=f;g.asProtocolMsgId=k}),98);
__d("MAWBridgeRavenActionMsgForUIHandler",["I64","MAWRavenUtils","MAWThreadId","Promise","ReQL","WAMsg","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("MAWThreadId").toThreadKeyMaybe(a,c.threadId));if(e==null)return b("Promise").resolve();a=a.table("attachments");e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(e,c.ravenMsgId)));if(e==null)return b("Promise").resolve();if(e.ephemeralMediaState==null)return b("Promise").resolve();c=d("I64").to_int32(e.ephemeralMediaState);if(e.ephemeralMediaViewMode==null)return b("Promise").resolve();var f=d("I64").to_int32(e.ephemeralMediaViewMode);c=d("WAMsg").WARavenMsgEphemeralMediaState.cast(c);f=d("WAMsg").WARavenMsgEphemeralType.cast(f);if(c==null||f==null)return b("Promise").resolve();c=d("MAWRavenUtils").getNextRavenMessageEphemeralState(c,f);if(c!=null){e.ephemeralMediaState;f=babelHelpers.objectWithoutPropertiesLoose(e,["ephemeralMediaState"]);e=babelHelpers["extends"]({ephemeralMediaState:d("I64").of_int32(c)},f);c={hd:f.threadKey,tl:{hd:f.messageId,tl:{hd:f.attachmentFbid,tl:0}}};return a.upsert(c,e)}});return h.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeReactionUpsertHandler.bs",["LSAuthorityLevel.bs","MAWThreadId.bs","MAWTimeUtils","Promise","bs_caml_format"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e){return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(f){if(f!==void 0)return a.table("reactions").upsert({hd:f,tl:{hd:e.messageId,tl:{hd:c("bs_caml_format").caml_int64_of_string(e.actorId),tl:0}}},{actorId:c("bs_caml_format").caml_int64_of_string(e.actorId),authorityLevel:d("LSAuthorityLevel.bs").authoritative,messageId:e.messageId,reaction:e.reaction,threadKey:f,timestampMs:d("MAWTimeUtils").toTimestamp(e.ts)});else return b("Promise").resolve()})}function a(a,b){return h(a,b).then(function(){})}g.call=a}),98);
__d("MAWBridgeReceivedChatStateHandler.bs",["MAWThreadId.bs","Promise","ServerTime","WAChatState","bs_caml_format","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(f){if(f===void 0)return b("Promise").resolve();var g=c("bs_caml_format").caml_int64_of_string(e.senderId),h=c("bs_caml_int64").of_float(3e3+d("ServerTime").getMillis());if(e.state===d("WAChatState").TYPING)return a.table("typing_indicator").upsert({hd:f,tl:{hd:g,tl:0}},{expirationTimestampMs:h,senderId:g,threadKey:f}).then(function(){});else if(e.state===d("WAChatState").IDLE)return a.table("typing_indicator")["delete"]({hd:f,tl:{hd:g,tl:0}}).then(function(){});else return window.Promise.resolve()})}g.call=a}),98);
__d("MAWBridgeReceivedReceiptHandler.bs",["I64","MAWThreadId.bs","MAWTimeUtils","Promise","ReQL.bs","bs_caml_format"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(f){if(f===void 0)return b("Promise").resolve();var g=c("bs_caml_format").caml_int64_of_string(e.fbid),h=d("MAWTimeUtils").toTimestamp(e.lastReadWatermarkTs),i=d("MAWTimeUtils").toTimestamp(e.deliveredWatermarkTs),j=d("MAWTimeUtils").toTimestamp(e.lastReadActionTs);return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:f,tl:{hd:g,tl:0}})).then(function(c){if(c!==void 0)return a.table("participants").put({authorityLevel:c.authorityLevel,contactId:c.contactId,deliveredWatermarkTimestampMs:d("I64").equal(i,d("I64").zero)?c.deliveredWatermarkTimestampMs:i,groupParticipantJoinState:c.groupParticipantJoinState,isAdmin:c.isAdmin,isModerator:c.isModerator,isSuperAdmin:c.isSuperAdmin,nickname:c.nickname,normalizedSearchTerms:c.normalizedSearchTerms,participantCapabilities:c.participantCapabilities,readActionTimestampMs:d("I64").equal(j,d("I64").zero)?c.readActionTimestampMs:j,readWatermarkTimestampMs:d("I64").equal(h,d("I64").zero)?c.readWatermarkTimestampMs:h,subscribeSource:c.subscribeSource,threadKey:c.threadKey});else return b("Promise").resolve()}).then(function(){})})}g.call=a}),98);
__d("MAWBridgeSyncContacts.bs",["CurrentUser","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSFactory","LSVerifyContactRowExists","Promise","bs_caml_format","bs_caml_obj"],(function(a,b,c,d,e,f,g){"use strict";var h=c("CurrentUser").getID();function a(a,e){return e.reduce(function(b,e){var f=c("bs_caml_format").caml_int64_of_string(e);return b.then(function(){return c("LSVerifyContactRowExists")(f,d("LSContactIdType.bs").fbid,void 0,void 0,d("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,d("LSContactBlockedByViewerStatus.bs").unblocked,void 0,c("bs_caml_obj").caml_equal(h,e),d("LSAuthorityLevel.bs").optimistic,void 0,void 0,d("LSContactWorkForeignEntityType.bs").unknown,d("LSContactGender.bs").unknown,d("LSContactViewerRelationship.bs").unknown,void 0,c("LSFactory")(a))}).then(function(){})},b("Promise").resolve())}g.currentUserFbid=h;g.call=a}),98);
__d("MAWBridgeBuildThreadSnippet",["MAWAdminMsg","MAWBridgeBuildMsgMentions","MAWLocalizationType","MAWThreadId","MAWVault","ReQL","asyncToGeneratorRuntime","first"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a!=null?d("MAWVault").unvault(a):void 0}function i(a,b,c){if(a==null)return b;b=[].concat(b);switch(c){case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:b[0]=a;break}return b}function a(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=e.snippetContactIDs,j=e.snippetMentionJIDs,l=e.snippetParams,m=e.snippetType,n=e.threadId;if(l==null||m==null||g==null)return f;e=(yield d("MAWBridgeBuildMsgMentions").buildThreadSnippetWithMentions(a,b,n,h(c("first")(l)),j,g,m,function(b){var c=b[0];b=b[1];c=d("MAWAdminMsg").buildLocalizedString(i(c,l,m),b,m);return k(a,n,c)}));f=e[0];b=e[1];return d("MAWAdminMsg").buildLocalizedString(i(f,l,m),b,m)});return j.apply(this,arguments)}function k(a,c,e){return a.runInTransaction(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=(yield d("MAWThreadId").toThreadKeyMaybe(a,c));if(f==null)return;b=b.table("threads");f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b).getKeyRange(f)));f&&(yield b.put(babelHelpers["extends"]({},f,{snippet:e})))});return function(a){return f.apply(this,arguments)}}(),"readwrite")}g.buildBridgeThreadSnippet=a;g.mutateThreadSnippet=k}),98);
__d("MWV2DualSendMessageContent.bs",["MAWVault.bs"],(function(a,b,c,d,e,f,g){"use strict";var h="8031ded1058446aa93ccf8dace0eaf876dd5e32771904d5eb0058a0afdc724ce120dcba542d84548ac3f4a2741c45c0d",i="9031ded1058446aa93ccf8dace0eaf876dd5e32771904d5eb0058a0afdc724ce120dcba542d84548ac3f4a2741c45c0d";function a(a){if(a===void 0)return!1;a=d("MAWVault.bs").unvault(a);if(a.endsWith(h))return!0;else return a.endsWith(i)}g.messageText=h;g.messageTextV2=i;g.isDualSend=a}),98);
__d("MAWBridgeThreadBumpedHandler.bs",["I64","MAWBridgeBuildThreadSnippet","MAWBumpThread.bs","MAWThreadId","MAWTimeUtils","MWV2DualSendMessageContent.bs","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("MAWThreadId").toThreadKeyMaybe(b,c.threadId));if(e==null)return;var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(e)));if(f==null)return;a=(yield d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(a,b,c,f.snippet));if(d("MWV2DualSendMessageContent.bs").isDualSend(a))return;f=c.snippetSenderContactId!=null?d("I64").of_string(c.snippetSenderContactId):void 0;return d("MAWBumpThread.bs").threadMutation(b,e,d("MAWTimeUtils").millisTimeToTimestamp(c.lastActivityTs),d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadTs),a,f)});return h.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeThreadBumpedServerHandler",["I64","LSBumpE2EEMetadataThread","LSFactory","MAWGating","MAWThreadId","MAWTimeUtils","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Bumping thread on server. threadKey: ",", bumpTimestampMs: ",", isLocalDeviceSend: ",""]);h=function(){return a};return a}function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("MAWGating").isOccamadillo()||b.isDualSend)return;return d("MAWThreadId").toThreadKeyMaybe(a,b.threadId).then(function(e){if(e==null)return;var f=b.lastActivityTs;f=d("MAWTimeUtils").millisTimeToTimestamp(f);c("promiseDone")(d("WALoggerDeferred").LOG(h(),d("I64").to_string(e),d("I64").to_string(f),b.isCurrentDeviceSendingMsg));return c("LSBumpE2EEMetadataThread")(e,f,b.isCurrentDeviceSendingMsg,c("LSFactory")(a))})});return i.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeThreadHiddenHandler.bs",["LSFactory","LSOptimisticRemoveThread","LSThreadRemoveType.bs","MAWGating","MAWThreadId.bs","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){return d("MAWThreadId.bs").toThreadKeyMaybe(a,e).then(function(e){if(e===void 0)return b("Promise").resolve();if(!d("MAWGating").isOccamadillo())return a.table("threads")["delete"]({hd:e,tl:0}).then(function(){});var f=c("LSFactory")(a);return c("LSOptimisticRemoveThread")(e,d("LSThreadRemoveType.bs").deleteThread,f)})}g.call=a}),98);
__d("MAWBridgeThreadTimestampsHandler.bs",["CurrentUser","MAWThreadId.bs","MAWTimeUtils","Promise","ReQL.bs","bs_caml_format"],(function(a,b,c,d,e,f,g){"use strict";function h(a,c){return d("MAWThreadId.bs").toThreadKeyMaybe(a,c.threadId).then(function(e){if(e!==void 0)return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:e,tl:0})).then(function(e){if(e===void 0)return b("Promise").resolve();e=babelHelpers["extends"]({},e,{lastReadWatermarkTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs)});return a.table("threads").put(e)});else return b("Promise").resolve()})}function a(a,e){return h(a,e).then(function(){return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(f){if(f===void 0)return b("Promise").resolve();var g=c("bs_caml_format").caml_int64_of_string(c("CurrentUser").getID());return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:f,tl:{hd:g,tl:0}})).then(function(c){if(c!==void 0)return a.table("participants").put({authorityLevel:c.authorityLevel,contactId:c.contactId,deliveredWatermarkTimestampMs:c.deliveredWatermarkTimestampMs,groupParticipantJoinState:c.groupParticipantJoinState,isAdmin:c.isAdmin,isModerator:c.isModerator,isSuperAdmin:c.isSuperAdmin,nickname:c.nickname,normalizedSearchTerms:c.normalizedSearchTerms,participantCapabilities:c.participantCapabilities,readActionTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(e.lastActivityTimestampMs),readWatermarkTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(e.lastReadWatermarkTs),subscribeSource:c.subscribeSource,threadKey:c.threadKey});else return b("Promise").resolve()})})}).then(function(){})}g.call=a}),98);
__d("MAWBridgeThreadUpdatedHandler.bs",["I64","LSBitOffset","MAWBridgeBuildThreadSnippet","MAWFolderTypes","MAWFolderUtils","MAWGating","MAWThreadId","MWV2DualSendMessageContent.bs","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return b===d("MAWFolderTypes").FOLDER_ID.ARCHIVED&&!c?d("LSBitOffset").clear(d("I64").sub(d("I64").of_int32(64),[0,64]),d("LSBitOffset").set(d("I64").sub(d("I64").of_int32(65),[0,64]),a)):a}function i(a,b,c){return b===d("MAWFolderTypes").FOLDER_ID.INBOX&&!c?d("LSBitOffset").clear(d("I64").sub(d("I64").of_int32(65),[0,64]),d("LSBitOffset").set(d("I64").sub(d("I64").of_int32(64),[0,64]),a)):a}function j(a,b){return b!==void 0&&b==="viewer_not_subscribed"?d("LSBitOffset").clear(d("I64").sub(d("I64").of_int32(28),[0,64]),a):a}function k(a,b){var c=b.folder!=null?d("MAWFolderUtils").getMessagingFolderTag(b.folder):a.folderName;return(b=b.cannotReplyReason)!=null?b:c==="inbox"?void 0:a.cannotReplyReason}function a(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=c.folder,f=c.muteExpireTimeMs,g=c.snippetSenderContactId,l=c.threadId,m=d("MAWGating").isOccamadillo();l=(yield d("MAWThreadId").toThreadKeyMaybe(b,l));if(l==null)return;l=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(l)));if(l==null)return;a=(yield d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(a,b,c,l.snippet));var n=e==null||m?l.folderName:d("MAWFolderUtils").getMessagingFolderTag(e);c=k(l,c);return b.table("threads").put(babelHelpers["extends"]({},l,{capabilities2:j(h(i(l.capabilities2,e,m),e,m),c),parentThreadKey:e!=null&&!m?d("MAWFolderUtils").getSystemFolder(e):l.parentThreadKey,cannotReplyReason:c,snippetSenderContactId:g==null?l.snippetSenderContactId:d("I64").of_string(g),snippet:d("MWV2DualSendMessageContent.bs").isDualSend(a)?l.snippet:a,muteExpireTimeMs:f==null||m?l.muteExpireTimeMs:d("I64").of_float(f),folderName:m?l.folderName:n}))});return l.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeThreadsLoadedHandler.bs",["MAWFolderUtils","MAWThreadId.bs","MAWTimeUtils","MAWTimeUtils.bs","Promise","ReQL.bs","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){var f;switch(e.TAG){case 0:case 1:case 2:f=d("MAWFolderUtils").getClientSystemFolder(e._0.folderId);break}return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads_ranges_v2__generated")),{hd:f,tl:0})).then(function(g){if(g!==void 0)return a.table("threads_ranges_v2__generated")["delete"]({hd:g.parentThreadKey,tl:{hd:g.minThreadKey,tl:{hd:g.minLastActivityTimestampMs,tl:0}}}).then(function(){switch(e.TAG){case 0:case 1:break;case 2:var c=e._0;return d("MAWThreadId.bs").toThreadKeyMaybe(a,c.minThreadId).then(function(e){if(e!==void 0)return a.table("threads_ranges_v2__generated").put({hasMoreAfter:g.hasMoreAfter,hasMoreBefore:c.hasMore,isLoadingAfter:g.isLoadingAfter,isLoadingBefore:!1,maxLastActivityTimestampMs:g.maxLastActivityTimestampMs,maxThreadKey:g.maxThreadKey,minLastActivityTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.minLastActivityTs),minThreadKey:e,parentThreadKey:g.parentThreadKey});else return b("Promise").resolve()})}return a.table("threads_ranges_v2__generated").put({hasMoreAfter:g.hasMoreAfter,hasMoreBefore:g.hasMoreBefore,isLoadingAfter:g.isLoadingAfter,isLoadingBefore:!1,maxLastActivityTimestampMs:g.maxLastActivityTimestampMs,maxThreadKey:g.maxThreadKey,minLastActivityTimestampMs:g.minLastActivityTimestampMs,minThreadKey:g.minThreadKey,parentThreadKey:g.parentThreadKey})});switch(e.TAG){case 0:return a.table("threads_ranges_v2__generated").put({hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:d("MAWTimeUtils.bs").maxTimestampMs,maxThreadKey:c("bs_caml_int64").zero,minLastActivityTimestampMs:d("MAWTimeUtils.bs").maxTimestampMs,minThreadKey:c("bs_caml_int64").zero,parentThreadKey:f});case 1:var h=e._0;return b("Promise").all([d("MAWThreadId.bs").toThreadKeyMaybe(a,h.minThreadId),d("MAWThreadId.bs").toThreadKeyMaybe(a,h.maxThreadId)]).then(function(c){var e=c[1];c=c[0];if(c!==void 0&&e!==void 0)return a.table("threads_ranges_v2__generated").add({hasMoreAfter:!1,hasMoreBefore:h.hasMore,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(h.maxLastActivityTs),maxThreadKey:e,minLastActivityTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(h.minLastActivityTs),minThreadKey:c,parentThreadKey:f});else return b("Promise").resolve()});case 2:return b("Promise").resolve()}})}g.call=a}),98);
__d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("Promise").resolve()}f.call=a}),66);
__d("MAWUpdateClientRestoreStatusOperationType.bs",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;f.upsertClientRestoreStatus=a;f.removeClientRestoreStatus=b}),66);
__d("MAWBridgeUpdateClientRestoreStatus.bs",["MAWUpdateClientRestoreStatusOperationType.bs","Promise","ReQL.bs","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function h(a,c){return d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(a.table("encrypted_backups_client_restore_status")),function(a){return a.threadId===c})).then(function(c){if(c!==void 0)return a.table("encrypted_backups_client_restore_status")["delete"]({hd:c.threadId,tl:0}).then(function(){});else return b("Promise").resolve()})}function a(a){return d("ReQL.bs").toArray(d("ReQL.bs").fromTableAscending(a.table("encrypted_backups_client_restore_status"))).then(function(c){return c.reduce(function(b,c){return b.then(function(){return h(a,c.threadId)})},b("Promise").resolve())})}function e(a,b){var e=b.action;if(e===d("MAWUpdateClientRestoreStatusOperationType.bs").upsertClientRestoreStatus){e=b.threadId;return a.table("encrypted_backups_client_restore_status").put({lastUpdated:c("bs_caml_int64").of_float(Date.now()),threadId:e})}else return h(a,b.threadId)}g.truncateClientRestoreStatusTable=a;g.call=e}),98);
__d("MAWBridgeUpdateE2EEMetadataParticipantsHandler.bs",["LSFactory","LSUpdateE2EEMetadataParticipants","MAWThreadId.bs","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(d){if(d!==void 0)return c("LSUpdateE2EEMetadataParticipants")(d,c("LSFactory")(a));else return b("Promise").resolve()})}g.call=a}),98);
__d("MAWBridgeUpdateMinMessageHandler.bs",["MAWThreadId.bs","Promise","ReQL.bs","ReQLTable.bs","bs_caml_int64","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){var f=c("bs_caml_int64").of_float(e.minTimestampMs),g=e.minMessageId;return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(h){if(h!==void 0)return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("messages_ranges_v2__generated")),{hd:h,tl:0})).then(function(b){if(b===void 0)return;var i=e.hasMoreBefore,j=i!==void 0?i:b.hasMoreBefore;return d("ReQLTable.bs").update(a.table("messages_ranges_v2__generated"),{hd:h,tl:{hd:b.minTimestampMs,tl:{hd:b.minMessageId,tl:0}}},function(a){if(a!==void 0)return{hasMoreAfter:a.hasMoreAfter,hasMoreBefore:j,isLoadingAfter:a.isLoadingAfter,isLoadingBefore:a.isLoadingBefore,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:g,minTimestampMs:f,threadKey:a.threadKey};throw c("unrecoverableViolation")("Thread is missing in updating the min message in message range","messenger_e2ee_web")})});else return b("Promise").resolve()})}g.call=a}),98);
__d("MAWBridgeXMAShareExpiredHandler.bs",["MAWThreadId.bs","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){var e=String(c.xmaId);return d("MAWThreadId.bs").toThreadKeyMaybe(a,c.threadId).then(function(d){if(d!==void 0)return a.table("attachments").get({hd:d,tl:{hd:c.msgId,tl:{hd:e,tl:0}}}).then(function(f){if(f===void 0)return b("Promise").resolve();f=[f.defaultCtaId,f.attachmentCta1Id,f.attachmentCta2Id,f.attachmentCta3Id].filter(Boolean);f=f.map(function(b){return a.table("attachment_ctas")["delete"]({hd:b,tl:0})});return b("Promise").all(f).then(function(){return a.table("attachments")["delete"]({hd:d,tl:{hd:c.msgId,tl:{hd:e,tl:0}}})})});else return b("Promise").resolve()})}g.call=a}),98);
__d("MAWBridgeXMAShareTombstonedHandler.bs",["MAWThreadId.bs","Promise","ReQL.bs","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){var f=String(e.xmaId);return d("MAWThreadId.bs").toThreadKeyMaybe(a,e.threadId).then(function(g){if(g!==void 0)return a.table("attachments").get({hd:g,tl:{hd:e.msgId,tl:{hd:f,tl:0}}}).then(function(h){if(h===void 0)return b("Promise").resolve();h=[h.defaultCtaId,h.attachmentCta1Id,h.attachmentCta2Id,h.attachmentCta3Id].filter(Boolean);h=h.map(function(b){return a.table("attachment_ctas")["delete"]({hd:b,tl:0})});return b("Promise").all(h).then(function(){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("attachments")),{hd:g,tl:{hd:e.msgId,tl:{hd:f,tl:0}}})).then(function(d){if(d!==void 0){d=babelHelpers["extends"]({},d,{previewHeightLarge:void 0,previewWidthLarge:void 0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,subtitleText:void 0,titleText:void 0,previewHeight:void 0,previewWidth:void 0,cta3Type:void 0,cta3Title:void 0,attachmentCta3Id:void 0,cta2Type:void 0,cta2Title:void 0,attachmentCta2Id:void 0,cta1Type:void 0,cta1Title:void 0,attachmentCta1Id:void 0,defaultCtaTitle:void 0,defaultCtaId:void 0});return a.table("attachments").put(d)}c("recoverableViolation")("Trying to tombstone a secure xma attachment but no existing attachment","messenger_e2ee_web");return b("Promise").resolve()})})});else return b("Promise").resolve()})}g.call=a}),98);
__d("MAWBridgeUIEventHandler.bs",["FBLogger","JSResourceForInteraction","MAWAbPropsClient","MAWBridgeDeleteGroupInviteHandler","MAWBridgeDeleteMessageRangesV2Handler","MAWBridgeDeleteMessagesHandler","MAWBridgeDeleteReactionHandler","MAWBridgeDropAllSecureThreadsHandler","MAWBridgeEphemeralSettingsUpdatedForUIHandler","MAWBridgeGroupInfoUpdatedHandler","MAWBridgeGroupInviteUpdateHandler","MAWBridgeInitOfflineQueueSyncCompleteHandler.bs","MAWBridgeInitOfflineQueueSyncProgressHandler.bs","MAWBridgeInitOfflineQueueSyncStartHandler.bs","MAWBridgeInitSyncCompleteHandler.bs","MAWBridgeMediaExpiredHandler.bs","MAWBridgeMsgUpdatedHandler.bs","MAWBridgeMsgsLoadedHandler.bs","MAWBridgeMsgsStartCountdownHandler.bs","MAWBridgeNewMediaHandler","MAWBridgeNewMediaRangeHandler.bs","MAWBridgeNewMsgHandler.bs","MAWBridgeNewXMAHandler.bs","MAWBridgeOneToOneMessageRequestLoadedHandler.bs","MAWBridgeParticipantRemovedHandler.bs","MAWBridgeParticipantUpdatedHandler.bs","MAWBridgeParticipantsUpdatedHandler.bs","MAWBridgeRavenActionMsgForUIHandler","MAWBridgeReactionUpsertHandler.bs","MAWBridgeReceivedChatStateHandler.bs","MAWBridgeReceivedReceiptHandler.bs","MAWBridgeSyncContacts.bs","MAWBridgeThreadBumpedHandler.bs","MAWBridgeThreadBumpedServerHandler","MAWBridgeThreadHiddenHandler.bs","MAWBridgeThreadTimestampsHandler.bs","MAWBridgeThreadUpdatedHandler.bs","MAWBridgeThreadsLoadedHandler.bs","MAWBridgeUIEventQPLLogger","MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler","MAWBridgeUpdateClientRestoreStatus.bs","MAWBridgeUpdateE2EEMetadataParticipantsHandler.bs","MAWBridgeUpdateMinMessageHandler.bs","MAWBridgeXMAShareExpiredHandler.bs","MAWBridgeXMAShareTombstonedHandler.bs","MAWDualSendSimplePermissionsManager.bs","MAWEphemeralMessageExpirationStorage.bs","MAWGating","Promise","Promise.bs","WATimeUtils","bs_caml_option","bs_js_exn","cr:646","promiseDone","recoverableViolation","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWBridgeIssuePointQueryHandler.bs").__setRef("MAWBridgeUIEventHandler.bs"),i=c("requireDeferred")("MAWBridgeStartTraceHandler.bs").__setRef("MAWBridgeUIEventHandler.bs"),j=c("requireDeferred")("MAWBridgeStartTraceWithTraceIdHandler.bs").__setRef("MAWBridgeUIEventHandler.bs"),k=c("requireDeferred")("MAWBridgeTraceRecordCheckpointHandler.bs").__setRef("MAWBridgeUIEventHandler.bs"),l=c("requireDeferred")("MAWBridgeUpdateDyiStatus.bs").__setRef("MAWBridgeUIEventHandler.bs"),m=c("requireDeferred")("MAWBridgeUpdateTraceHandler.bs").__setRef("MAWBridgeUIEventHandler.bs"),n=c("requireDeferred")("MAWBridgeUploadMessageHandler.bs").__setRef("MAWBridgeUIEventHandler.bs"),o=c("requireDeferred")("MAWBridgeUploadThreadHandler.bs").__setRef("MAWBridgeUIEventHandler.bs");function a(a,e){a=a.then(function(a){return a.runInTransaction(function(f){var g=d("MAWGating").isArmadillo(),p=d("MAWDualSendSimplePermissionsManager.bs").isDualSendUser(),q=function(e){if(!g&&!p)return c("recoverableViolation")("User is neither part of armadillo QE and dual send QE but somehow loaded this handler","messenger_web_product");switch(e.TAG){case 0:var q=e._0;if(q.isDualSend)return b("Promise").resolve();else return d("MAWBridgeNewMsgHandler.bs").call(a,f,q);case 1:return d("MAWBridgeMsgsStartCountdownHandler.bs").call(f,e._0);case 2:return d("MAWEphemeralMessageExpirationStorage.bs").clearMessageFromExpiration(e._0);case 3:return d("MAWBridgeDropAllSecureThreadsHandler").call(f);case 4:q=e._0;return b("cr:646").call(f,q);case 5:q=e._0;if(q.isDualSend)return b("Promise").resolve();else return d("MAWBridgeMsgUpdatedHandler.bs").call(a,f,q);case 6:return d("MAWBridgeNewMediaHandler").call(f,e._0);case 7:return d("MAWBridgeNewMediaRangeHandler.bs").call(f,e._0);case 8:return d("MAWBridgeMediaExpiredHandler.bs").call(f,e._0);case 9:return d("MAWBridgeXMAShareExpiredHandler.bs").call(f,e._0);case 10:return d("MAWBridgeNewXMAHandler.bs").call(f,e._0);case 11:return d("MAWBridgeXMAShareTombstonedHandler.bs").call(f,e._0);case 12:return d("MAWBridgeParticipantUpdatedHandler.bs").call(f,e._0);case 13:return d("MAWBridgeParticipantRemovedHandler.bs").call(f,e._0);case 14:return d("MAWBridgeUpdateE2EEMetadataParticipantsHandler.bs").call(f,e._0);case 15:return d("MAWBridgeReceivedReceiptHandler.bs").call(f,e._0);case 16:return d("MAWBridgeThreadUpdatedHandler.bs").call(a,f,e._0);case 17:return d("MAWBridgeGroupInfoUpdatedHandler").call(f,e._0);case 18:return d("MAWBridgeThreadBumpedHandler.bs").call(a,f,e._0);case 19:return d("MAWBridgeThreadsLoadedHandler.bs").call(f,e._0);case 20:return d("MAWBridgeThreadTimestampsHandler.bs").call(f,e._0);case 21:return d("MAWBridgeMsgsLoadedHandler.bs").call(f,e._0);case 22:return d("MAWBridgeInitSyncCompleteHandler.bs").call(f);case 23:var r=e._0;return i.load().then(function(a){return a.call(f,r)});case 24:var s=e._0;return m.load().then(function(a){return a.call(f,s)});case 25:return d("MAWBridgeThreadHiddenHandler.bs").call(f,e._0);case 26:return d("MAWBridgeSyncContacts.bs").call(f,e._0);case 27:return d("MAWBridgeReceivedChatStateHandler.bs").call(f,e._0);case 28:return window.Promise.resolve((d("WATimeUtils").setClockSkew(e._0),void 0));case 29:return d("MAWAbPropsClient").rewrite(e._0);case 30:return d("MAWBridgeReactionUpsertHandler.bs").call(f,e._0);case 31:return d("MAWBridgeDeleteReactionHandler").call(f,e._0);case 32:var t=e._0;return n.load().then(function(a){return a.call(f,t)});case 33:var u=e._0;return o.load().then(function(a){return a.call(f,u)});case 34:var v=e._0;return c("JSResourceForInteraction")("MAWBridgeCallFinishAddDeviceHandler.bs").__setRef("MAWBridgeUIEventHandler.bs").load().then(function(a){return a.call(f,v)});case 35:var w=e._0;return c("JSResourceForInteraction")("MAWBridgeUploadAttachmentHandler.bs").__setRef("MAWBridgeUIEventHandler.bs").load().then(function(a){return a.call(f,w)});case 36:var x=e._0;return c("JSResourceForInteraction")("MAWBridgeResignAttachmentCDNUrlHandler.bs").__setRef("MAWBridgeUIEventHandler.bs").load().then(function(a){return a.call(f,x)});case 37:return d("MAWBridgeDeleteMessagesHandler").call(f,e._0);case 38:var y=e._0;return c("JSResourceForInteraction")("MAWBridgeRestoreMessageBatchHandler.bs").__setRef("MAWBridgeUIEventHandler.bs").load().then(function(a){return a.call(f,y)});case 39:return d("MAWBridgeOneToOneMessageRequestLoadedHandler.bs").call(f,e._0);case 40:return d("MAWBridgeGroupInviteUpdateHandler").call(f,e._0);case 41:return d("MAWBridgeInitOfflineQueueSyncStartHandler.bs").call(f,e._0);case 42:return d("MAWBridgeInitOfflineQueueSyncCompleteHandler.bs").call(f);case 43:return d("MAWBridgeInitOfflineQueueSyncProgressHandler.bs").call(f,e._0);case 44:var z=e._0;return l.load().then(function(a){return a.call(f,z)});case 45:return d("MAWBridgeDeleteGroupInviteHandler").call(f,e._0);case 46:var A=e._0;return k.load().then(function(a){return a.call(f,A)});case 47:return d("MAWBridgeDeleteMessageRangesV2Handler").call(f,e._0);case 48:return d("MAWBridgeUpdateMinMessageHandler.bs").call(f,e._0);case 49:var B=e._0;return h.load().then(function(a){return a.call(f,B)});case 50:return d("MAWBridgeThreadBumpedServerHandler").call(f,e._0);case 51:return d("MAWBridgeParticipantsUpdatedHandler.bs").call(f,e._0);case 52:var C=e._0;return j.load().then(function(a){return a.call(f,C)});case 53:return d("MAWBridgeUpdateClientRestoreStatus.bs").call(f,e._0);case 54:return d("MAWBridgeNewMsgHandler.bs").bulkCall(a,f,e._0.msgs);case 55:return d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler").call(f,e._0);case 56:return d("MAWBridgeEphemeralSettingsUpdatedForUIHandler").call(f,e._0);case 57:return d("MAWBridgeRavenActionMsgForUIHandler").call(f,e._0)}};return e.reduce(function(a,b){var c=d("MAWBridgeUIEventQPLLogger").getInstanceKey();return a.then(function(){d("MAWBridgeUIEventQPLLogger").start(c,b);return q(b)}).then(function(a){d("MAWBridgeUIEventQPLLogger").endSuccess(c);return a})},b("Promise").resolve())},"readwrite")});c("promiseDone")(a,void 0,function(a){a=a.RE_EXN_ID===d("Promise.bs").JsError||a.RE_EXN_ID===c("bs_js_exn").$$Error?c("bs_caml_option").some(a._1):a;c("FBLogger")("messenger_e2ee_web").catching(a).warn("Error handling UI Event")})}g.handleEvents=a}),98);
__d("MAWThreadDefaults.bs",["fbt","LSBitOffset","LSThreadCapabilityBitOffset.bs","MAWGating","bs_caml_int64","gkx","qex"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){if(d("MAWGating").isRepliesEnabled())return d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").messageReply,a);else return a}function b(a){if(c("gkx")("7045"))return d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").gif,a);else return a}function e(a){return c("qex")._("227")?d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").emojiCustomization,a):a}function f(a){return c("qex")._("229")?d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").colorCustomization,a):a}function i(a){return c("qex")._("231")?d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").nicknames,a):a}var j=d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").rtcVideoCall,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").reactions,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").filePicker,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").feedbackAndReport,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").audioClips,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").threadDetails,d("LSBitOffset").empty))))))),k=a(b(e(f(i(d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").block,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").muteThread,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").createGroup,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").mentions,j))))))))),l=d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").feedbackAndReport,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").threadNameCustomization,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").blockGroupMember,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").memberList,d("LSBitOffset").set(d("LSThreadCapabilityBitOffset.bs").leaveThread,d("LSBitOffset").clear(d("LSThreadCapabilityBitOffset.bs").addMember,k))))));function m(a){return c("bs_caml_int64").sub(a,[0,64])}var n=d("LSBitOffset").set(c("bs_caml_int64").sub(d("LSThreadCapabilityBitOffset.bs").messageForward,[0,64]),d("LSBitOffset").set(c("bs_caml_int64").sub(d("LSThreadCapabilityBitOffset.bs").restrictContact,[0,64]),d("LSBitOffset").set(c("bs_caml_int64").sub(d("LSThreadCapabilityBitOffset.bs").threadDetailsDeleteThread,[0,64]),d("LSBitOffset").set(c("bs_caml_int64").sub(d("LSThreadCapabilityBitOffset.bs").unarchiveThread,[0,64]),d("LSBitOffset").set(c("bs_caml_int64").sub(d("LSThreadCapabilityBitOffset.bs").archiveThread,[0,64]),d("LSBitOffset").empty)))));h=h._("__JHASH__9ZFn8zMzjpf__JHASH__").toString();g.setReplyCapability=a;g.setGifCapability=b;g.setHotlikeCustomizationCapability=e;g.setThemeCustomizationCapability=f;g.setNicknameCapability=i;g.defaultOptimisticThreadCapabilities=j;g.defaultThreadCapabilities=k;g.defaultGroupThreadCapabilities=l;g.makeOffset=m;g.defaultThreadCapabilities_2=n;g.nullstateDescriptionText1=h;g.defaultThreadCapabilities_3=d("LSBitOffset").empty}),98);
__d("LSCoreClientFolderType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:0,PENDING:1,OTHER:2,SPAM:3,ARCHIVED:4,HIDDEN:5,RESTRICTED:15});f["default"]=a}),66);
__d("MAWBridgeOccamadilloVerifyThreadExistsHandler",["I64","LSAuthorityLevel","LSCoreClientFolderType","LSCreateE2EEMetadataThread","LSCreateOfflineThreadingID","LSFactory","MAWFolderUtils","MAWJidUtils","MAWThreadDefaults.bs","MAWTimeUtils","MessagingThreadType.bs","Promise","ReQL","WALogger","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 4. Authoritative thread, we have it in the miActMapping table already for chatId: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 3. Authoritative thread, we have it in the mapping but and we are replacing the serverThreadKey for chatId: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 2. Authoritative thread, we don't have it in miActMapping table yet for chatId: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 1. Optimistic thread or backfill thread, we need to upgrade to authoritative thread for chatId: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Thread is missing in Occamadillo verify thread exists"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Creating e2ee metadata optimistic thread.\n  threadKey: ","\n  bumpTimestampMs: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Detected 0 for last activity timestamp from MI for thread: ",", using local state timestamp: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] no folder type was supplied to Occamadillo verify thread exists handler"]);o=function(){return a};return a}function p(a){return d("I64").of_string(d("MAWJidUtils").threadIdForChatJid(a))}function q(a){a=d("MAWFolderUtils").systemFolderToLSCoreClientFolder(a);a==null&&(d("WALogger").ERROR(o()),a=d("I64").of_int32(c("LSCoreClientFolderType").INBOX));return a}function r(a,e){return e==null?c("LSCreateOfflineThreadingID")(d("I64").of_float(Date.now()),a).then(function(a){return a[0]}):b("Promise").resolve(d("I64").of_string(e))}function s(a){a=d("MAWTimeUtils").millisTimeToTimestamp(a);return d("I64").equal(a,d("I64").of_int32(0))?d("MAWTimeUtils").millisTimeToTimestamp(d("WATimeUtils").millisTime()):a}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(e.isDualSend)return b("Promise").resolve();var f=c("LSFactory")(a),g=s(e.lastActivityTs),h=(yield r(f,e.clientThreadKey)),i=d("I64").of_int32(e.chatId),j=q(e.folder),k=p(e.jid);e=e.isGroup?d("MessagingThreadType.bs").secureMessageOverWaGroup:d("MessagingThreadType.bs").secureMessageOverWaOneToOne;yield a.table("mi_act_mapping_table").put({clientThreadPk:i,jid:k,serverThreadKey:h});d("WALogger").LOG(m(),d("I64").to_string(h),d("I64").to_string(g));return c("LSCreateE2EEMetadataThread")(k,i,e,j,g,f)});return u.apply(this,arguments)}function v(a,b,c){a=a;d("I64").equal(a,d("I64").of_int32(0))&&(d("WALogger").WARN(n(),d("I64").to_string(c),d("I64").to_string(b)),a=b);return a}function w(a,b,c){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=(yield a.table("threads").get({hd:c,tl:0}));if(f==null){d("WALogger").ERROR(l());return b("Promise").resolve()}var g=e.clientThreadKey!=null?d("I64").of_string(e.clientThreadKey):f.clientThreadKey,h=v(f.lastActivityTimestampMs,d("MAWTimeUtils").millisTimeToTimestamp(e.lastActivityTs),c),i=d("MAWTimeUtils").millisTimeToTimestamp(e.lastReadTs);e=e.isGroup?d("MAWThreadDefaults.bs").defaultGroupThreadCapabilities:d("MAWThreadDefaults.bs").defaultThreadCapabilities;return a.table("threads").upsert({hd:c,tl:0},babelHelpers["extends"]({},f,{capabilities:e,capabilities2:d("MAWThreadDefaults.bs").defaultThreadCapabilities_2,clientThreadKey:g,lastActivityTimestampMs:h,lastReadWatermarkTimestampMs:i}))});return x.apply(this,arguments)}function y(a,b,c){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){yield a.table("mi_act_mapping_table").put({clientThreadPk:d("I64").of_int32(e.chatId),jid:p(e.jid),serverThreadKey:c}),yield b("Promise").all([w(a,c,e),A(a,c,e)])});return z.apply(this,arguments)}function A(a,b,c){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(c.clientThreadKey!=null){c=d("I64").of_string(c.clientThreadKey);d("I64").equal(b,c)||(yield a.table("threads")["delete"]({hd:c,tl:0}))}});return B.apply(this,arguments)}function C(a,b,c){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield a.table("threads").get({hd:e,tl:0}));g!=null&&d("I64").to_int32(g.authorityLevel)===c("LSAuthorityLevel").AUTHORITATIVE&&(yield b("Promise").all([w(a,e,f),A(a,e,f)]))});return D.apply(this,arguments)}function a(a,b){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("chat_id")).getKeyRange(d("I64").of_int32(b.chatId))));if(c==null)if(b.authoritativeThreadKey==null){d("WALogger").LOG(k(),b.chatId);return t(a,b)}else{d("WALogger").LOG(j(),b.chatId);return y(a,d("I64").of_string(b.authoritativeThreadKey),b)}if(b.authoritativeThreadKey!=null){var e=d("I64").of_string(b.authoritativeThreadKey),f=!d("I64").equal(c.serverThreadKey,e);if(f){d("WALogger").LOG(i(),b.chatId);return y(a,e,b)}}f=c.serverThreadKey;d("WALogger").LOG(h(),b.chatId);return C(a,f,b)});return E.apply(this,arguments)}g.call=a}),98);
__d("MAWOccamadilloOnMutexChange",["LSDatabaseType.bs","LSDefaultSyncGroups","LSIntEnum","LSSyncGroupsUtils","MAWGating","Promise","WALogger","bs_caml_int64","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Resetting sync cursor and network request"]);h=function(){return a};return a}function i(a){var c=d("LSDefaultSyncGroups").e2eeMetadataSyncGroup;if(d("MAWGating").isOccamadillo()&&!d("MAWGating").isOccamadilloResumeSyncEnabled()&&c!=null)return a.table("sync_groups").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,{groupId:d("LSIntEnum").ofNumber(c.groupId)}));else return b("Promise").resolve()}function j(a){if(d("MAWGating").isOccamadillo()&&!d("MAWGating").isOccamadilloResumeSyncEnabled())return a.table("network_requests").put({epochId:void 0,failureCount:c("bs_caml_int64").zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:c("bs_caml_int64").zero,lastSyncRequestTimestampMs:c("bs_caml_int64").zero,networkTaskIdentifier:void 0,syncDatabaseId:d("LSDatabaseType.bs").e2eeMessagingMetadataMailbox,taskQueueName:""});else return b("Promise").resolve()}function a(a){d("WALogger").LOG(h()),c("promiseDone")(a.runInTransaction(function(a){return b("Promise").all([i(a),j(a)])},"readwrite"))}g.onOccamadilloMutexChange=a}),98);
__d("MAWReinitWorker",["MAWEncyptionIndexedDbV2","MAWGating","MAWIssueNewUserVisibleErrors","MAWKeychainInit","MAWOccamadilloOnMutexChange","MAWVaultMaterialsStorage","MWChatBadgeCountUpdates.bs","QPLUserFlow","WALoggerDeferred","asyncToGeneratorRuntime","emptyFunction","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["AppMutex - Reinitializing"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Worker is permanently killed and refuses startup"]);i=function(){return a};return a}function j(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){g=g!=null?{instanceKey:g}:void 0;try{a=(yield a(b,e,f,c("emptyFunction")));a==null&&c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"worker_refused_startup",g);return a}catch(a){if((a==null?void 0:a.message)==="Worker is permanently killed."){d("WALoggerDeferred").WARN(i());return}throw a}});return k.apply(this,arguments)}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("MAWEncyptionIndexedDbV2").makeEncryptionDB(a);d("MAWEncyptionIndexedDbV2").maybeSetEncryptionDbOnVersionChange(function(){d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)});return d("MAWKeychainInit").initSetupKeychain()});return m.apply(this,arguments)}function n(){return d("MAWVaultMaterialsStorage").setupVaultMaterials()}function a(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.allTablesPersisted,e=a.db,f=a.dispatchClearEphemeralSettings,g=a.environment,i=a.fbId,k=a.getOrSetupWorker,m=a.instanceKey,o=a.logout,p=a.mutex;a=a.setupBridge;var q=m!=null?{instanceKey:m}:void 0;d("WALoggerDeferred").LOG(h());c("QPLUserFlow").start(c("qpl")._(25310984,"169"),q);c("QPLUserFlow").addAnnotations(c("qpl")._(25310984,"169"),{bool:{useSharedWorker:c("shouldUseMAWSharedWorker")()},"int":{version:2}},q);p=(yield p.init());if(!p){c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"mutex_no_premission_on_reinit",q);return}p=(yield l(i));if(!p.success){c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"mutex_keychain_setup_failure_on_reinit",q);return}var r=(yield n());c("QPLUserFlow").addPoint(c("qpl")._(25310984,"169"),"vaulting_setup",q);c("QPLUserFlow").addAnnotations(c("qpl")._(25310984,"169"),{bool:{will_vault:r!=null}},q);k=(yield j(k,i,p.value,r,m));if(k==null)return;c("QPLUserFlow").addPoint(c("qpl")._(25310984,"169"),"worker_setup",q);i=(yield a({environment:g,logout:o,worker:k}));c("QPLUserFlow").addPoint(c("qpl")._(25310984,"169"),"bridge_setup",q);!b&&d("MAWGating").isOccamadillo()?d("MAWOccamadilloOnMutexChange").onOccamadilloMutexChange(e):b||(yield i.sendAndReceive("backend","initSync",{numMsgsPerThread:10,numThreads:d("MWChatBadgeCountUpdates.bs").minSyncedThreads}));c("QPLUserFlow").endSuccess(c("qpl")._(25310984,"169"),{instanceKey:m});f()});return o.apply(this,arguments)}g["default"]=a}),98);
__d("LSMessagingThreadAttributionType.re",["LSMessagingThreadAttributionType.bs"],(function(a,b,c,d,e,f){c=(a=b("LSMessagingThreadAttributionType.bs")).unknown;f.unknown=c;d=a.unknownTest;f.unknownTest=d;e=a.unknownFailureRetry;f.unknownFailureRetry=e;b=a.messengerInbox;f.messengerInbox=b;c=a.messengerInboxInThread;f.messengerInboxInThread=c;d=a.messengerInboxThreadList;f.messengerInboxThreadList=d;e=a.messengerInboxNestedFolder;f.messengerInboxNestedFolder=e;b=a.messengerInboxRecentThreads;f.messengerInboxRecentThreads=b;c=a.messengerInboxRemainingThreads;f.messengerInboxRemainingThreads=c;d=a.messengerInboxMessageSearch;f.messengerInboxMessageSearch=d;e=a.messengerInboxImageSending;f.messengerInboxImageSending=e;b=a.messengerInboxForward;f.messengerInboxForward=b;c=a.messengerInboxArchivedThreads;f.messengerInboxArchivedThreads=c;d=a.messengerInboxPendingRequests;f.messengerInboxPendingRequests=d;e=a.messengerInboxActiveContacts;f.messengerInboxActiveContacts=e;b=a.messengerInboxThreadBannerBottomSheet;f.messengerInboxThreadBannerBottomSheet=b;c=a.messengerUniversalSearch;f.messengerUniversalSearch=c;d=a.messengerUniversalSearchNullState;f.messengerUniversalSearchNullState=d;e=a.messengerUniversalSearchKeyPressed;f.messengerUniversalSearchKeyPressed=e;b=a.messengerUniversalSearchMessageSearch;f.messengerUniversalSearchMessageSearch=b;c=a.messengerUniversalSearchAdvancedContentSearch;f.messengerUniversalSearchAdvancedContentSearch=c;d=a.montageAndActiveNow;f.montageAndActiveNow=d;e=a.montageAndActiveNowMontageInboxUnit;f.montageAndActiveNowMontageInboxUnit=e;b=a.montageAndActiveNowActiveNow;f.montageAndActiveNowActiveNow=b;c=a.montageAndActiveNowInboxComposer;f.montageAndActiveNowInboxComposer=c;d=a.montageAndActiveNowActiveAndHasStory;f.montageAndActiveNowActiveAndHasStory=d;e=a.montageAndActiveNowCustomStatus;f.montageAndActiveNowCustomStatus=e;b=a.messengerActiveNowFriendsTab;f.messengerActiveNowFriendsTab=b;c=a.messengerActiveNowFriendsTabFriendsTab;f.messengerActiveNowFriendsTabFriendsTab=c;d=a.messengerActiveNowFriendsTabPlaceHolder;f.messengerActiveNowFriendsTabPlaceHolder=d;e=a.messengerActiveNowFriendsTabRecentActive;f.messengerActiveNowFriendsTabRecentActive=e;b=a.messengerActiveNowFriendsTabRecentActiveAndStory;f.messengerActiveNowFriendsTabRecentActiveAndStory=b;c=a.messengerActiveNowFriendsTabContentDiscovery;f.messengerActiveNowFriendsTabContentDiscovery=c;d=a.messengerPendingRequests;f.messengerPendingRequests=d;e=a.messengerPendingRequestsInboxThreadList;f.messengerPendingRequestsInboxThreadList=e;b=a.messengerPendingRequestsPendingRequestsPage;f.messengerPendingRequestsPendingRequestsPage=b;c=a.messengerBroadcastFlow;f.messengerBroadcastFlow=c;d=a.messengerBroadcastFlowFromMessenger;f.messengerBroadcastFlowFromMessenger=d;e=a.messengerBroadcastFlowFromFb;f.messengerBroadcastFlowFromFb=e;b=a.messengerBroadcastFlowFromExternal;f.messengerBroadcastFlowFromExternal=b;c=a.messengerBroadcastFlowFromFbNewsfeedSharesheet;f.messengerBroadcastFlowFromFbNewsfeedSharesheet=c;d=a.messengerBroadcastFlowFromFbNewsfeedGoodwillComposer;f.messengerBroadcastFlowFromFbNewsfeedGoodwillComposer=d;e=a.messengerBroadcastFlowFromFbShortsViewer;f.messengerBroadcastFlowFromFbShortsViewer=e;b=a.messengerBroadcastFlowForwardGutter;f.messengerBroadcastFlowForwardGutter=b;c=a.messengerBroadcastFlowForwardLongclick;f.messengerBroadcastFlowForwardLongclick=c;d=a.messengerBroadcastFlowMessengerPhotoView;f.messengerBroadcastFlowMessengerPhotoView=d;e=a.messengerOmnipicker;f.messengerOmnipicker=e;b=a.messengerOmnipickerNullState;f.messengerOmnipickerNullState=b;c=a.messengerOmnipickerKeyPressed;f.messengerOmnipickerKeyPressed=c;d=a.messengerNotification;f.messengerNotification=d;e=a.messengerNotificationInThreadReply;f.messengerNotificationInThreadReply=e;b=a.messengerNotificationLongpressReply;f.messengerNotificationLongpressReply=b;c=a.messengerNotificationLongpressReaction;f.messengerNotificationLongpressReaction=c;d=a.clickToMessengerAd;f.clickToMessengerAd=d;e=a.clickToMessengerAdFromNewsfeed;f.clickToMessengerAdFromNewsfeed=e;b=a.clickToMessengerAdSendMessageCta;f.clickToMessengerAdSendMessageCta=b;c=a.clickToMessengerAdViewAndMessage;f.clickToMessengerAdViewAndMessage=c;d=a.clickToMessengerAdSendMessageCtaNewsfeedCtmAdsCta;f.clickToMessengerAdSendMessageCtaNewsfeedCtmAdsCta=d;e=a.payments;f.payments=e;b=a.paymentsBubbleClick;f.paymentsBubbleClick=b;c=a.rtc;f.rtc=c;d=a.rtcVoipIncall;f.rtcVoipIncall=d;e=a.rtcDrawerPromotion;f.rtcDrawerPromotion=e;b=a.fbPage;f.fbPage=b;c=a.fbPageAboutCard;f.fbPageAboutCard=c;d=a.fbPageProfileHeaderMessageButton;f.fbPageProfileHeaderMessageButton=d;e=a.fbPageProfileFooterMessageButton;f.fbPageProfileFooterMessageButton=e;b=a.fbPageProfileMoreDrawer;f.fbPageProfileMoreDrawer=b;c=a.fbPageResponsivenessContextCard;f.fbPageResponsivenessContextCard=c;d=a.fbPagePymmRhc;f.fbPagePymmRhc=d;e=a.fbProfile;f.fbProfile=e;b=a.fbProfileTimelineMessageButton;f.fbProfileTimelineMessageButton=b;c=a.fbProfileFacebookProfile;f.fbProfileFacebookProfile=c;d=a.fbProfileMessageButton;f.fbProfileMessageButton=d;e=a.fbProfileMessageButtonBloksUrl;f.fbProfileMessageButtonBloksUrl=e;b=a.fbSearch;f.fbSearch=b;c=a.fbSearchContextualProfileActionBarFromSearch;f.fbSearchContextualProfileActionBarFromSearch=c;d=a.fbSearchSearchMessageButton;f.fbSearchSearchMessageButton=d;e=a.fbSearchFbMessageSearchResults;f.fbSearchFbMessageSearchResults=e;b=a.fbSearchHighConfidenceCard;f.fbSearchHighConfidenceCard=b;c=a.fbSearchMentions;f.fbSearchMentions=c;d=a.fbSearchNullstateCta;f.fbSearchNullstateCta=d;e=a.crypto;f.crypto=e;b=a.messengerMontageComposer;f.messengerMontageComposer=b;c=a.messengerMontageComposerFriendsTab;f.messengerMontageComposerFriendsTab=c;d=a.messengerMontageComposerFriendsTabStoryAndActiveNow;f.messengerMontageComposerFriendsTabStoryAndActiveNow=d;e=a.messengerMontageReply;f.messengerMontageReply=e;b=a.messengerMontageReplyInboxThreadListProfile;f.messengerMontageReplyInboxThreadListProfile=b;c=a.messengerMontageReplyReplyContext;f.messengerMontageReplyReplyContext=c;d=a.messengerMontageReplyThreadNavBar;f.messengerMontageReplyThreadNavBar=d;e=a.messengerMontageReplyInboxThreadListProfileAuthorProfile;f.messengerMontageReplyInboxThreadListProfileAuthorProfile=e;b=a.messengerMontageReplyReplyContextAuthorProfile;f.messengerMontageReplyReplyContextAuthorProfile=b;c=a.messengerMontageReplyThreadNavBarAuthorProfile;f.messengerMontageReplyThreadNavBarAuthorProfile=c;d=a.messengerMontageReplyOneToOneChatThreadStoryBubble;f.messengerMontageReplyOneToOneChatThreadStoryBubble=d;e=a.messengerThreadMembersList;f.messengerThreadMembersList=e;b=a.marketplace;f.marketplace=b;c=a.marketplaceActivityBanner;f.marketplaceActivityBanner=c;d=a.marketplaceSendMessage;f.marketplaceSendMessage=d;e=a.fbStory;f.fbStory=e;b=a.fbStoryViewerSheetMenu;f.fbStoryViewerSheetMenu=b;c=a.fbStoryViewerSheetRow;f.fbStoryViewerSheetRow=c;d=a.fbStoryStoriesJewelNotification;f.fbStoryStoriesJewelNotification=d;e=a.fbStoryStoriesPushNotification;f.fbStoryStoriesPushNotification=e;b=a.fbStoryStoriesViewerConsumerReply;f.fbStoryStoriesViewerConsumerReply=b;c=a.fbStoryStoriesViewerConsumerArtifact;f.fbStoryStoriesViewerConsumerArtifact=c;d=a.fbStoryStoriesPageStoryConversations;f.fbStoryStoriesPageStoryConversations=d;e=a.fbStorySocialContextConversations;f.fbStorySocialContextConversations=e;b=a.workspeed;f.workspeed=b;c=a.workspeedComposerLikeButton;f.workspeedComposerLikeButton=c;d=a.workspeedComposerGifPicker;f.workspeedComposerGifPicker=d;e=a.mdotme;f.mdotme=e;b=a.mdotmeOrganicPost;f.mdotmeOrganicPost=b;c=a.mdotmeMarketingEmail;f.mdotmeMarketingEmail=c;d=a.mdotmeMbsOffsiteEmail;f.mdotmeMbsOffsiteEmail=d;e=a.customerChatPlugin;f.customerChatPlugin=e;b=a.customerChatPluginMobileRedirect;f.customerChatPluginMobileRedirect=b;c=a.customerChatPluginUpgradeFlow;f.customerChatPluginUpgradeFlow=c;d=a.customerChatPluginReEngagement;f.customerChatPluginReEngagement=d;e=a.fbFeed;f.fbFeed=e;b=a.fbFeedOrganicPost;f.fbFeedOrganicPost=b;c=a.fbFeedOrganicPostViewAndMessage;f.fbFeedOrganicPostViewAndMessage=c;d=a.fbFeedQuestionTriggeredConvo;f.fbFeedQuestionTriggeredConvo=d;e=a.fbFeedDynamicHoverCard;f.fbFeedDynamicHoverCard=e;b=a.fbFeedOrganicPostNewsfeedPagePostCta;f.fbFeedOrganicPostNewsfeedPagePostCta=b;c=a.fbFeedOrganicPostNewsfeedBumperSmcta;f.fbFeedOrganicPostNewsfeedBumperSmcta=c;d=a.fbFeedBcfOpenChatButton;f.fbFeedBcfOpenChatButton=d;e=a.fbFeedReactorsListMessageButton;f.fbFeedReactorsListMessageButton=e;b=a.fbFeedReplyToAuthor;f.fbFeedReplyToAuthor=b;c=a.fbFeedUfiSendSuggestions;f.fbFeedUfiSendSuggestions=c;d=a.fbFeedBcf;f.fbFeedBcf=d;e=a.fbFeedCommunityChatsFeedPost;f.fbFeedCommunityChatsFeedPost=e;b=a.fbNotification;f.fbNotification=b;c=a.fbNotificationJewelNotif;f.fbNotificationJewelNotif=c;d=a.fbNotificationPushNotif;f.fbNotificationPushNotif=d;e=a.fbEvent;f.fbEvent=e;b=a.fbEventMessageHost;f.fbEventMessageHost=b;c=a.fbEventShareClassMaterials;f.fbEventShareClassMaterials=c;d=a.supportResources;f.supportResources=d;e=a.supportResourcesFrxAction;f.supportResourcesFrxAction=e;b=a.leadGenMessaging;f.leadGenMessaging=b;c=a.leadGenMessagingPreSubmission;f.leadGenMessagingPreSubmission=c;d=a.leadGenMessagingPostSubmission;f.leadGenMessagingPostSubmission=d;e=a.leadGenMessagingCrossChannelVerticalPresentAndroid;f.leadGenMessagingCrossChannelVerticalPresentAndroid=e;b=a.leadGenMessagingCrossChannelHscrollAndroid;f.leadGenMessagingCrossChannelHscrollAndroid=b;c=a.messengerGraph;f.messengerGraph=c;d=a.messengerGraphSelectContact;f.messengerGraphSelectContact=d;e=a.messengerChat;f.messengerChat=e;b=a.messengerChatFromJewelThreadList;f.messengerChatFromJewelThreadList=b;c=a.messengerChatInThread;f.messengerChatInThread=c;d=a.messengerChatForward;f.messengerChatForward=d;e=a.messengerArchivedThreads;f.messengerArchivedThreads=e;b=a.messengerArchivedThreadsArchivedThreadsFolder;f.messengerArchivedThreadsArchivedThreadsFolder=b;c=a.jewel;f.jewel=c;d=a.jewelThreadList;f.jewelThreadList=d;e=a.jewelSearch;f.jewelSearch=e;b=a.jewelNewMessage;f.jewelNewMessage=b;c=a.jewelNestedFolder;f.jewelNestedFolder=c;d=a.chatheads;f.chatheads=d;e=a.chatheadsRecentThreads;f.chatheadsRecentThreads=e;b=a.chatheadsOverflow;f.chatheadsOverflow=b;c=a.chatheadsNewMessage;f.chatheadsNewMessage=c;d=a.sidebar;f.sidebar=d;e=a.sidebarContactsList;f.sidebarContactsList=e;b=a.sidebarContactsSearch;f.sidebarContactsSearch=b;c=a.sidebarContactsGroups;f.sidebarContactsGroups=c;d=a.messengerCommunityMessaging;f.messengerCommunityMessaging=d;e=a.messengerCommunityMessagingCommunityChannel;f.messengerCommunityMessagingCommunityChannel=e;b=a.messengerCommunityMessagingFullscreenChat;f.messengerCommunityMessagingFullscreenChat=b;c=a.fbPlatformLogin;f.fbPlatformLogin=c;d=a.fbPlatformLoginLoginConnectWithMessenger;f.fbPlatformLoginLoginConnectWithMessenger=d;e=a.contactManager;f.contactManager=e;b=a.contactManagerContactShare;f.contactManagerContactShare=b;c=a.contactManagerPeopleTabContactList;f.contactManagerPeopleTabContactList=c;d=a.contactManagerPeopleTabContactSearch;f.contactManagerPeopleTabContactSearch=d;e=a.contactManagerIconContactList;f.contactManagerIconContactList=e;b=a.contactManagerIconContactSearch;f.contactManagerIconContactSearch=b;c=a.messagingInboxInBlue;f.messagingInboxInBlue=c;d=a.messagingInboxInBlueThreadList;f.messagingInboxInBlueThreadList=d;e=a.messagingInboxInBluePeoplePicker;f.messagingInboxInBluePeoplePicker=e;b=a.messagingInboxInBlueInboxIcon;f.messagingInboxInBlueInboxIcon=b;c=a.messagingInboxInBlueSwipeFromRight;f.messagingInboxInBlueSwipeFromRight=c;d=a.messagingInboxInBlueMibNotification;f.messagingInboxInBlueMibNotification=d;e=a.messagingInboxInBlueActiveNow;f.messagingInboxInBlueActiveNow=e;b=a.messagingInboxInBlueSuggestedChats;f.messagingInboxInBlueSuggestedChats=b;c=a.messagingInboxInBlueChatPreviewBanner;f.messagingInboxInBlueChatPreviewBanner=c;d=a.messagingInboxInBlueThreadViewCoreNullState;f.messagingInboxInBlueThreadViewCoreNullState=d;e=a.messagingInboxInBlueMessageRequests;f.messagingInboxInBlueMessageRequests=e;b=a.messagingInboxInBlueSpam;f.messagingInboxInBlueSpam=b;c=a.messagingInboxInBlueFbGroups;f.messagingInboxInBlueFbGroups=c;d=a.messagingInboxInBlueMessengerPeekStateButton;f.messagingInboxInBlueMessengerPeekStateButton=d;e=a.messagingInboxInBlueMessengerPeekStateTooltip;f.messagingInboxInBlueMessengerPeekStateTooltip=e;b=a.messagingInboxInBlueBroadcastFlow;f.messagingInboxInBlueBroadcastFlow=b;c=a.messagingInboxInBlueThreadViewHeader;f.messagingInboxInBlueThreadViewHeader=c;d=a.messagingInboxInBluePrivacySettings;f.messagingInboxInBluePrivacySettings=d;e=a.messagingInboxInBlueArchivedChats;f.messagingInboxInBlueArchivedChats=e;b=a.mibNotification;f.mibNotification=b;c=a.mibNotificationPushNotification;f.mibNotificationPushNotification=c;d=a.mibNotificationJewelNotification;f.mibNotificationJewelNotification=d;e=a.mibNotificationDirectPushNotif;f.mibNotificationDirectPushNotif=e;b=a.mibNotificationDirectJewelNotif;f.mibNotificationDirectJewelNotif=b;c=a.messengerRestrictedAccounts;f.messengerRestrictedAccounts=c;d=a.armadilloCutoverThreadLinkingMessage;f.armadilloCutoverThreadLinkingMessage=d;e=a.callsTab;f.callsTab=e;b=a.miniShopViewMenuButton;f.miniShopViewMenuButton=b;c=a.sharesheet;f.sharesheet=c;d=a.sharesheetGeneralizedBroadcastFlow;f.sharesheetGeneralizedBroadcastFlow=d;e=a.sharesheetOffPlatformSharingHScroll;f.sharesheetOffPlatformSharingHScroll=e;b=a.ufi;f.ufi=b;c=a.ufiGeneralizedBroadcastFlow;f.ufiGeneralizedBroadcastFlow=c;d=a.chatheadClickCollapsed;f.chatheadClickCollapsed=d;e=a.timelineMessageButton;f.timelineMessageButton=e;b=a.directReplyIntent;f.directReplyIntent=b;c=a.fbGroups;f.fbGroups=c;d=a.fbGroupsInbox;f.fbGroupsInbox=d;e=a.fbGroupsPickerExistingChat;f.fbGroupsPickerExistingChat=e;b=a.fbGroupsPickerJoinChat;f.fbGroupsPickerJoinChat=b;c=a.fbGroupsMemberList;f.fbGroupsMemberList=c;d=a.devices;f.devices=d;e=a.devicesStella;f.devicesStella=e;b=a.fbWellbeing;f.fbWellbeing=b;c=a.fbWellbeingIncallUnblockingNotification;f.fbWellbeingIncallUnblockingNotification=c;d=a.messengerDeepLinking;f.messengerDeepLinking=d;e=a.readOnlyCutoverThread;f.readOnlyCutoverThread=e;b=a.readOnlyCutoverThreadArmadilloThread;f.readOnlyCutoverThreadArmadilloThread=b;c=a.armadilloThread;f.armadilloThread=c;d=a.armadilloThreadReadOnlyCutoverThread;f.armadilloThreadReadOnlyCutoverThread=d;e=a.armadilloThreadExternalLink;f.armadilloThreadExternalLink=e;b=a.fbShorts;f.fbShorts=b;c=a.fbShortsProfile;f.fbShortsProfile=c;d=a.fbShortsReactorsListMessageButton;f.fbShortsReactorsListMessageButton=d;e=a.sendPlugin;f.sendPlugin=e;b=a.sendAsMessageFromNt;f.sendAsMessageFromNt=b;c=a.messengerPublicChatsMessaging;f.messengerPublicChatsMessaging=c;d=a.messengerGrowth;f.messengerGrowth=d;e=a.messengerGrowthNotificationsEntrypoint;f.messengerGrowthNotificationsEntrypoint=e;b=a.friendsHome;f.friendsHome=b;c=a.friendsHomeActiveNow;f.friendsHomeActiveNow=c;d=a.friendsHomeMessageNewFriends;f.friendsHomeMessageNewFriends=d;e=a.friendsHomePostAcceptMessaging;f.friendsHomePostAcceptMessaging=e;b=a.externalLinkXma;f.externalLinkXma=b;c=a.externalLinkXmaFromComposer;f.externalLinkXmaFromComposer=c;d=a.externalLinkXmaFromDeepLinking;f.externalLinkXmaFromDeepLinking=d;e=a.externalLinkXmaFromShareExtension;f.externalLinkXmaFromShareExtension=e;b=a.fbNotifications;f.fbNotifications=b;c=a.quickPromotion;f.quickPromotion=c;d=a.quickPromotionCta;f.quickPromotionCta=d;e=a.quickPromotionInterstitial;f.quickPromotionInterstitial=e;b=a.quickPromotionTopBanner;f.quickPromotionTopBanner=b;c=a.fbmInAppNotifs;f.fbmInAppNotifs=c;d=a.creatorSupport;f.creatorSupport=d;e=a.creatorSupportMessengerToast;f.creatorSupportMessengerToast=e;b=a.fbInstantGame;f.fbInstantGame=b;c=a.communityChatsInFeed;f.communityChatsInFeed=c;d=a.communityChatsInFeedPermalink;f.communityChatsInFeedPermalink=d;e=a.unifiedBusinessInbox;f.unifiedBusinessInbox=e;b=a.rollcall;f.rollcall=b}),null);
__d("MAWDBUsageMetrics",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=30*1e3,i=0,j=null;function a(){if(Date.now()>i+h){var a=navigator.storage;a==null?void 0:a.estimate==null?void 0:a.estimate().then(function(a){j=a});i=Date.now()}return j}c("gkx")("5444")&&a();g.getMAWDBUsageMetrics=a}),98);
__d("WAShiftTimer",["WAErr"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=0;this.$3=0;this.ts=0;this.$4=0;this.$5=0;this.$6=0;this.$7=void 0;this.$8=function(){var a=b.$7,c=b.$1;b.$3=0;b.$2=0;b.ts=0;b.$4=0;b.$5=0;b.$6=0;b.$7=void 0;c(a)};this.onOrBefore=function(a,c){h(a);var d=Date.now();d=d+a;var e=b.$5;if(e!==0&&e<d)return;e=b.$6;if(e!==0&&d<e)return;b.$5=d;!b.$3&&(!b.$2||d<b.ts)&&b.$9(d,a,c)};this.forceRunNow=function(a){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$7=a,b.$8()};this.cancel=function(){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$2=0,b.$3=0,b.ts=0,b.$4=0,b.$5=0,b.$6=0,b.$7=void 0};this.$1=a}var b=a.prototype;b.onOrBeforeRepaint=function(a){if(this.$3)return;var b=Date.now(),c=this.$6;if(c!==0&&b<c)return;c=this.$5;(c===0||b<c)&&(this.$5=b);this.$2&&(clearTimeout(this.$2),this.$2=0);(!this.ts||this.ts>b)&&(this.ts=b);this.$7=a;this.$3=requestAnimationFrame(this.$8)};b.onOrAfter=function(a,b){h(a);var c=Date.now();c=c+a;var d=this.$6;if(d!==0&&c<d)return;d=this.$5;if(d!==0&&d<c)return;this.$6=c;(!this.$2||this.ts<c)&&this.$9(c,a,b)};b.debounce=function(a,b){h(a),this.$10(Date.now(),a,b)};b.debounceAndCap=function(a,b,c){h(a);h(b);var d=Date.now();b=d+b;var e=this.$6,f=this.$5;(e===0||e<=b)&&(f===0||b<f)&&(this.$5=b);this.$10(d,a,c)};b.forceRunNowIfScheduled=function(){this.$2?(clearTimeout(this.$2),this.$8()):this.$3&&(cancelAnimationFrame(this.$3),this.$8())};b.isScheduled=function(){return this.$2!==0||this.$3!==0};b.$10=function(a,b,c){var d=a+b,e=this.$6;if(e!==0&&d<e)return;e=this.ts;var f=this.$5;f!==0&&f<d?e<f&&this.$9(f,f-a,c):e<d&&this.$9(d,b,c)};b.$9=function(a,b,c){this.$3&&(cancelAnimationFrame(this.$3),this.$3=0);this.$7=c;this.ts=a;if(this.$2){c=a-this.$4;if(-16<c&&c<16)return;clearTimeout(this.$2)}this.$2=setTimeout(this.$8,b);this.$4=a};return a}();function h(a){if(!(a>=0))throw c("WAErr")("ShiftTimer must be given delay >= 0")}g.ShiftTimer=a}),98);
__d("WABridgeBatcher",["WAShiftTimer"],(function(a,b,c,d,e,f,g){var h=20,i=1e3;a=function(){function a(a,b){var c=this;this.$1=null;this.$4=h;this.$5=Date.now();this.$6=new(d("WAShiftTimer").ShiftTimer)(function(){var a=c.$1;if(a==null)return;c.$1=null;c.$2(a)});this.$2=b;this.$3=a}var b=a.prototype;b.addEvent=function(a){var b=this.$1;this.$1=b?this.$3(b,a):[a];if(this.$6.isScheduled())return;b=this.$4;if(b<1){a=Date.now();var c=Math.max(a-this.$5,0)/i;b=Math.min(b+c,h);this.$4=b;this.$5=a}b>=1?(c=0,this.$4=b-1):(c=Math.ceil(i*(1-b)),this.$4=0);this.$6.onOrBefore(c)};b.cancel=function(){this.$1=null,this.$6.cancel()};return a}();g.BridgeBatcher=a}),98);
__d("WAPromiseCallSync",["Promise"],(function(a,b,c,d,e,f){function a(a,c){try{for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return b("Promise").resolve(a.apply(c,e))}catch(a){return b("Promise").reject(a)}}f.promiseCallSync=a}),66);
__d("WAPromiseManagement",["WAPromiseCallSync"],(function(a,b,c,d,e,f,g){function a(a){var b=null,c=function(){b||(b=d("WAPromiseCallSync").promiseCallSync(a)["finally"](function(){b=null}));return b};c.isPending=function(){return!!b};return c}function b(a,b){var c=new Map();return function(d){var e=a(d),f=c.get(e);if(f)return f;try{f=Promise.resolve(b(d))}catch(a){f=Promise.reject(a)}d=f["finally"](function(){return void c["delete"](e)});c.set(e,d);return d}}var h=new Set();function c(a){h.add(a),a["finally"](function(){h["delete"](a)})}g.nullaryCacheWhilePending=a;g.cacheWhilePending=b;g.preventGarbageCollection=c}),98);
__d("WACrossWorkerPortal",["Promise","WABridgeBatcher","WAErr","WALogger","WAPromiseManagement"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["absorbPortal: transferring request #",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unexpected non-result to call"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unexpected result to cast"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unrecognized result ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," response of ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," request for ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge queuing "," msgs"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge sending "," across (delayed)"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge received msg on old port"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge updating port"]);q=function(){return a};return a}var r=function(){function a(a,b,c){var e=this;this.port=null;this.$2=1;this.openRequests=new Map();this.listeners=new Set();this.$1=a;this.sendStream=new(d("WABridgeBatcher").BridgeBatcher)(b,function(a){e.$3(a)});c.forEach(function(b){a.setNamespaceHandler(b,e.$4(b))})}var e=a.prototype;e.addListener=function(a){var b=this;this.listeners.add(a);return function(){return b.listeners["delete"](a)}};e.setPort=function(a){var b=this;d("WALogger").LOG(q());this.port=a;this.sendStream.cancel();a.onmessage=function(c){if(b.port!==a){d("WALogger").WARN(p()).devConsole(c.data);return}c=c.data;if(!c)return;c.forEach(function(c){b.$5(c,"incoming"),b.$6(a,c)})};this.openRequests.forEach(function(a){a=a.request;d("WALogger").LOG(o(),a.name);b.sendStream.addEvent({type:"request",content:a})})};e.getBridge=function(){return this.$1};e.$4=function(a){var b=this;return function(c,d,e,f){b.$7(a,c,d,e,f)}};e.$7=function(a,b,c,d,e){var f=this.$2++;a={requestId:f,expectsResponse:!!d,namespace:a,name:b,arg:c,silentLog:e};this.openRequests.set(f,{request:a,resolver:d});this.sendStream.addEvent({type:"request",content:a})};e.$8=function(a,b){if(a!==this.port)return;this.sendStream.addEvent({type:"result",content:b})};e.$3=function(a){var b=this,c=this.port;if(!c){d("WALogger").LOG(n(),a.length);return}c.postMessage(a);a.forEach(function(a){return b.$5(a,"outgoing")})};e.$5=function(a,b){this.listeners.forEach(function(c){return c(a,b)})};e.$6=function(a,e){var f=this;if(e.type==="request"){var g=e.content,h=g.namespace,n=g.name,o=g.requestId,p=g.arg,q=g.expectsResponse,r=g.silentLog;r||d("WALogger").LOG(m(),o,n);g=this.$1;if(q){q=g.sendAndReceive(h,n,p,r).then(function(b){f.$8(a,{requestId:o,type:"success",result:b,silentLog:r})},function(b){f.$8(a,{requestId:o,type:"error",result:String(b),silentLog:r})});d("WAPromiseManagement").preventGarbageCollection(q)}else{g.fireAndForget(h,n,p,r);q={type:"result",content:{requestId:o,type:"handled",silentLog:r}};this.$5(q,"outgoing");a.postMessage([q])}}else{e.type;g=e.content;h=g.requestId;n=g.type;p=g.result;q=g.silentLog;q||d("WALogger").LOG(l(),h,n);e=this.openRequests.get(h);if(!e){d("WALogger").WARN(k(),h);return}switch(n){case"success":case"error":this.openRequests["delete"](h);g=e.resolver;g?g(n==="success"?p:b("Promise").reject(c("WAErr")(p))):d("WALogger").ERROR(j());break;case"handled":e.resolver?d("WALogger").ERROR(i()):this.openRequests["delete"](h);break}}};return a}();function a(a,b,c){return new r(a,c,b)}function e(a){var b;(b=a.port)==null?void 0:b.close();a.port=null;a.sendStream.cancel();b=a.openRequests;a.openRequests=new Map();var c=a.getBridge();b.forEach(function(a){var b=a.request;a=a.resolver;var e=b.namespace,f=b.name,g=b.arg,i=b.silentLog;d("WALogger").LOG(h(),b.requestId);a?a(c.sendAndReceive(e,f,g,i)):c.fireAndForget(e,f,g,i)})}g.CrossWorkerPortal=r;g.attachPortal=a;g.killPortalAndSendPendingToBridge=e}),98);
__d("WADevToolMessageChannel",[],(function(a,b,c,d,e,f){var g=new MessageChannel();a=function(){g=new MessageChannel();return g};b=function(){return g};f.createNewChannel=a;f.getMostRecentChannel=b}),66);
__d("MAWCommonSetupBridge",["CurrentUser","ErrorTransport","I64","LSDatabaseDeferred","LSMessagingThreadAttributionType.re","MAWBridge","MAWChatJid.bs","MAWCurrentUser","MAWDBUsageMetrics","MAWDbMedia","MAWEBSwitch","MAWFrontendMediaUtils","MAWGating","MAWJobActionsV2","MAWThreadCutover.bs","MWLogSend.bs","MessagingThreadType.re","ODS","Promise","QPLEvent","QPLUserFlow","WACrossWorkerPortal","WADevToolMessageChannel","WADevToolsBridge","WADualSendMsgUtils","WAJids","cr:2036","err","gkx","promiseDone","requireDeferred","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMainThreadLogger").__setRef("MAWCommonSetupBridge"),i=c("gkx")("5444"),j=new Set([25312111,25311870]),k=new Map(),l=new Map([[d("MAWDbMedia").MEDIA_TYPE.IMAGE,8],[d("MAWDbMedia").MEDIA_TYPE.VIDEO,10],[d("MAWDbMedia").MEDIA_TYPE.GIF,6],[d("MAWDbMedia").MEDIA_TYPE.STICKER,4],[d("MAWDbMedia").MEDIA_TYPE.PTT,11]]),m=new Set([25312150,25313100,25304093,1056840931,25299294]);function n(a,b){return a+"_"+b}function o(a,b,e){return d("LSDatabaseDeferred").db.then(function(f){return d("MAWThreadCutover.bs").isCutoverSecureThreadFromChatJid(f,a).then(function(a){c("QPLUserFlow").addAnnotations(b,{bool:{isCutover:a}},{instanceKey:e})})})}var p={fbErrorProxy:function(a){d("ErrorTransport").log(a)},log:function(a){var b=a.logLevel,c=a.logString,d=a.tags;switch(b){case"log":h.onReadyImmediately(function(a){a=a.info;return a(c,d)});return;case"warn":h.onReadyImmediately(function(a){a=a.warn;return a(c,d)});return;case"logRestricted":h.onReadyImmediately(function(a){a=a.logRestricted;return a(c,d)});return;case"debug":break;case"error":break;default:break}},logError:function(a){var b=a.entriesToReport,c=a.framesToPop,d=a.logString,e=a.message,f=a.stack,g=a.tags;h.onReadyImmediately(function(a){a=a.logError;return a(d,g,e,f,c,b)})},odsBumpEntityKey:function(a){var b=a.amount,e=a.entity;a=a.key;d("ODS").bumpEntityKey(3185,e,a+"."+(c("CurrentUser").getAppID()||"unknown"),b)},onJobFinished:function(a){a.type==="createGroup"&&a.originalArgs.key!=null&&d("MAWJobActionsV2").recentFinishedJobsCache.set(a.originalArgs.key,a.result);switch(a.type){case"sendMsg":case"sendMediaMsg":case"sendReactionMsg":case"sendXMAShareMsg":var b=a.originalArgs.chatJid,e=a.type==="sendXMAShareMsg"?a.originalArgs.xmaMsgExternalId:a.originalArgs.externalId;k.set(n(b,e),a.originalArgs)}if(a.type==="sendWrittenMsg"){b=a.originalArgs.protocolMsgId;e=b.chat;var f=b.externalId;b=n(e,f);e=k.get(b);k["delete"](b);if(a.result.type==="success"&&e!=null){var g=e.args,h=e.chatJid;b=e.file;a=g.reactToAuthor!=null;var i;a&&(i=g.reaction!=null?20:27);e=g.specialTextSize!=null;b=b!=null?d("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(b.type).mediaType:null;var j=(b=l.get(b))!=null?b:e?3:a?i:0,m=d("WAJids").switchOnMsgrChatJidType(h,{group:function(){return d("MessagingThreadType.re").secureMessageOverWaGroup},user:function(){return d("MessagingThreadType.re").secureMessageOverWaOneToOne}});c("promiseDone")(d("LSDatabaseDeferred").db.then(function(a){var b=g.source?g.source:d("LSMessagingThreadAttributionType.re").unknown;c("promiseDone")(d("MAWChatJid.bs").toThreadKey(a,h).then(function(c){d("MWLogSend.bs").log(a,c,m,f,[],d("I64").of_string(d("MAWCurrentUser").getID()),b,j,g.quote!=null,1,1,d("I64").to_string(c),g==null?void 0:(c=g.ephemeralSetting)==null?void 0:c.ephemeralExpirationInSec,d("WADualSendMsgUtils").isDualSendJid(h)?["dst:8"]:void 0,void 0)}))}))}}},qplEvent:function(a){var e=a.action,f=a.annotations,g=a.event,h=a.instanceKey,k=a.nonTrackableAnnotations,l=a.timestamp;if(!c("CurrentUser").isEmployee()&&j.has(d("QPLEvent").getMarkerId(g)))return;var n=h||0;h=k==null?void 0:(a=k.string)==null?void 0:a.jid;k=h!=null?d("WAJids").validateChatJid(h):void 0;a=m.has(d("QPLEvent").getMarkerId(g))&&k!=null?o(k,g,n):b("Promise").resolve();switch(e.type){case"start":c("QPLUserFlow").start(g,{annotations:babelHelpers["extends"]({},f||{},{bool:babelHelpers["extends"]({},(f==null?void 0:f.bool)||{},{isBulkifyHIMEnabled:d("MAWGating").isBulkifyHIMEnabled(),isDev:0,isDeviceRegistrationDomainUniquenessEnabled:c("gkx")("7858"),isEBEnabled:c("MAWEBSwitch").isEnabled(),isGifSearchEnbled:c("gkx")("7045"),isOccamadillo:d("MAWGating").isOccamadillo(),isTlcPublicUser:d("MAWGating").isTlcPublicUser(),jobManagerWaitForOfflineQueue:c("gkx")("7625"),useSharedWorker:c("shouldUseMAWSharedWorker")(),waitForCommsConnection:c("gkx")("7503")})}),instanceKey:n,timestamp:l});break;case"success":if(i){h=d("MAWDBUsageMetrics").getMAWDBUsageMetrics();k=(k=h==null?void 0:(k=h.usageDetails)==null?void 0:k.indexedDB)!=null?k:h==null?void 0:h.usage;h=h==null?void 0:h.quota;k!=null&&h!=null&&c("QPLUserFlow").addAnnotations(g,{"int":{indexedDbSizeInBytes:k,quotaInBytes:h}},{instanceKey:n})}c("QPLUserFlow").addAnnotations(g,{bool:{isRelaxedDurability:!0}},{instanceKey:n});a["finally"](function(){c("QPLUserFlow").endSuccess(g,{annotations:f,instanceKey:n,timestamp:l})});break;case"point":c("QPLUserFlow").addPoint(g,e.name,{data:f,instanceKey:n,timestamp:l});break;case"failure":c("QPLUserFlow").addAnnotations(g,{bool:{isRelaxedDurability:!0}},{instanceKey:n});a["finally"](function(){c("QPLUserFlow").endFailure(g,e.name,{annotations:f,instanceKey:n,timestamp:l})});break;default:throw c("err")("Bridge sends unreachable qplEvent action type")}}},q=function(a,b){a.push(b);return a};a=function(a){var e=a.customizeEventHandlers;a=a.worker;var f=d("MAWBridge").getBridge();f.setHandlers("event",babelHelpers["extends"]({},p,e));e=d("WACrossWorkerPortal").attachPortal(f,["backend"],q);e.setPort(a);if(c("gkx")("5147")){var g=d("WADevToolsBridge").getDevToolBridge();a=new MessageChannel();var h=d("WACrossWorkerPortal").attachPortal(g,["backend"],q),i=d("WACrossWorkerPortal").attachPortal(g,["devtool"],q);h.setPort(d("WADevToolMessageChannel").getMostRecentChannel().port1);i.setPort(a.port1);b("cr:2036")==null?void 0:b("cr:2036").connectAddonPort(a.port2);e.addListener(function(a,b){return g.fireAndForget("devtool","bridgeMessage",{direction:b==="outgoing"?"toWorker":"toMain",msg:a,ts:Date.now()},!0)})}return b("Promise").resolve(f)};g.commonBridgeEventHandlers=p;g.initBridge=a}),98);
__d("MAWSetupBridge",["LSDatabaseDeferred","LSInitSyncCompleteSubscription.bs","MAWBridgeUIEventHandler.bs","MAWBridgeUIEventsWrapper","MAWCommonSetupBridge","MAWCryptoAuthToken","MAWMainThreadLogger","Run","asyncToGeneratorRuntime","cr:1265","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ArmadilloCutoverClientFalcoEvent").__setRef("MAWSetupBridge"),i=c("requireDeferred")("MAWSetupBridgeOfflineConsumer").__setRef("MAWSetupBridge"),j=c("requireDeferred")("MAWSetupBridgeOfflineSnapshot").__setRef("MAWSetupBridge"),k=d("LSDatabaseDeferred").db.then(d("LSInitSyncCompleteSubscription.bs").use).then(function(){return d("LSDatabaseDeferred").db}),l=function(a){h.loadImmediately(function(b){b=b.log;return b(function(){return{armadillo_thread_id:a.armadilloThreadId,domain:a.domain,event:a.event,event_details:a.eventDetails,open_thread_id:a.openThreadId,success:a.success,trace_id:a.traceId}})})};function a(a){var c=a.dispatch,e=a.environment,f=a.logout,g=a.worker;function h(){g.postMessage({type:"force-flush-data"})}d("Run").onUnload(h);d("Run").onBeforeUnload(h,!1);return d("MAWCommonSetupBridge").initBridge({customizeEventHandlers:{flushLogs:function(a){return d("MAWMainThreadLogger").logToHistoryInBulk(a.logs)},logCutoverEvent:l,logout:f,offlineConsumerProgress:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return(yield i.load()).apply(void 0,arguments)});function c(){return a.apply(this,arguments)}return c}(),offlineSnapshot:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return(yield j.load()).apply(void 0,arguments)});function c(){return a.apply(this,arguments)}return c}(),rotateCryptoAuthToken:function(){return d("MAWCryptoAuthToken").fetchFreshCAT(e)},uiUpdate:function(a){a=a.events;c&&a.forEach(function(a){return c(a)});b("cr:1265")==null?void 0:b("cr:1265").recordBridgeUIEvent(a);d("MAWBridgeUIEventHandler.bs").handleEvents(k,a.map(d("MAWBridgeUIEventsWrapper").UIEventToRE))}},worker:g})}g.setupBridge=a}),98);
__d("MAWSetupMutex.react",["cr:2671","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){var c=a.environment,d=a.fbId;a=a.platformSetupUtils;b("cr:2671").useMutex(c,d,a);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSetupWorker",["cr:4999"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:4999")}),98);
__d("useLegacyUserWatchdog",["MAWIssueNewUserVisibleErrors","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;b=24*60*60*1e3;var i=5*b;function a(){h(function(){var a=c("setTimeout")(function(){d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)},i);return function(){return c("clearTimeout")(a)}})}g["default"]=a}),98);
__d("useMAWContactSync",["I64","JSScheduler","LSAuthorityLevel","LSContactBitOffset.bs","LSContactBlockedByViewerStatus.re","LSContactCapabilityBitOffset.re","LSDatabaseDeferred","MAWBridgeFireAndForget","MAWContactRelationshipType","MAWSyncState","Promise","ReQL","asyncToGeneratorRuntime","debounceCore","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){h(function(){var a=new(b("Promise"))(function(a){c("JSScheduler").scheduleSpeculativeCallback(function(){c("promiseDone")(d("LSDatabaseDeferred").db.then(function(b){return i(b).then(function(a){return l(a)}).then(function(){return j(b)}).then(function(b){return a(b)})}))})});return function(){c("promiseDone")(a.then(function(a){return a()}))}},[])}function i(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("contacts")))}function j(a){return d("ReQL").fromTableAscending(a.table("contacts")).subscribe(n)}var k=!1;function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(k===!0)return;k=!0;yield d("MAWSyncState").waitForInitialSync;yield d("MAWBridgeFireAndForget").fireAndForget("backend","updateContacts",{contacts:a.filter(function(a){return d("I64").to_int32(a.authorityLevel)!==c("LSAuthorityLevel").AUTHORITATIVE}).map(o)})});return m.apply(this,arguments)}function n(a,b){if(b.operation==="delete")return;b=b.value;p.set(a,b);q()}function o(a){var b;b=(b=d("LSContactBitOffset.bs").has(c("LSContactCapabilityBitOffset.re").restrictPlaced,a))!=null?b:!1;return{fbid:d("I64").to_string(a.id),isBlocked:a.blockedByViewerStatus!==d("LSContactBlockedByViewerStatus.re").unblocked,isRestricted:b,name:a.name,relationship:d("MAWContactRelationshipType").getContactRelationshipType(a)}}var p=new Map(),q=c("debounceCore")(function(){p.clear()},1e3);g.useMAWContactSync=a}),98);
__d("useMAWDeregisterDeviceUntilReload",["LSPersistedDbGating","MAWAppMutex","MAWBridgeSendAndReceive","MAWIssueNewUserVisibleErrors","MAWReinitWorker","MAWSetupWorker","MAWStateContext.react","ODS","WALogger","asyncToGeneratorRuntime","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to reinit worker ",""]);h=function(){return a};return a}e=d("react");var i=e.useCallback,j=e.useMemo,k=!1;function l(){k=!0,c("MAWSetupWorker").terminateWorkerPermanently(),d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)}function a(a,e,f){var g=f.getOrSetupWorker,m=f.setupBridge,n=f.terminateWorker,o=j(function(){return d("MAWAppMutex").use()},[]),p=c("useReStore")(),q=d("MAWStateContext.react").useDispatchClearEphemeralSettings();return i(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(k)return;d("ODS").bumpEntityKey(3185,"armadillo_forced_deregister",window.location.hostname);yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","removeCurrentDevice");n("useMAWDeregisterDeviceUntilReload");try{yield c("MAWReinitWorker")({allTablesPersisted:d("LSPersistedDbGating").allTablesPersisted,db:p,dispatchClearEphemeralSettings:q,environment:a,fbId:e,getOrSetupWorker:g,logout:l,mutex:o,setupBridge:m})}catch(a){d("WALogger").TAGS(["LogoutHandler"]).ERROR(h(),a),d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)}}),[n,p,q,a,e,g,o,m])}g["default"]=a}),98);
__d("MAWSetup.react",["BaseHeadingContext","CometPlaceholder.react","CometRelay","CurrentUser","MAWCommonSetup","MAWSetupBridge","MAWSetupMutex.react","MAWSetupWorker","cr:2072","cr:2573","cr:2808","cr:2809","cr:3487","deferredLoadComponent","promiseDone","react","requireDeferredForDisplay","shouldUseMAWSharedWorker","useLegacyUserWatchdog","useMAWContactSync","useMAWDeregisterDeviceUntilReload"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useMemo,k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWLoadingStateSpinner.react").__setRef("MAWSetup.react"));window.XPlatTesting=b("cr:2808");window.XPlatTestingGroups=b("cr:2809");var l=c("CurrentUser").getID();function m(a){var e=d("CometRelay").useRelayEnvironment(),f=c("useMAWDeregisterDeviceUntilReload")(e,l,{doesWorkerExist:c("MAWSetupWorker").doesWorkerExist,getOrSetupWorker:c("MAWSetupWorker").getOrSetupWorker,setupBridge:d("MAWSetupBridge").setupBridge,terminateWorker:c("MAWSetupWorker").terminateWorker}),g=j(function(){return{doesWorkerExist:c("MAWSetupWorker").doesWorkerExist,getOrSetupWorker:c("MAWSetupWorker").getOrSetupWorker,logout:function(){return c("promiseDone")(f())},setupBridge:d("MAWSetupBridge").setupBridge,terminateWorker:c("MAWSetupWorker").terminateWorker}},[f]);d("MAWCommonSetup").useArmadillo(l,g);d("useMAWContactSync").useMAWContactSync();c("useLegacyUserWatchdog")();b("cr:2573")();b("cr:2072")==null?void 0:b("cr:2072")();return h.jsxs(h.Fragment,{children:[a.children,c("shouldUseMAWSharedWorker")()?null:h.jsx(c("MAWSetupMutex.react"),{environment:e,fbId:l,platformSetupUtils:g})]})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var d=i(c("BaseHeadingContext"));return h.jsxs(c("BaseHeadingContext").Provider,{value:d+1,children:[h.jsx(m,babelHelpers["extends"]({},a)),h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(k,{})}),b("cr:3487")&&h.jsx(b("cr:3487"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSetupMutexV2",["FBLogger","LocalStorageMutex","MAWAppMutex","MAWBridge","MAWLocalStorage","MAWReinitWorker","MAWStateContext.react","QPLUserCountEvent","QPLUserFlow","Run","WALoggerDeferred","asyncToGeneratorRuntime","qex","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["AppMutex - Shouldn't reinitialize, worker already exists"]);h=function(){return a};return a}a=d("react");var i=a.useCallback,j=a.useEffect,k=a.useMemo,l=c("FBLogger")("messenger_e2ee_web"),m=!1,n=0;function o(a){if(document.visibilityState!=="visible")return!1;a=a();var b=window.indexedDB!=null,e=d("MAWLocalStorage").isLocalStorageAvailable();if(a){d("WALoggerDeferred").DEV(h());return!1}if(!b){d("QPLUserCountEvent").fireQplUserCount(c("qpl")._(25299354,"201"));return!1}if(!e){d("QPLUserCountEvent").fireQplUserCount(c("qpl")._(25309925,"203"));return!1}return!0}e=function(a,e,f){var g=f.doesWorkerExist,h=f.getOrSetupWorker,p=f.logout,q=f.setupBridge,r=f.terminateWorker,s=k(function(){return d("MAWAppMutex").use()},[]),t=c("useReStore")(),u=d("MAWStateContext.react").useDispatchClearEphemeralSettings(),v=t.persistenceTypes.includes("indexeddb"),w=i(function(a){var b=s.takeoverFilter(a);if(!b||a.newValue===d("LocalStorageMutex").THIS_TAB||a.newValue==="")return;v||d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"DropAllSecureThreads",value:void 0}]});r("MAWSetupMutexV2:handleStoreChange");s.onMutexDeath()},[s,v,r]),x=i(function(){r("MAWSetupMutexV2:handleUnload"),s.onMutexDeath()},[s,r]),y=i(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=o(g);if(!b||m||c("qex")._("215")===!0)return;m=!0;n++;try{yield c("MAWReinitWorker")({allTablesPersisted:v,db:t,dispatchClearEphemeralSettings:u,environment:a,fbId:e,getOrSetupWorker:h,instanceKey:n,logout:p,mutex:s,setupBridge:q})}catch(a){l.mustfix("AppMutex - failed to reinitialize worker"),l.catching(a),c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"failed_to_reinitialize_worker",{error:a,instanceKey:n})}finally{m=!1}}),[g,s,e,h,t,q,a,p,v,u]);j(function(){window.addEventListener("storage",w);var a=d("Run").onBeforeUnload(x,!1),b=d("Run").onUnload(x);window.addEventListener("visibilitychange",y);return function(){window.removeEventListener("storage",w),a.remove(),b.remove(),window.removeEventListener("visibilitychange",y)}},[w,x,y])};g.useMutex=e}),98);
__d("MAWCommonSetupUser",["CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(){return{getAccountID:c("CurrentUser").getAccountID(),getAppID:c("CurrentUser").getAppID(),getEIMU:c("CurrentUser").getEIMU(),getEmployeeWorkUserID:c("CurrentUser").getEmployeeWorkUserID(),getID:c("CurrentUser").getID(),getName:c("CurrentUser").getName(),getPossiblyNonFacebookUserID:c("CurrentUser").getPossiblyNonFacebookUserID(),getShortName:c("CurrentUser").getShortName(),hasSecondaryBusinessPerson:c("CurrentUser").hasSecondaryBusinessPerson(),hasWorkUser:c("CurrentUser").hasWorkUser(),isBusinessPersonAccount:c("CurrentUser").isBusinessPersonAccount(),isDeactivatedAllowedOnMessenger:c("CurrentUser").isDeactivatedAllowedOnMessenger(),isEmployee:c("CurrentUser").isEmployee(),isFacebookWorkAccount:c("CurrentUser").isFacebookWorkAccount(),isGray:c("CurrentUser").isGray(),isLoggedIn:c("CurrentUser").isLoggedIn(),isLoggedInNow:c("CurrentUser").isLoggedInNow(),isMessengerCallGuestUser:c("CurrentUser").isMessengerCallGuestUser(),isMessengerOnlyUser:c("CurrentUser").isMessengerOnlyUser(),isTestUser:c("CurrentUser").isTestUser(),isUnderage:c("CurrentUser").isUnderage(),isWorkroomsUser:c("CurrentUser").isWorkroomsUser(),isWorkUser:c("CurrentUser").isWorkUser()}}g.getCurrentUserForArmadilloSetup_DO_NOT_USE=a}),98);
__d("FuncChannel",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var d=this;this.$2=[];this.callMessageHandler=function(a){return new(b("Promise"))(function(b,c){a.result={resolveFunc:b,rejectFunc:c},d.$2.push(a)})};this.messageToCall=function(a){var b,e,f=d.proxyMethods[a.method];if(typeof f!=="function"){c("FBLogger")("worker").mustfix("proxyMethods["+a.method+"] is not a functions");return}b=(b=a.result)==null?void 0:b.resolveFunc;e=(e=a.result)==null?void 0:e.rejectFunc;if(typeof b==="function"&&typeof e==="function")try{var g=f.apply(a.thisArg,a.argList);b(g)}catch(a){e(a)}else return f.apply(a.thisArg,a.argList)};var e=this,f={},g=a(f);a=Object.keys(g);var h={};a.forEach(function(a){h[a]=function(){var b={type:"call",method:a,thisArg:null,argList:Array.from(arguments)};return e.callMessageHandler(b)},f[a]=function(){var b=e.$1[a];if(typeof b!=="function"){c("FBLogger")("worker").mustfix("_backend["+a+"] is not a functions");return}return b.apply(e.$1,arguments)},g[a]===null&&(g[a]=f[a])});this.$1=h;this.proxyMethods=g}var d=a.prototype;d.flushBuffer=function(){var a=this.$2;this.$2=[];a.forEach(this.messageToCall)};d.setBackend=function(a){this.$1!==a&&(this.$1=a,this.flushBuffer());return this};d.setCallMessageHandler=function(a){this.callMessageHandler=a,this.flushBuffer()};return a}();g["default"]=a}),98);
__d("MainPageUrl",["ExecutionEnvironment","FBLogger","SimpleHook"],(function(a,b,c,d,e,f,g){"use strict";var h=new URL("http://undefined"),i=new(d("SimpleHook").SimpleHook)();function j(){return c("ExecutionEnvironment").isInBrowser&&h.searchParams.get("workerlog")==="debug"}function a(a){try{j()&&c("FBLogger")("worker").debug("received url "+a);var b=new URL(a,h.href||"http://undefined");h.href!==b.href?(h.href=b.href,i.call(h)):j()&&c("FBLogger")("worker").debug("ignoring url: path didn't change in "+a)}catch(a){c("FBLogger")("worker").catching(a).warn("invalid url")}}typeof window==="object"&&typeof window.location==="object"&&typeof window.location.href==="string"&&a(window.location.href);g.mainPageUrl=h;g.onMainPageUrlChange=i;g.isWorkerLogEnabled=j;g.updateMainPageUrl=a}),98);
__d("TimedOnceFunc",["ExecutionEnvironment"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$2=!1,this.$4=a,this.$3=b,c("ExecutionEnvironment").isInBrowser&&this.$5()}var b=a.prototype;b.$6=function(){this.$1!=null&&clearTimeout(this.$1),this.$1=null};b.$5=function(){var a=this;this.isDone()||(this.$6(),this.$1=setTimeout(function(){a.$2=!0,a.run()},this.$3))};b.isDone=function(){return this.$4===null};b.isCancelled=function(){return this.$1===null&&this.$4!==null};b.run=function(){this.$6();if(this.$4!=null){var a=this.$4;this.$4=null;a(this.$2)}};b.getDelay=function(){return this.$3};b.delay=function(a){this.$3=(a=a)!=null?a:this.$3;this.$5()};b.cancel=function(){this.$6()};return a}();g.TimedOnceFunc=a}),98);
__d("VirtualMessageChannel",["invariant","Promise","SimpleHook","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(){function a(a){a===void 0&&(a=!1),this.$2=new(d("SimpleHook").SimpleHook)(),this.onmessage=null,this.onmessageerror=null,this.$3=a}var e=a.prototype;e.setRemotePort=function(a){this.$1=a};e.addEventListener=function(a,b,c){(a==="message"||a==="error")&&c==null||h(0,55320,a);if(a==="message")if(typeof b==="function")this.$2.add(b);else{c=b.handleEvent.bind(b);this.$2.add(c);b.__handler=c}};e.removeEventListener=function(a,b,c){if(typeof b==="function")this.$2.remove(b);else{a=b.__handler;this.$2.remove(a)}};e.postMessage=function(a,d){var e=this,f=function(){var b=c("nullthrows")(e.$1,"By now remote port must have value!");b.$2.call({data:a,ports:d})};this.$3?f():c("promiseDone")(b("Promise").resolve(),f)};e.start=function(){};return a}();a=function(a,b){this.port1=new i(a),this.port2=new i(b),this.port1.setRemotePort(this.port2),this.port2.setRemotePort(this.port1)};g.VirtualMessagePort=i;g.VirtualMessageChannel=a}),98);
__d("DoubleKeyMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.set=function(a,b,c){var d=this.$1.get(a);d||this.$1.set(a,d=new Map());d.set(b,c)};b.get=function(a,b){return(a=this.$1.get(a))==null?void 0:a.get(b)};b["delete"]=function(a,b){var c=this.$1.get(a);c&&(c["delete"](b),c.size===0&&this.$1["delete"](a))};b.getAll=function(a){return this.$1.get(a)};b.deleteAll=function(a){this.$1["delete"](a)};return a}();f.DoubleKeyMap=a}),66);
__d("NestedTimeRange",["SimpleHook","performance","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("SimpleHook").SimpleHook)(),i=new(d("SimpleHook").SimpleHook)(),j="/";function k(a,b){return""+a+j+b}b=function(){function a(a,b){b===void 0&&(b=null),this.$3=0,this.$1=a,this.$2=b}var b=a.prototype;b.isRunning=function(){return this.$3>0};b.fullname=function(){return this.$2!==null?k(this.$2.fullname(),this.$1):this.$1};b.start=function(a){a===void 0&&(a=c("performanceAbsoluteNow")());if(this.$3===0){var b;(b=this.$2)==null?void 0:b.start(a);this.__onStart(a)}++this.$3;return a};b.__onStart=function(a){h.call(this,a)};b.stop=function(a){a===void 0&&(a=c("performanceAbsoluteNow")());--this.$3;if(this.$3===0){var b;this.__onStop(a);(b=this.$2)==null?void 0:b.stop(a)}return a};b.__onStop=function(a){i.call(this,a)};return a}();function a(){c("performance").mark&&c("performance").measure&&(h.add(function(a,b){c("performance").mark(a.fullname()+"_start")}),i.add(function(a,b){c("performance").measure(a.fullname(),a.fullname()+"_start")}))}g.OnRangeStart=h;g.OnRangeStop=i;g.TIME_RANGE_LEVEL_SEPARATOR=j;g.rangeFullName=k;g.NestedTimeRange=b;g.enableDevConsoleTimeline=a}),98);
__d("QLogEvent",["DoubleKeyMap","FBLogger","NestedTimeRange","QPLEvent","SimpleHook","performanceNavigationStart"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("DoubleKeyMap").DoubleKeyMap)(),i=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d){a=b.call(this,a,d)||this;a.$QPLRange1=c;h.set(c,a.fullname(),babelHelpers.assertThisInitialized(a));return a}var e=a.prototype;e.__onStart=function(a){b.prototype.__onStart.call(this,a),this.$QPLRange1.point(this.fullname()+"_START",{timestamp:a})};e.__onStop=function(a){b.prototype.__onStop.call(this,a),this.$QPLRange1.point(this.fullname()+"_END",{timestamp:a}),h["delete"](this.$QPLRange1,this.fullname())};e.range=function(b){this.fullname().startsWith(d("NestedTimeRange").TIME_RANGE_LEVEL_SEPARATOR)||c("FBLogger")("qpl").warn("Range %s cannot have subrange since root name does not start with /",this.fullname());var e=d("NestedTimeRange").rangeFullName(this.fullname(),b);return(e=h.get(this.$QPLRange1,e))!=null?e:new a(b,this.$QPLRange1,this)};return a}(d("NestedTimeRange").NestedTimeRange),j=new(d("DoubleKeyMap").DoubleKeyMap)(),k=new(d("SimpleHook").SimpleHook)(),l=new(d("SimpleHook").SimpleHook)(),m=new(d("SimpleHook").SimpleHook)(),n=new(d("SimpleHook").SimpleHook)(),o=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f){var g;c===void 0&&(c=0);e===void 0&&(e=2);f===void 0&&(f=!1);var h=d("QPLEvent").getMarkerId(a);g=b.call(this,"event_"+h)||this;g.event=a;g.instanceKey=c;g.$QPLEvent1=e;g.isUserFlow=f;j.set(h,c,babelHelpers.assertThisInitialized(g));return g}var e=a.prototype;e.action=function(a){this.$QPLEvent1=a;return this};e.getAction=function(){return this.$QPLEvent1};e.setIsUserFlow=function(a){this.isUserFlow=a;return this};e.startFromNavStart=function(){this.start(c("performanceNavigationStart")());return this};e.startFromTime=function(a){this.start(a);return this};e.__onStart=function(a){k.call(this,a)};e.__onStop=function(a){l.call(this,a),h.deleteAll(this),j["delete"](d("QPLEvent").getMarkerId(this.event),this.instanceKey)};e.range=function(a){var b;return(b=h.get(this,a))!=null?b:new i(a,this)};e.point=function(a,b){b===void 0&&(b={});m.call(this,a,b);return this};e.annotate=function(a){n.call(this,a);return this};return a}(d("NestedTimeRange").NestedTimeRange);function a(a,b){var c;b===void 0&&(b=0);return(c=j.get(d("QPLEvent").getMarkerId(a),b))!=null?c:new o(a,b)}g.OnEventStart=k;g.OnEventStop=l;g.OnEventPoint=m;g.OnEventAnnotate=n;g.QPLEvent=o;g.event=a}),98);
__d("WorkerMessagePort",["FBLogger","MainPageUrl","Promise","QLogEvent","SimpleHook","VirtualMessageChannel","performanceAbsoluteNow","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=100,j=50;function k(a){return a}var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("SimpleHook").SimpleHook);function m(a,b){a=k(a);a.__timing=b}function n(a){return a.__timing}var o=0;function p(){return d("QLogEvent").event(c("qpl")._(41497718,"106"),o++)}var q=Math.random()<.1;function r(a,b,c){var d;if(b==null||!q)return;var e=b.sendDelayHighPrecision,f=b.sendTimestamp,g=b.sendDateTime,j=b.receiveTimestamp;b=b.receiveDateTime;d=(d=c)!=null?d:p();c==null&&d.startFromTime();var k=d.range("SEND_DELAY");k.start(f);k.stop(j);k=d.range("SEND_DELAY_LOW_PRECISION");k.start(g);k.stop(b);k=Math.abs(f-g);f=Math.abs(j-b);d.annotate({string:{port_name:a},"int":{send_delay:e,send_drift:k,receive_drift:f},bool:{send_delay_above_max:e!=null&&e>h,send_drift_above_max:k>i,receive_drift_above_max:f>i}});c==null&&d.stop()}a=function(){var a=e.prototype;a.onMessageHandler=function(a){try{this.onMessage.call(a);var b=this.$1[a.type];!b?this.onUnhandledMessage.call(a):b.call(a)}catch(a){this.onError.call(a)}};function e(a,b){var d=this;this.$1={};this.onUnhandledMessage=new l();this.onMessage=new l();this.onPostMessage=new l();this.onError=new l();this.$2=a;this.name=b;this.$2.addEventListener("message",function(a){return d.onMessageHandler(k(a.data))});this.$2.addEventListener("error",function(a){return d.onError.call(a)});this.onPostMessage.add(function(a){m(a,{sendTimestamp:c("performanceAbsoluteNow")(),receiveTimestamp:-1,sendDelayHighPrecision:0,sendDateTime:Date.now(),receiveDateTime:-1,sendDelayLowPrecision:0})});this.onMessage.add(function(a){a=n(a);if(a!=null){var b=a.sendTimestamp,e=a.sendDateTime,f=c("performanceAbsoluteNow")(),g=Date.now();a.receiveTimestamp=f;a.receiveDateTime=g;a.sendDelayHighPrecision=f-b;a.sendDelayLowPrecision=g-e;r(d.name,a)}})}a.postMessage=function(a,b){this.onPostMessage.call(a),b?this.$2.postMessage(a,b):this.$2.postMessage(a)};a.addMessageListener=function(a,b){var c=this.$1[a];c||(c=new l(),this.$1[a]=c);return c.add(b)};a.removeMessageListener=function(a,b){a=this.$1[a];return!!a&&a.remove(b)};a.onMessageOnce=function(a,c){var d=this;return new(b("Promise"))(function(b){var e=d.addMessageListener(a,function(f){c(f)&&(d.removeMessageListener(a,e),b(f))})})};a.close=function(){if(this.$2 instanceof MessagePort)this.$2.close();else if(this.$2 instanceof Worker)this.$2.terminate();else if(this.$2 instanceof DedicatedWorkerGlobalScope)this.$2.close();else{var a;(a=(a=this.$2.close)!=null?a:this.$2.terminate)==null?void 0:a.call(this.$2)}};a.isWrappingVirtualMessagePort=function(){return this.$2 instanceof d("VirtualMessageChannel").VirtualMessagePort};return e}();function s(a){return k(a)}e=function(a){babelHelpers.inheritsLoose(d,a);function d(d,e){var f;f=a.call(this,d,e)||this;var g=s(babelHelpers.assertThisInitialized(f));d=g.onMessageOnce("endpoint_started",function(){return!0});e=g.onMessageOnce("endpoint_started_received",function(){return!0});g.postMessage({type:"endpoint_started",endpoint:f.name});c("promiseDone")(d,function(a){var b=n(a);g.postMessage({type:"endpoint_started_received",endpoint:a.endpoint,targetEndpoint:f.name,startSendTimestamp:b==null?void 0:b.sendTimestamp});r(f.name,b)});c("promiseDone")(e,function(a){var b=n(a);if(b!=null){var c=p();c.startFromTime();r(f.name,b,c);var d=c.range("ROUND_TRIP");d.start(a.startSendTimestamp);d.stop(b.receiveTimestamp);d=b.receiveTimestamp-a.startSendTimestamp;c.annotate({"int":{round_trip:d},bool:{round_trip_above_max:d>j}}).stop()}});f.fullyConnected=b("Promise").race([d,e]).then(function(){return babelHelpers.assertThisInitialized(f)});return f}return d}(a);g.getMessageTiming=n;g.WorkerMessagePort=a;g.CastWorkerMessagePort=s;g.WorkerSyncedMessagePort=e}),98);
__d("WorkerFuncChannel",["invariant","DateConsts","ExecutionEnvironment","FBLogger","FuncChannel","MainPageUrl","Promise","TimedOnceFunc","VirtualMessageChannel","WorkerMessagePort","err","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i={serialize:function(a,b){b.push(a);return a},deserialize:function(a){return a}},j=1e4,k=0,l=5,m=l+1,n=function(){function a(a){self.WeakRef&&(this.$1=new self.WeakRef(a))}var b=a.prototype;b.isDead=function(){return this.$1!=null&&this.$1.deref()==null};return a}(),o=function(e){babelHelpers.inheritsLoose(a,e);function a(a,b,f,g){var i;f===void 0&&(f=null);g===void 0&&(g={});i=e.call(this,a)||this;i.$WorkerFuncChannel1=new Map();i.$WorkerFuncChannel2=new Map();i.$WorkerFuncChannel5={"function":{serialize:function(a,b){b=m++;i.$WorkerFuncChannel1.set(b,a);a={type:"function",value:b};return a},deserialize:function(a){var b=babelHelpers.assertThisInitialized(i),c=a.value;a=function(){var a={type:"call",id:c,method:"__anonymous",thisArg:null,argList:Array.from(arguments)};return b.callMessageHandler(a)};i.$WorkerFuncChannel2.set(c,new n(a));return a}},custom:{serialize:function(a,b){var c=a.constructor.name,d=i.$WorkerFuncChannel4[c];d!=null||h(0,63779,c);d=d.serialize(a,b);return{type:"custom",custom:c,value:d}},deserialize:function(a){var b=a.custom,c=i.$WorkerFuncChannel4[b];c!=null||h(0,63779,b);return c.deserialize(a.value)}},error:{serialize:function(a,b){b={name:a.name,message:a.message,stack:a.stack};return{type:"error",value:b}},deserialize:function(a){var b=c("err")(a.value.message);b.name=a.value.name;b.stack=a.value.stack;return b}},object:{serialize:function(a,b){b=a.constructor;if(b!==Object)throw new Error("Cannot clone class object");return{type:"object",value:a}},deserialize:function(a){return a.value}},raw:{serialize:function(a,b){return{type:"raw",value:a}},deserialize:function(a){return a.value}}};i.name=b;i.$WorkerFuncChannel3=f;i.$WorkerFuncChannel4=g;a=function(a){d("MainPageUrl").isWorkerLogEnabled()&&c("FBLogger")("adsworker").debug("[Channel] removing callback ids: %s",a.join()),a.forEach(function(a){return i.$WorkerFuncChannel1["delete"](a)})};var l=i.__remoteInternalFunc(k,a);typeof jest===typeof void 0&&c("ExecutionEnvironment").isInBrowser&&setInterval(function(){var a=[];i.$WorkerFuncChannel2.forEach(function(b,c){b.isDead()&&(a.push(c),i.$WorkerFuncChannel2["delete"](c))});a.length>0?l(a):i.$WorkerFuncChannel2.size>5e3&&c("FBLogger")("adsworker").warn("[%s] has too many remaining refs %s",i.name,i.$WorkerFuncChannel2.size)},j);return i}var f=a.prototype;f.__remoteInternalFunc=function(a,b){(a>l||this.$WorkerFuncChannel1.get(a)!=null)&&c("FBLogger")("adsworker").mustfix("invalid internal func id %s",a);this.$WorkerFuncChannel1.set(a,b);b=this.$WorkerFuncChannel5["function"].deserialize({type:"function",value:a});return b};f.$WorkerFuncChannel6=function(a){return a instanceof Int8Array||a instanceof Int16Array||a instanceof Int32Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Uint16Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array};f.$WorkerFuncChannel7=function(a){if(typeof a==="function")return"function";if(a===null)return"raw";if(typeof a!=="object")return"raw";if(Array.isArray(a))return"raw";if(this.$WorkerFuncChannel6(a))return"raw";var b=a.constructor.name;if(this.$WorkerFuncChannel4[b])return"custom";return a instanceof Error?"error":"object"};f.$WorkerFuncChannel8=function(a,b){var c=this.$WorkerFuncChannel7(a);return this.$WorkerFuncChannel5[c].serialize(a,b)};f.$WorkerFuncChannel9=function(a){var b=a;if(a!==null&&typeof a==="object"&&typeof a.type==="string"){var c=this.$WorkerFuncChannel5[a.type];if(c)return c.deserialize(a)}return b};f.__onPostOutMessage=function(a){return a};f.__callCallback=function(a,b){a.apply(null,b.argList)};f.setOutMessagePort=function(a,d){var e=this,f=[];this.setCallMessageHandler(function(d){d.thisArg=e.name;var g=[];d.argList=d.argList.map(function(a){return e.$WorkerFuncChannel8(a,g)});var h=new(b("Promise"))(function(a,b){d.result={resolveFunc:e.$WorkerFuncChannel8(a,g),rejectFunc:e.$WorkerFuncChannel8(b,g)}}),i=e.__onPostOutMessage(d);i!=null&&(f!=null?f.push({message:d,transferList:g}):a.postMessage(d,g));h["catch"](function(a){c("FBLogger")("worker").catching(a).mustfix("Error: channel %s, remote call of %s returned error %s",e.name,d.method,a.message)});return h});c("promiseDone")(d||v.waitForRemote(this.name),function(){var b=f;f=null;b==null?void 0:b.forEach(function(b){a.postMessage(b.message,b.transferList)});e.$WorkerFuncChannel3==null?void 0:e.$WorkerFuncChannel3()})};f.__messageToCall=function(a){var b=this;a.argList=a.argList.map(function(a){return b.$WorkerFuncChannel9(a)});if(a.result){var d=a.result,e=d.resolveFunc;d=d.rejectFunc;e=this.$WorkerFuncChannel9(e);d=this.$WorkerFuncChannel9(d);a.result={resolveFunc:e,rejectFunc:d}}e=a.id;if(e===void 0)this.messageToCall(a);else{d=this.$WorkerFuncChannel1.get(e);d?this.__callCallback(d,a):c("FBLogger")("adsworker").mustfix("Error: callback is called but no longer available")}};f.setInMessagePort=function(a){var b=this;a.addMessageListener("call",function(a){typeof a.thisArg==="string"&&a.thisArg===b.name&&b.__messageToCall(a)});v.notifyReady(this.name)};f.setMessagePort=function(a){this.setInMessagePort(a);this.setOutMessagePort(a);return this};return a}(c("FuncChannel")),p=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("WorkerMessagePort").WorkerMessagePort);function q(a,b,d,e){v.exportChannel(a,function(e){var f=e.syncPort;e=e.remoteNativePort;var g=b();a===g.name||h(0,54247,a,g.name);var i;e?(i=new p(e,f.name+"("+g.name+")"),e.start(),i.onError.add(function(a){c("FBLogger")("worker").catching(a).mustfix("error caught in remotePort");throw a})):i=f;g.setMessagePort(i).setBackend(d);c("promiseDone")(f.fullyConnected,function(){f.postMessage({type:"channelReady",channelName:g.name}),v.logState("EXPORTED",a)})})}function a(a,b,c,d){d===void 0&&(d={});return q(c,function(){return new o(function(b){return a},c,null,d)},a,b)}var r=function(b){babelHelpers.inheritsLoose(a,b);function a(a,e){e===void 0&&(e="");var f=d("DateConsts").MS_PER_MIN*1;return b.call(this,function(){c("FBLogger")("worker").warn("Channel %s did not establish eventually. %s",a,e)},f)||this}return a}(d("TimedOnceFunc").TimedOnceFunc);function s(a,b){var e,f=null,g,h;b.isWrappingVirtualMessagePort()?(h=new(d("VirtualMessageChannel").VirtualMessageChannel)(!0,!0),e="on virtual dedicated channel"):(h=new MessageChannel(),e="on native dedicated channel",g=[h.port2]);var i=h.port1;f=h.port2;i.start();var j=new p(i,b.name+"("+a.name+")");c("promiseDone")(b.fullyConnected,function(){v.logState("IMPORTING "+e+" ",a.name);a.setInMessagePort(j);var d=new r(a.name,e);c("promiseDone")(b.onMessageOnce("channelReady",function(b){return b.channelName===a.name}),function(b){a.setOutMessagePort(j),d.cancel(),v.logState("ESTABLISHED",a.name)});b.postMessage({type:"channelImport",channelName:a.name,port:f},g)});return a.proxyMethods}function t(a,b,c,d){c===void 0&&(c=null);d===void 0&&(d={});b=new o(function(b){return a},b,c,d);return b}function e(a,b,c,d,e){d===void 0&&(d=null);e===void 0&&(e={});return s(t(a,c,d,e),b)}var u=function(){function a(){this.name=self.name+"_P"+Math.round(10*Math.random()),this.$1=new Map(),this.$2=new Set()}var e=a.prototype;e.logState=function(a,b){d("MainPageUrl").isWorkerLogEnabled()&&c("FBLogger")("worker").debug("%s-%s %s",this.name,a,b)};e.$3=function(a){var b=this.$1.get(a);b==null&&(b={pendingPorts:null,onImportRequest:null},this.$1.set(a,b));return b};e.exportChannel=function(a,b){var d=this,e=this.$3(a);e.onImportRequest!=null&&c("FBLogger")("worker").debug("Re-exporting channel %s",a);e.onImportRequest=b;this.logState("REGISTERED",a);a=e.pendingPorts;if(a!=null){var f=a.filter(function(a){return d.$2.has(a.syncPort)});f.forEach(b);f.length<a.length?e.pendingPorts=a.filter(function(a){return!d.$2.has(a.syncPort)}):e.pendingPorts=null}return e};e.activate=function(a,b,d){var e=this;if(this.$2.has(a)){c("FBLogger")("worker").debug("Port %sis already duplicated ",a.name);return}this.$2.add(a);a.addMessageListener("channelImport",function(b){var c=b.channelName,d=e.$3(c);b={syncPort:a,remoteNativePort:b.port};d.onImportRequest!=null?d.onImportRequest(b):d.pendingPorts!=null?d.pendingPorts.push(b):d.pendingPorts=[b];e.logState("IMPORT REQUEST",c)})};e.notifyReady=function(a){};e.waitForRemote=function(a){return b("Promise").resolve()};return a}(),v=new u();function f(a,b,c){v.activate(a,b,c)}g.TransferableTransformer=i;g.WorkerFuncChannel=o;g.exportChannelOnPort=q;g.exportChannel=a;g.importChannelOnPort=s;g.makeChannel=t;g.importChannel=e;g.activateChannels=f}),98);
__d("WorkerBanzaiLazyQueueChannelClient",["BanzaiLazyQueue","WorkerFuncChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").exportChannel(c("BanzaiLazyQueue"),a,"banzai_lazyqueue_channel")}g.init=a}),98);
__d("WorkerQPLChannel",["WorkerFuncChannel","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WorkerFuncChannel").WorkerFuncChannel)(function(a){return{markerStartFromNavStart:null,markerStart:function(b,d,e){e===void 0&&(e=c("performanceAbsoluteNow")());return a.markerStart(b,d,e)},markerAnnotate:function(b,c,d){return a.markerAnnotate(b,c,d)},markerPoint:function(b,d,e){e=(e==null?void 0:e.timestamp)===void 0?babelHelpers["extends"]({},e,{timestamp:c("performanceAbsoluteNow")()}):e;return a.markerPoint(b,d,e)},markerEnd:function(b,d,e,f){f===void 0&&(f=c("performanceAbsoluteNow")());return a.markerEnd(b,d,e,f)}}},"qpl");function a(a){h.setMessagePort(a)}function b(a){h.setBackend(a)}g.setMessagePort=a;g.initQPL=b}),98);
__d("WorkerClient",["WorkerBanzaiLazyQueueChannelClient","WorkerFuncChannel","WorkerQPLChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").activateChannels(a,"client","worker"),d("WorkerBanzaiLazyQueueChannelClient").init(a),d("WorkerQPLChannel").setMessagePort(a),e(["QuickPerformanceLogger"],function(a){return d("WorkerQPLChannel").initQPL(a)})}g.init=a}),98);
__d("MAWCommonSetupWorker",["Deferred","MAWCommonSetupUser","MAWMainThreadLogger","MAWSetupWorker","WADevToolMessageChannel","WALogger","WorkerClient","WorkerMessagePort","err","gkx","performanceNavigationStart","uuid"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Terminating worker and rebooting..."]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker receive invalid message: ",""]);i=function(){return a};return a}var j=c("performanceNavigationStart")()+"__"+c("uuid")();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var e;e=a.call(this,b,c)||this;e.onmessage=null;e.$BridgeAdapter1=b;d("WorkerClient").init(babelHelpers.assertThisInitialized(e));e.onUnhandledMessage.add(function(a){e.onmessage&&e.onmessage({data:a})});return e}var c=b.prototype;c.getBridgePort=function(){return this};return b}(d("WorkerMessagePort").WorkerSyncedMessagePort);function a(a,b,e,f,g){var k=new(c("Deferred"))();a.addMessageListener("worker-setup",function(b){var e;if(b.setupHash!==j)return;b.status==="failure"&&((e=b.logs)==null?void 0:e.length)&&d("MAWMainThreadLogger").logToHistoryInBulk(b.logs);if(b==null||b.type!=="worker-setup"){d("WALogger").WARN(i(),b);return}if(b.status==="success")k.resolve(a.getBridgePort());else if(b.status==="failure"){k.reject(c("err")((e=b.msg)!=null?e:"Encountered an error setting up the armadillo web worker"))}else if(b.status==="already-setup")if(b.action==="no-action"){k.resolve(a.getBridgePort());return}else if(b.action==="reboot-required"&&b.setupHash===j){d("WALogger").DEV(h());c("MAWSetupWorker").terminateWorker("reboot required");return g().then(function(a){return k.resolve(a)})["catch"](function(a){return k.reject(a)})}else throw c("err")("received invalid action for worker-setup:already-setup: "+b.action);else throw c("err")("received invalid message for worker")});var l=d("MAWCommonSetupUser").getCurrentUserForArmadilloSetup_DO_NOT_USE(),m=window.location.hostname;if(c("gkx")("5147")){var n=d("WADevToolMessageChannel").createNewChannel();a.postMessage({content:{currentUser:l,devToolMessageChannelPort2:n.port2,fbId:b,hostname:m,latestKeyVersionForEAR:e,vaultMaterials:f},setupHash:j,type:"worker-setup"},[n.port2])}else a.postMessage({content:{currentUser:l,fbId:b,hostname:m,latestKeyVersionForEAR:e,vaultMaterials:f},setupHash:j,type:"worker-setup"});return k.getPromise()}g.BridgeAdapter=b;g.initWorker=a}),98);
__d("SharedWorkerDevChangeManager",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=new Set();function a(a,b,c){return!h||i.has(a)||b===c}function b(a){h&&i.add(a)}g.shouldUseCurrentWorkerIfDev=a;g.trackCreatedWorker=b}),98);
__d("SharedWorkerInitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4266");b=d("FalcoLoggerInternal").create("shared_worker_init",a);e=b;g["default"]=e}),98);
__d("SharedWorkerLockManager",["Deferred","FBLogger","setImmediate","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h="shared_worker_mutex",i=15e3;function j(){var a;a=(a=window)==null?void 0:(a=a.navigator)==null?void 0:a.locks;if(a==null){c("FBLogger")("comet_infra").warn("User does not support Web Lock API");return{request:function(a,b){c("setImmediate")(function(){b()})}}}return a}function k(a){c("setTimeout")(function(){a.isSettled()||(c("FBLogger")("comet_infra").warn("[SharedWorkerLockManager]: lock timed out in %s ms",i),a.resolve())},i)}function a(a){var b=j(),d=new(c("Deferred"))();b.request(h,function(){k(d);a();return d.getPromise()});return function(){d.resolve()}}g.withLockForWorkerInit=a}),98);
__d("XSharedWorkerBundleControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/shared_worker_bundle/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("SharedWorkerBundleResource",["Deferred","FBLogger","SharedWorkerDevChangeManager","SharedWorkerInitFalcoEvent","SharedWorkerLockManager","SiteData","SpinConfigSitevarConfig","TrustedTypesWebWorkerScriptURLPolicy","WebStorage","XSharedWorkerBundleControllerRouteBuilder","emptyFunction","err","gkx","justknobx","performanceNavigationStart","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h=c("uuid")(),i="__swbundle__",j=c("SpinConfigSitevarConfig").pin_time_window*1e3;function k(a){return a==null?null:JSON.parse(a)}function l(a){a=k(a.getItem(i));if(a==null)return null;var b=c("performanceNavigationStart")();return Object.fromEntries(Object.entries(a).filter(function(a){a[0];a=a[1];return b-a.spin_time*1e3<=j}))}function m(a,b,d,e){if(!c("gkx")("4873"))return;c("SharedWorkerInitFalcoEvent").log(function(){return{client_id:h,bundle_name:a,client_rev:String(c("SiteData").client_revision),local_shared_worker_ref:b!=null?{bundle_url:b.url,rev:String(b.rev),spin_time:String(b.spin_time)}:null,new_shared_worker_ref:{bundle_url:d},init_step:e}})}function n(a,b,c){var d=l(a);if(d==null){var e;a.setItem(i,JSON.stringify((e={},e[b]=c,e)));return}d[b]=c;a.setItem(i,JSON.stringify(d))}function o(a,b){var c=l(a);if(c!=null&&Object.prototype.hasOwnProperty.call(c,b)){delete c[b];a.setItem(i,JSON.stringify(c));return}}function p(a,b){a=k(a.getItem(i));return a==null?null:a[b]}function q(a){return c("justknobx")._("988")?c("XSharedWorkerBundleControllerRouteBuilder").buildURL({bundle_url:a,hash:c("uuid")()}):c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a)}function r(a,b,c){a=new SharedWorker(a,{name:b});a.port.start();a.port.postMessage({type:"execute-worker",args:[c]});return a}function s(a,b,d,e,f,g){b.port.addEventListener("message",function(b){var h;if(typeof b.data==="object"&&((h=b.data)==null?void 0:h.type)==="sw-get-rev"&&typeof b.data.response==="object"){h=(h=b.data)==null?void 0:(h=h.response)==null?void 0:h.workerRevision;b=(b=b.data)==null?void 0:(b=b.response)==null?void 0:b.spinTime;if(h==null||typeof h!=="number"){c("FBLogger")("comet_infra").mustfix("Expected worker rev to be non-null number, but instead received: %s",String(h));return}if(b==null||typeof b!=="number"){c("FBLogger")("comet_infra").mustfix("Expected worker spin time to be non-null number, but instead received: %s",String(b));return}n(a,e,{url:d,rev:h,spin_time:b});m(e,p(a,e),g.url,"after_worker_reference_save");f()}}),b.port.postMessage({type:"sw-get-rev",args:[]})}function t(a,b,e,f,g){var h;a=(a=a)!=null?a:e.name;var i=p(b,a);m(a,i,e.url,"create_worker_start");if(i!=null)if(i.rev>=c("SiteData").client_revision&&d("SharedWorkerDevChangeManager").shouldUseCurrentWorkerIfDev(a,i.url,e.url))h=r(i.url,a,e),f();else{o(b,a);i=new SharedWorker(i.url,a);i.port.postMessage({type:"sw-shutdown",args:[]});i=q(e.url);h=r(i,a,e);s(b,h,i,a,f,e)}else{i=q(e.url);h=r(i,a,e);s(b,h,i,a,f,e)}h.port.addEventListener("message",function(a){var b;typeof a.data==="object"&&((b=a.data)==null?void 0:b.type)==="sw-shutdown"&&typeof a.data.response==="object"&&(g==null?void 0:g())});d("SharedWorkerDevChangeManager").trackCreatedWorker(a);return h}function a(a,b,d){var e=c("WebStorage").getLocalStorage();if(e==null)throw c("err")("Shared worker could not start, missing session storage");return t(d,e,a,c("emptyFunction"),b)}function b(a,b,e){var f=new(c("Deferred"))(),g=c("WebStorage").getLocalStorage();if(g==null)throw c("err")("Shared worker could not start, missing session storage");var h=d("SharedWorkerLockManager").withLockForWorkerInit(function(){f.resolve(t(e,g,a,h,b))});return f.getPromise()}g.createPushSafeSharedWebWorker=a;g.createPushSafeSharedWebWorkerAsync=b}),98);
__d("WorkerBundleResource",["TrustedTypesWebWorkerScriptURLPolicy"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d,e;for(var f=arguments.length,g=new Array(f>2?f-2:0),h=2;h<f;h++)g[h-2]=arguments[h];var i=(d=b)!=null?d:a.name,j=new window.URL(a.url,window.location.href).href;if(j==null){var k=new Error("Can't start up worker without a resource url.");k.stack;throw k}var l=new Blob(["__DEV__=false;","if (self.trustedTypes && self.trustedTypes.createPolicy) {","const escapeScriptURLPolicy = self.trustedTypes.createPolicy('workerPolicy', {\n  createScriptURL: url => url });","importScripts(escapeScriptURLPolicy.createScriptURL('"+j+"'));","} else {","importScripts('"+j+"');","}","StartBundle.apply(null, "+JSON.stringify([a].concat((e=g)!=null?e:[]))+")"],{type:"text/javascript"}),m=window.URL.createObjectURL(l),n=new Worker(c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(m),{name:i}),o=n.terminate;n.terminate=function(){window.URL.revokeObjectURL(this._objectURL),o.apply(this,arguments)};return n}function b(a,b){b=(b=b)!=null?b:a.name;b=new SharedWorker(c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a.url),{name:b});b.port.start();b.port.postMessage({type:"execute-worker",args:[a]});return b}g.createDedicatedWebWorker=a;g.createSharedWebWorker=b}),98);
__d("MAWWebWorkerSingletonAsync",["FBLogger","MAWMainWebWorkerResource","Promise","SharedWorkerBundleResource","WorkerBundleResource","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){if(!h){var e=c("shouldUseMAWSharedWorker")();i();e?h=d("SharedWorkerBundleResource").createPushSafeSharedWebWorkerAsync(c("MAWMainWebWorkerResource"),a).then(function(a){a.onerror=function(a){c("FBLogger")("messenger_e2ee_web").mustfix("[MAWWebWorkerSingletonAsync: Shared Worker]: %s:%s:%s",JSON.stringify(a==null?void 0:a.message),a==null?void 0:a.lineno,a==null?void 0:a.colno)};return a.port}):h=b("Promise").resolve(d("WorkerBundleResource").createDedicatedWebWorker(c("MAWMainWebWorkerResource"))).then(function(a){a.onerror=function(a){c("FBLogger")("messenger_e2ee_web").mustfix("[MAWWebWorkerSingletonAsync: Dedicated Worker]: %s:%s:%s",JSON.stringify(a==null?void 0:a.message),a==null?void 0:a.lineno,a==null?void 0:a.colno)};return a})}return h}function e(){h=null}function i(){}g.createWorkerIfNone=a;g.destroyWorkerInstance=e}),98);
__d("startMAWWorkerWatchdog",["MAWBridgeSendAndReceive","MAWIssueNewUserVisibleErrors","Promise","clearInterval","promiseDone","setInterval","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=30*1e3,i=h/2;function a(){var a=c("setInterval")(function(){var e=new(b("Promise"))(function(a,b){c("setTimeout")(function(){b(d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgBody)},i)});e=b("Promise").race([d("MAWBridgeSendAndReceive").sendAndReceive("backend","getWorkerHeartbeat"),e]);c("promiseDone")(e.then(function(b){b||(d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER),c("clearInterval")(a))})["catch"](function(b){d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER);c("clearInterval")(a);throw b}))},h);return function(){return c("clearInterval")(a)}}g["default"]=a}),98);
__d("MAWSetupWorkerAsync",["Deferred","MAWCommonSetupWorker","MAWInit","MAWWebWorkerSingletonAsync","Promise","WALogger","asyncToGeneratorRuntime","err","promiseDone","setTimeout","startMAWWorkerWatchdog"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker terminating: for ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker doesn't exist, no need to terminate"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker setting up"]);j=function(){return a};return a}var k=null,l=null,m=null,n=!1;function o(a,b,e,f){if(n)throw c("err")("Worker is permanently killed.");var g=function(){return o(a,b,e,f)};d("MAWInit").logPoint("create_worker_start");var h=d("MAWWebWorkerSingletonAsync").createWorkerIfNone(function(){q("createWorkerIfNone:onClose"),c("setTimeout")(function(){c("promiseDone")(g(),f)},5e3)}),i=new(c("Deferred"))();k=i.getPromise();l=h;return l.then(function(f){d("MAWInit").logPoint("create_worker_end");if(f===null)throw c("err")("Client is starting bridge without a worker.");d("WALogger").LOG(j());var h=new(d("MAWCommonSetupWorker").BridgeAdapter)(f,"MAWMainWorker");i.resolve(h);return d("MAWInit").measurePerformance("maw_init_worker",function(){return d("MAWCommonSetupWorker").initWorker(h,a,b,e,g)})})}function a(a,b,d,e){if(!k){a=o(a,b,d,e);m=c("startMAWWorkerWatchdog")();return a}return k}function e(){return l!=null}function p(a,b,e){if(!k){b&&d("WALogger").LOG(i());return!1}b&&d("WALogger").LOG(h(),e);l=null;c("promiseDone")(k.then(function(a){return a==null?void 0:a.close()}));k=null;d("MAWWebWorkerSingletonAsync").destroyWorkerInstance();a&&m!=null&&(m(),m=null);return!0}function q(a){p(!0,!0,a)}function f(){p(!0,!0,"terminateWorkerPermanently"),n=!0}function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){p(!1,!1,"killWorkerForTest")&&(yield t(45e3))});return s.apply(this,arguments)}function t(a){return new(b("Promise"))(function(b){return c("setTimeout")(b,a)})}g.getOrSetupWorker=a;g.doesWorkerExist=e;g.terminateWorker=q;g.terminateWorkerPermanently=f;g.killWorkerForTest=r}),98);
__d("LSSyncStatus.re",["LSSyncStatus.bs"],(function(a,b,c,d,e,f){c=(a=b("LSSyncStatus.bs")).initializing;f.initializing=c;d=a.complete;f.complete=d;e=a.resnapshotting;f.resnapshotting=e;b=a.paging;f.paging=b}),null);
__d("useInitSyncCompleteTimeout",["I64","LSDatabaseDeferred","LSSyncStatus.re","MAWInitSyncComplete.bs","MWChatDataLossCheckerUtil","ReQL","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){h(function(){var a=window.setTimeout(function(){c("promiseDone")(d("LSDatabaseDeferred").db.then(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("sync_groups")).getKeyRange(d("MAWInitSyncComplete.bs").id)).then(function(b){((b==null?void 0:b.syncStatus)===void 0||!d("I64").equal(b.syncStatus,c("LSSyncStatus.re").complete))&&d("MWChatDataLossCheckerUtil").fetchCountsAndLogDataLoss(a)})}))},1e4);return function(){window.clearTimeout(a)}},[])}g["default"]=a}),98);
__d("useDataLossChecker",["useDataLossStatisticsStorageListener","useInitSyncCompleteTimeout"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("useInitSyncCompleteTimeout")(),d("useDataLossStatisticsStorageListener").useDataLossStatisticsStorageListener()}g["default"]=a}),98);
__d("useDataLossCheckerNoop",[],(function(a,b,c,d,e,f){"use strict";function a(){}f["default"]=a}),66);
__d("MAWLoadingStateToastSelectors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return a.offlineQueueCount};b=function(a){return a.offlineQueueProgressDownloaded};f.offlineQueueCountSelector=a;f.offlineQueueProgressCountSelector=b}),66);
__d("MAWLoadingStateSpinner.react",["fbt","ix","BaseToasterStateManager","CometIcon.react","CometProgressRingDeterminate.react","MAWLoadingStateToastSelectors","MAWStateContext.react","fbicon","mwPushToast","mwReplaceToast","react","useMAWOfflineQueueLoadingIndicator"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");e=b.memo;var k=b.useEffect,l=b.useMemo,m=b.useRef,n=h._("__JHASH__f9ft1Nb-b3f__JHASH__"),o=h._("__JHASH__laOwOEc4JeD__JHASH__"),p=function(a,b){return h._("__JHASH__-uoxDFsOMfK__JHASH__",[h._param("restoredMessage",a.toString()),h._param("count",b.toString())])},q=c("BaseToasterStateManager").getInstance();function r(a,b){var d=100*a/b;a=b>100?p(a,b):void 0;return{body:a,icon:{comet:j.jsx(c("CometProgressRingDeterminate.react"),{color:"light",percentage:d,size:20})},startAddOn:{source:d,type:"progressRing"},title:n}}function s(a){d("mwReplaceToast").mwReplaceToast({icon:{comet:j.jsx(c("CometIcon.react"),{icon:d("fbicon")._(i("498146"),20)}),mds:d("fbicon")._(i("477815"),24)},title:o,toastId:a})}function a(){var a=c("useMAWOfflineQueueLoadingIndicator")(!0),b=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueCountSelector),e=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueProgressCountSelector),f=m();l(function(){if(a)f.current==null?f.current=d("mwPushToast").mwPushToast(r(e,b),Number.MAX_SAFE_INTEGER):d("mwReplaceToast").mwReplaceToast(babelHelpers["extends"]({},r(e,b),{toastId:f.current}));else if(f.current!=null){var c=f.current;s(c);window.setTimeout(function(){q.expire(c),f.current=void 0},2750)}},[e,a,b]);k(function(){return function(){f.current!=null&&q.expire(f.current)}},[]);return null}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("CometFeedFavoritesEndOfFeedMessageQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7221332091272137"}),null);
__d("CometFeedFavoritesEndOfFeedMessageQuery.graphql",["CometFeedFavoritesEndOfFeedMessageQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"hasNoStories"}],c=[{alias:null,args:[{kind:"Literal",name:"is_end_of_feed",value:!0}],concreteType:"SeeFirstMigrationContent",kind:"LinkedField",name:"see_first_migration_content",plural:!1,selections:[{args:null,documentName:"CometFeedFavoritesEndOfFeedMessageQuery_eof",fragmentName:"CometFeedSeeFirstMigrationCard_content",fragmentPropName:"content",kind:"ModuleImport"}],storageKey:"see_first_migration_content(is_end_of_feed:true)"},{alias:null,args:[{kind:"Variable",name:"is_empty_feed",variableName:"hasNoStories"}],concreteType:"ValueProposition",kind:"LinkedField",name:"favorites_caught_up_content",plural:!1,selections:[{args:null,documentName:"CometFeedFavoritesEndOfFeedMessageQuery_caughtup",fragmentName:"CometFeedFavoritesCaughtUp_content",fragmentPropName:"content",kind:"ModuleImport"}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometFeedFavoritesEndOfFeedMessageQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometFeedFavoritesEndOfFeedMessageQuery",selections:c},params:{id:b("CometFeedFavoritesEndOfFeedMessageQuery_facebookRelayOperation"),metadata:{},name:"CometFeedFavoritesEndOfFeedMessageQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometModernHomeFeedQuery.graphql",["GroupsCometDelayCheckBlockedUsers.relayprovider","IsWorkUser.relayprovider","IsMergQAPolls.relayprovider","StoriesRing.relayprovider","CometFeedUnit_feedUnit$normalization.graphql","CometModernHomeFeedQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g={__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider:b("GroupsCometDelayCheckBlockedUsers.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__StoriesRingrelayprovider:b("StoriesRing.relayprovider")};a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"RELAY_INCREMENTAL_DELIVERY"},c={defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey"},d={defaultValue:null,kind:"LocalArgument",name:"connectionClass"},e={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},f={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},h={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},i={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},j={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},k={defaultValue:null,kind:"LocalArgument",name:"experimentalValues"},l={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},m={defaultValue:null,kind:"LocalArgument",name:"feedStyle"},n={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},o={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},p={defaultValue:["TOP_STORIES"],kind:"LocalArgument",name:"orderby"},q={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},r={defaultValue:null,kind:"LocalArgument",name:"recentVPVs"},s={defaultValue:null,kind:"LocalArgument",name:"refreshMode"},t={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},u={defaultValue:null,kind:"LocalArgument",name:"scale"},v={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},w=[{kind:"Variable",name:"connection_class",variableName:"connectionClass"},{kind:"Literal",name:"environment",value:"DESKTOP"},{kind:"Variable",name:"experimental_values",variableName:"experimentalValues"},{kind:"Variable",name:"feed_style",variableName:"feedStyle"},{kind:"Literal",name:"first",value:2},{kind:"Variable",name:"orderby",variableName:"orderby"},{kind:"Variable",name:"recent_vpvs_v2",variableName:"recentVPVs"},{kind:"Variable",name:"refresh_mode",variableName:"refreshMode"},{kind:"Literal",name:"site",value:"comet"}],x={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},z=[y],A=[{alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:z,storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v],kind:"Fragment",metadata:null,name:"CometModernHomeFeedQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNewsFeed_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,j,e,f,h,i,l,m,n,o,q,u,v,s,t,a,p,c,r,k,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesRingrelayprovider"}],kind:"Operation",name:"CometModernHomeFeedQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:w,concreteType:"NewsFeedConnection",kind:"LinkedField",name:"news_feed",plural:!1,selections:[{alias:null,args:null,concreteType:"NewsFeedInject",kind:"LinkedField",name:"injected_stories",plural:!1,selections:[{args:null,documentName:"CometNewsFeed_viewer",fragmentName:"CometInjectedStoriesNotice_edge",fragmentPropName:"edge",kind:"ModuleImport"}],storageKey:null},{"if":"RELAY_INCREMENTAL_DELIVERY",kind:"Stream",label:"CometNewsFeed_viewer$stream$CometNewsFeed_viewer_news_feed",selections:[{alias:null,args:null,concreteType:"NewsFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[x,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},x],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:z,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:z,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:z,type:"XFBDummyReelsInWatchIFU",abstractKey:null},{kind:"InlineFragment",selections:z,type:"XFBSFTFeedUnit",abstractKey:null},{kind:"TypeDiscriminator",abstractKey:"__isFeedUnit"},{kind:"InlineFragment",selections:A,type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:A,type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{args:null,fragment:b("CometFeedUnit_feedUnit$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null},{alias:null,args:null,concreteType:"FeedBackendData",kind:"LinkedField",name:"feed_backend_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vsid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vspos",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_recent_vpv_fetch_tracking_data",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}]},{"if":"RELAY_INCREMENTAL_DELIVERY",kind:"Defer",label:"CometNewsFeed_viewer$defer$CometNewsFeed_viewer_news_feed$page_info",selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[x,{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:w,filters:["orderby","feed_style"],handle:"comet_news_feed",key:"CometNewsFeed_viewer_news_feed",kind:"LinkedHandle",name:"news_feed"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[x,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_have_friends",storageKey:null},{alias:null,args:null,concreteType:"AllFriendsConnection",kind:"LinkedField",name:"all_friends",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_fb_employee",storageKey:null}],storageKey:null}]},params:{id:b("CometModernHomeFeedQuery_facebookRelayOperation"),metadata:{},name:"CometModernHomeFeedQuery",operationKind:"query",text:null,providedVariables:g}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometNewsFeedPaginationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6015957238523130"}),null);
__d("CometNewsFeedPaginationQuery.graphql",["GroupsCometDelayCheckBlockedUsers.relayprovider","IsWorkUser.relayprovider","IsMergQAPolls.relayprovider","StoriesRing.relayprovider","CometFeedUnit_feedUnit$normalization.graphql","CometNewsFeedPaginationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";var g={__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider:b("GroupsCometDelayCheckBlockedUsers.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__StoriesRingrelayprovider:b("StoriesRing.relayprovider")};a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"RELAY_INCREMENTAL_DELIVERY"},c={defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey"},d={defaultValue:null,kind:"LocalArgument",name:"clientQueryId"},e={defaultValue:null,kind:"LocalArgument",name:"connectionClass"},f={defaultValue:2,kind:"LocalArgument",name:"count"},h={defaultValue:null,kind:"LocalArgument",name:"cursor"},i={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},j={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},k={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},l={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},m={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},n={defaultValue:null,kind:"LocalArgument",name:"experimentalValues"},o={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},p={defaultValue:null,kind:"LocalArgument",name:"feedStyle"},q={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},r={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},s={defaultValue:null,kind:"LocalArgument",name:"orderby"},t={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},u={defaultValue:null,kind:"LocalArgument",name:"recentVPVs"},v={defaultValue:null,kind:"LocalArgument",name:"refreshMode"},w={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},x={defaultValue:null,kind:"LocalArgument",name:"scale"},y={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},z=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"client_query_id",variableName:"clientQueryId"},{kind:"Variable",name:"connection_class",variableName:"connectionClass"},{kind:"Literal",name:"environment",value:"DESKTOP"},{kind:"Variable",name:"experimental_values",variableName:"experimentalValues"},{kind:"Variable",name:"feed_style",variableName:"feedStyle"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"orderby",variableName:"orderby"},{kind:"Variable",name:"recent_vpvs_v2",variableName:"recentVPVs"},{kind:"Variable",name:"refresh_mode",variableName:"refreshMode"},{kind:"Literal",name:"site",value:"comet"}],A={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},C=[B],D=[{alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:C,storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y],kind:"Fragment",metadata:null,name:"CometNewsFeedPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"clientQueryId",variableName:"clientQueryId"},{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"CometNewsFeed_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesRingrelayprovider"}],kind:"Operation",name:"CometNewsFeedPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:z,concreteType:"NewsFeedConnection",kind:"LinkedField",name:"news_feed",plural:!1,selections:[{alias:null,args:null,concreteType:"NewsFeedInject",kind:"LinkedField",name:"injected_stories",plural:!1,selections:[{args:null,documentName:"CometNewsFeed_viewer",fragmentName:"CometInjectedStoriesNotice_edge",fragmentPropName:"edge",kind:"ModuleImport"}],storageKey:null},{"if":"RELAY_INCREMENTAL_DELIVERY",kind:"Stream",label:"CometNewsFeed_viewer$stream$CometNewsFeed_viewer_news_feed",selections:[{alias:null,args:null,concreteType:"NewsFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[A,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},A],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:C,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:C,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:C,type:"XFBDummyReelsInWatchIFU",abstractKey:null},{kind:"InlineFragment",selections:C,type:"XFBSFTFeedUnit",abstractKey:null},{kind:"TypeDiscriminator",abstractKey:"__isFeedUnit"},{kind:"InlineFragment",selections:D,type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:D,type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{args:null,fragment:b("CometFeedUnit_feedUnit$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null},{alias:null,args:null,concreteType:"FeedBackendData",kind:"LinkedField",name:"feed_backend_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vsid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vspos",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_recent_vpv_fetch_tracking_data",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}]},{"if":"RELAY_INCREMENTAL_DELIVERY",kind:"Defer",label:"CometNewsFeed_viewer$defer$CometNewsFeed_viewer_news_feed$page_info",selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[A,{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:z,filters:["orderby","feed_style"],handle:"comet_news_feed",key:"CometNewsFeed_viewer_news_feed",kind:"LinkedHandle",name:"news_feed"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[A,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},B],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_have_friends",storageKey:null},{alias:null,args:null,concreteType:"AllFriendsConnection",kind:"LinkedField",name:"all_friends",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_fb_employee",storageKey:null}],storageKey:null}]},params:{id:b("CometNewsFeedPaginationQuery_facebookRelayOperation"),metadata:{},name:"CometNewsFeedPaginationQuery",operationKind:"query",text:null,providedVariables:g}}}();e.exports=a}),null);
__d("CometNewsFeedUnit_edge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNewsFeedUnit_edge",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnit_feedUnit"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null}],type:"Story",abstractKey:null}],storageKey:null},{kind:"InlineDataFragmentSpread",name:"CometNewsFeedVPVDStore_newsFeedEdge",selections:[{alias:null,args:null,concreteType:"FeedBackendData",kind:"LinkedField",name:"feed_backend_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vsid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vspos",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_recent_vpv_fetch_tracking_data",storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]},{args:null,kind:"FragmentSpread",name:"useLogCometFeedUnitRenderAttemptEvent_newsFeedEdge"},{args:null,kind:"FragmentSpread",name:"CometFeedUnit_newsFeedEdge"}],type:"NewsFeedEdge",abstractKey:null};e.exports=a}),null);
__d("CometNewsFeed_viewer.graphql",["CometNewsFeedPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["news_feed"],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"RELAY_INCREMENTAL_DELIVERY"},{kind:"RootArgument",name:"UFI2CommentsProvider_commentsKey"},{defaultValue:null,kind:"LocalArgument",name:"clientQueryId"},{kind:"RootArgument",name:"connectionClass"},{defaultValue:2,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"displayCommentsContextEnableComment"},{kind:"RootArgument",name:"displayCommentsContextIsAdPreview"},{kind:"RootArgument",name:"displayCommentsContextIsAggregatedShare"},{kind:"RootArgument",name:"displayCommentsContextIsStorySet"},{kind:"RootArgument",name:"displayCommentsFeedbackContext"},{kind:"RootArgument",name:"experimentalValues"},{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"feedStyle"},{kind:"RootArgument",name:"feedbackSource"},{kind:"RootArgument",name:"focusCommentID"},{kind:"RootArgument",name:"orderby"},{kind:"RootArgument",name:"privacySelectorRenderLocation"},{kind:"RootArgument",name:"recentVPVs"},{kind:"RootArgument",name:"refreshMode"},{kind:"RootArgument",name:"renderLocation"},{kind:"RootArgument",name:"scale"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a,stream:!0}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["viewer"],operation:b("CometNewsFeedPaginationQuery.graphql")}},name:"CometNewsFeed_viewer",selections:[{alias:"news_feed",args:[{kind:"Variable",name:"feed_style",variableName:"feedStyle"},{kind:"Variable",name:"orderby",variableName:"orderby"}],concreteType:"NewsFeedConnection",kind:"LinkedField",name:"__CometNewsFeed_viewer_news_feed_comet_news_feed",plural:!1,selections:[{alias:null,args:null,concreteType:"NewsFeedInject",kind:"LinkedField",name:"injected_stories",plural:!1,selections:[{args:null,documentName:"CometNewsFeed_viewer",fragmentName:"CometInjectedStoriesNotice_edge",fragmentPropName:"edge",kind:"ModuleImport"}],storageKey:null},{kind:"Stream",selections:[{alias:null,args:null,concreteType:"NewsFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null},{kind:"InlineDataFragmentSpread",name:"useCometFeedUnitReordering_newsFeedEdge",selections:[{alias:null,args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],storageKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{args:null,kind:"FragmentSpread",name:"CometFeedUnitErrorBoundary_feedUnit"}],storageKey:null},{alias:null,args:null,concreteType:"FeedBackendData",kind:"LinkedField",name:"feed_backend_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qid",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNewsFeedUnit_edge"},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}]},{kind:"Defer",selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_have_friends",storageKey:null},{alias:null,args:null,concreteType:"AllFriendsConnection",kind:"LinkedField",name:"all_friends",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_fb_employee",storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometFeedFavoritesHeaderQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4698600443600354"}),null);
__d("CometFeedFavoritesHeaderQuery.graphql",["CometFeedFavoritesHeaderQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SeeFirstMigrationContent",kind:"LinkedField",name:"see_first_migration_content",plural:!1,selections:[{args:null,documentName:"CometFeedFavoritesHeaderQuery",fragmentName:"CometFeedSeeFirstMigrationCard_content",fragmentPropName:"content",kind:"ModuleImport"}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedFavoritesHeaderQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometFeedFavoritesHeaderQuery",selections:a},params:{id:b("CometFeedFavoritesHeaderQuery_facebookRelayOperation"),metadata:{},name:"CometFeedFavoritesHeaderQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useLogCometFeedUnitRenderAttemptEvent_newsFeedEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLogCometFeedUnitRenderAttemptEvent_newsFeedEdge",selections:[{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedUnitEventLogger_feedUnit"}],storageKey:null}],type:"NewsFeedEdge",abstractKey:null};e.exports=a}),null);
__d("useCometFeedUnitReordering_newsFeedEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"useCometFeedUnitReordering_newsFeedEdge"};e.exports=a}),null);
__d("CometHomeContactGroupsContainerQuery.graphql",["WebPixelRatio.relayprovider","CometHomeContactGroupsContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g={__relay_internal__pv__WebPixelRatiorelayprovider:b("WebPixelRatio.relayprovider")};a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},e={kind:"Literal",name:"height",value:36},f={kind:"Literal",name:"width",value:36},h=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometHomeContactGroupsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometHomeContactGroups_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__WebPixelRatiorelayprovider"}],kind:"Operation",name:"CometHomeContactGroupsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_hide_group_conversations_list",storageKey:null}],type:"User",abstractKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:[{kind:"Literal",name:"group_threads_only",value:!0},{kind:"Literal",name:"last",value:10}],concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_xac",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},{alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null}],storageKey:null},c],storageKey:null},d,{alias:null,args:[e,f],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:"image(height:36,width:36)"},{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,c,d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{alias:null,args:[e,{kind:"Variable",name:"scale",variableName:"__relay_internal__pv__WebPixelRatiorelayprovider"},f],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:h,storageKey:null}],storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:"message_threads(group_threads_only:true,last:10)"}],storageKey:null}]},params:{id:b("CometHomeContactGroupsContainerQuery_facebookRelayOperation"),metadata:{},name:"CometHomeContactGroupsContainerQuery",operationKind:"query",text:null,providedVariables:g}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometHomeContactGroups_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={kind:"Literal",name:"height",value:36},c={kind:"Literal",name:"width",value:36},d=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__WebPixelRatiorelayprovider"}],kind:"Fragment",metadata:null,name:"CometHomeContactGroups_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_hide_group_conversations_list",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:[{kind:"Literal",name:"group_threads_only",value:!0},{kind:"Literal",name:"last",value:10}],concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_xac",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},{alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null}],storageKey:null}],storageKey:null},a,{alias:null,args:[b,c],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:"image(height:36,width:36)"},{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{alias:null,args:[b,{kind:"Variable",name:"scale",variableName:"__relay_internal__pv__WebPixelRatiorelayprovider"},c],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"message_threads(group_threads_only:true,last:10)"}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomeContactsContainerQuery.graphql",["CometHomeContactsContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"numContactsToFetch"},c={defaultValue:null,kind:"LocalArgument",name:"presenceReadEnableMsys"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e=[{kind:"Literal",name:"supported",value:["XFBContactsHomeDefaultRenderer","XFBContactsHomeMessagingSolutionForAPRenderer"]}],f={kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeContactsContainerQuery",fragmentName:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer",fragmentPropName:"contactsHomeDefaultRenderer",kind:"ModuleImport"}],type:"XFBContactsHomeDefaultRenderer",abstractKey:null},g={kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeContactsContainerQuery",fragmentName:"CometHomeContactsMessagingSolutionForAPRenderer_contactsHomeMessagingSolutionForAPRenderer",fragmentPropName:"contactsHomeMessagingSolutionForAPRenderer",kind:"ModuleImport"}],type:"XFBContactsHomeMessagingSolutionForAPRenderer",abstractKey:null},h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CometHomeContactsContainerQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"contacts_home_renderer",plural:!1,selections:[f,g],storageKey:'contacts_home_renderer(supported:["XFBContactsHomeDefaultRenderer","XFBContactsHomeMessagingSolutionForAPRenderer"])'}],type:"User",abstractKey:null}],storageKey:null},action:"THROW",path:"viewer.actor"}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"CometHomeContactsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"contacts_home_renderer",plural:!1,selections:[h,f,g],storageKey:'contacts_home_renderer(supported:["XFBContactsHomeDefaultRenderer","XFBContactsHomeMessagingSolutionForAPRenderer"])'}],type:"User",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeContactsContainerQuery_facebookRelayOperation"),metadata:{},name:"CometHomeContactsContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometHomeRightSideEgoContainer_egoPanel.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometHomeRightSideEgoContainer_egoPanel",selections:[{args:null,kind:"FragmentSpread",name:"CometHomeRightSideEgo_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometHomeRightSideEgoRefetchQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6269297973131907"}),null);
__d("CometHomeRightSideEgoRefetchQuery.graphql",["CometHomeRightSideEgoRefetchQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:0,kind:"LocalArgument",name:"refresh_num"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c={kind:"Variable",name:"refresh_num",variableName:"refresh_num"},d=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometHomeRightSideEgoRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[c],kind:"FragmentSpread",name:"CometHomeRightSideEgo_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometHomeRightSideEgoRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"sideFeed",args:[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"query_ego_units",value:!0},c],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeRightSideEgo_viewer",fragmentName:"CometAdsSideFeedUnit_adsSideFeedUnit",fragmentPropName:"adsSideFeedUnit",kind:"ModuleImport"}],type:"AdsSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:d,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:d,type:"AdsSideFeedUnitItem",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometHomeRightSideEgoRefetchQuery_facebookRelayOperation"),metadata:{},name:"CometHomeRightSideEgoRefetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometHomeRightSideEgo_viewer.graphql",["CometHomeRightSideEgoRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:0,kind:"LocalArgument",name:"refresh_num"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["viewer"],operation:b("CometHomeRightSideEgoRefetchQuery.graphql")}},name:"CometHomeRightSideEgo_viewer",selections:[{alias:"sideFeed",args:[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"query_ego_units",value:!0},{kind:"Variable",name:"refresh_num",variableName:"refresh_num"}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeRightSideEgo_viewer",fragmentName:"CometAdsSideFeedUnit_adsSideFeedUnit",fragmentPropName:"adsSideFeedUnit",kind:"ModuleImport"}],type:"AdsSideFeedUnit",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometRightSideHeaderCardsQuery.graphql",["StoriesRing.relayprovider","CometRightSideHeaderCardsQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g={__relay_internal__pv__StoriesRingrelayprovider:b("StoriesRing.relayprovider")};a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"refresh_num"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={kind:"Literal",name:"environment",value:"COMET"},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h=[f],i={kind:"InlineFragment",selections:h,type:"Node",abstractKey:"__isNode"};h={kind:"InlineFragment",selections:h,type:"AdsSideFeedUnitItem",abstractKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometRightSideHeaderCardsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometRightSideHeaderCards_viewerSideFeed"},{args:null,kind:"FragmentSpread",name:"CometHomeRightSideEgoContainer_egoPanel"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesCometHomeAdminContainer_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesRingrelayprovider"}],kind:"Operation",name:"CometRightSideHeaderCardsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"right_side_widget_container_placement",storageKey:null},{alias:null,args:[d,{kind:"Literal",name:"query_ego_units",value:!1},{kind:"Variable",name:"refresh_num",variableName:"refresh_num"}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"PagesCometHomeAdminContainer_pagesPanel",fragmentPropName:"pagesPanel",kind:"ModuleImport"}],type:"PagesSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"FriendingCometHomeInlineRHCContainer_friendsPanel",fragmentPropName:"friendsPanel",kind:"ModuleImport"}],type:"FriendingRequestsSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRemindersContainer_reminderPanel",fragmentPropName:"reminderPanel",kind:"ModuleImport"}],type:"RemindersSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRightSideWidgetContainer_widgetContainer",fragmentPropName:"widgetContainer",kind:"ModuleImport"}],type:"CometHomeSideFeedWidgetContainer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRightSideWidgetContainerWithSeeMore_widgetContainer",fragmentPropName:"widgetContainer",kind:"ModuleImport"}],type:"CometHomeSideFeedWidgetContainerWithSeeMore",abstractKey:null},i,h],storageKey:null}],storageKey:null},{alias:"sideFeed",args:[d,{kind:"Literal",name:"query_ego_units",value:!0},{kind:"Literal",name:"refresh_num",value:0}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{kind:"InlineFragment",selections:[{args:null,documentName:"CometHomeRightSideEgo_viewer",fragmentName:"CometAdsSideFeedUnit_adsSideFeedUnit",fragmentPropName:"adsSideFeedUnit",kind:"ModuleImport"}],type:"AdsSideFeedUnit",abstractKey:null},i,h],storageKey:null}],storageKey:'side_feed(environment:"COMET",query_ego_units:true,refresh_num:0)'},{alias:null,args:null,kind:"ScalarField",name:"globe_focus",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_profile_plus_on_like_experience",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delegate_page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_manage_classic_page_in_pages_tab",storageKey:null}],type:"User",abstractKey:null},f],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}]},params:{id:b("CometRightSideHeaderCardsQuery_facebookRelayOperation"),metadata:{},name:"CometRightSideHeaderCardsQuery",operationKind:"query",text:null,providedVariables:g}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometRightSideHeaderCards_viewerSideFeed.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"refresh_num"}],kind:"Fragment",metadata:null,name:"CometRightSideHeaderCards_viewerSideFeed",selections:[{alias:null,args:null,kind:"ScalarField",name:"right_side_widget_container_placement",storageKey:null},{alias:null,args:[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"query_ego_units",value:!1},{kind:"Variable",name:"refresh_num",variableName:"refresh_num"}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"PagesCometHomeAdminContainer_pagesPanel",fragmentPropName:"pagesPanel",kind:"ModuleImport"}],type:"PagesSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"FriendingCometHomeInlineRHCContainer_friendsPanel",fragmentPropName:"friendsPanel",kind:"ModuleImport"}],type:"FriendingRequestsSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRemindersContainer_reminderPanel",fragmentPropName:"reminderPanel",kind:"ModuleImport"}],type:"RemindersSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRightSideWidgetContainer_widgetContainer",fragmentPropName:"widgetContainer",kind:"ModuleImport"}],type:"CometHomeSideFeedWidgetContainer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRightSideWidgetContainerWithSeeMore_widgetContainer",fragmentPropName:"widgetContainer",kind:"ModuleImport"}],type:"CometHomeSideFeedWidgetContainerWithSeeMore",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometFeedInlineComposerQuery.graphql",["CometFeedInlineComposerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"includeSingleSprout"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null},g=[e,f];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerWOYM_profile"},{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerPressableProfilePic_profile"},{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerSproutsList_profile"},{kind:"InlineFragment",selections:g,type:"User",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Page",abstractKey:null}],storageKey:null},action:"THROW",path:"viewer.actor"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"FeedCometComposer",kind:"LinkedField",name:"feed_comet_composer",plural:!1,selections:[{condition:"includeSingleSprout",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerSingleSprout_composer"}]},{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerSproutsList_composer"}],storageKey:null},action:"THROW",path:"viewer.feed_comet_composer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"CometFeedInlineComposerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d,{kind:"TypeDiscriminator",abstractKey:"__isActor"},e,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},f],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Profile",abstractKey:"__isProfile"},{kind:"InlineFragment",selections:[f],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FeedCometComposer",kind:"LinkedField",name:"feed_comet_composer",plural:!1,selections:[{condition:"includeSingleSprout",kind:"Condition",passingValue:!0,selections:[{kind:"InlineFragment",selections:[{alias:"inline_single_sprout",args:[{kind:"Literal",name:"supported",value:["CometComposerUploadMediaSprout"]}],concreteType:null,kind:"LinkedField",name:"inline_sprouts",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSingleSprout_composer",fragmentName:"CometFeedInlineComposerSingleSproutMedia_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null}],storageKey:'inline_sprouts(supported:["CometComposerUploadMediaSprout"])'}],type:"ICometComposer",abstractKey:"__isICometComposer"}]},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["FeedCometComposerLiveProducerSprout","CometComposerUploadMediaSprout","CometComposerMagicUploadsSprout","CometComposerWithTaggingSprout","CometComposerLocationTaggingSprout","FeedCometComposerGetMessagesSprout","CometComposerMinutiaeSprout","FeedCometComposerGetWhatsAppMessagesSprout","CometComposerArticlesSprout","CometComposerReelsSprout"]}],concreteType:null,kind:"LinkedField",name:"inline_sprouts",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"InlineComposerLiveProducerSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerLiveProducerSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMediaSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMagicUploadsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMagicUploadsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerWithTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerLocationTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLocationTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerGetMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerFeelingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMinutiaeSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerGetWhatsAppMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetWhatsAppMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerArticlesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerArticlesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerReelsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerReelsSprout",abstractKey:null}],storageKey:'inline_sprouts(supported:["FeedCometComposerLiveProducerSprout","CometComposerUploadMediaSprout","CometComposerMagicUploadsSprout","CometComposerWithTaggingSprout","CometComposerLocationTaggingSprout","FeedCometComposerGetMessagesSprout","CometComposerMinutiaeSprout","FeedCometComposerGetWhatsAppMessagesSprout","CometComposerArticlesSprout","CometComposerReelsSprout"])'}],type:"ICometComposer",abstractKey:"__isICometComposer"}],storageKey:null}],storageKey:null}]},params:{id:b("CometFeedInlineComposerQuery_facebookRelayOperation"),metadata:{},name:"CometFeedInlineComposerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometFeedInlineComposerSproutsList_composer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerSproutsList_composer",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["FeedCometComposerLiveProducerSprout","CometComposerUploadMediaSprout","CometComposerMagicUploadsSprout","CometComposerWithTaggingSprout","CometComposerLocationTaggingSprout","FeedCometComposerGetMessagesSprout","CometComposerMinutiaeSprout","FeedCometComposerGetWhatsAppMessagesSprout","CometComposerArticlesSprout","CometComposerReelsSprout"]}],concreteType:null,kind:"LinkedField",name:"inline_sprouts",plural:!0,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"InlineComposerLiveProducerSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerLiveProducerSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMediaSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerMagicUploadsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMagicUploadsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerWithTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerLocationTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLocationTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerGetMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerFeelingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMinutiaeSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerGetWhatsAppMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetWhatsAppMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerArticlesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerArticlesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedInlineComposerSproutsList_composer",fragmentName:"FeedInlineComposerReelsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerReelsSprout",abstractKey:null}],storageKey:'inline_sprouts(supported:["FeedCometComposerLiveProducerSprout","CometComposerUploadMediaSprout","CometComposerMagicUploadsSprout","CometComposerWithTaggingSprout","CometComposerLocationTaggingSprout","FeedCometComposerGetMessagesSprout","CometComposerMinutiaeSprout","FeedCometComposerGetWhatsAppMessagesSprout","CometComposerArticlesSprout","CometComposerReelsSprout"])'}],type:"ICometComposer",abstractKey:"__isICometComposer"};e.exports=a}),null);
__d("CometFeedInlineComposerSproutsList_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerSproutsList_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("CometMegaphoneRootQuery.graphql",["CometMegaphoneRootQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:1,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"surface_nux_id",value:2646},{kind:"Literal",name:"trigger",value:"NEWSFEED"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMegaphoneRootQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"megaphonePromotions",args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerEligibleQuickPromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMegaphoneQuickPromotionSection_quickPromotion"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMegaphoneRootQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"megaphonePromotions",args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerEligibleQuickPromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["CometPrimaryTestUserUpsellQP","CometSlimMegaphoneRendererStrategy","CometStandardMegaphoneRendererStrategy","CometEmergencyMegaphoneRendererStrategy","CometMegaphoneWWWDeviceBasedLoginRendererStrategy","CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy","CometQuickPromotionPageTransparencyMegaphoneRendererStrategy","CometQuickPromotionLocationTransparencyMegaphoneRendererStrategy","CometQuickPromotionNonprofitMegaphoneRendererStrategy","CometQPDiglossiaSurveyRendererStrategy","CometQPRegularSurveyRendererStrategy","CometQuickPromotionFundraiserPromotionalMegaphoneRendererStrategy","CometQuickPromotionFullImageMegaphoneRendererStrategy","CometQuickPromotionBLMMegaphoneRendererStrategy","CometConsentFrameworkRendererStrategy","CometQuickPromotionPPAMegaphoneRendererStrategy","CometQuickPromotionPPAPostEnforcementMegaphoneRendererStrategy","CometQuickPromotionPPAPreApprovedMegaphoneRendererStrategy","CometQuickPromotionAskMeAnythingNewsFeedMegaphoneRendererStrategy","CometQuickPromotionFullBleedImageRendererStrategy","CometQuickPromotionCreateStreamerFanGroupsRendererStrategy","CometSideImageMegaphoneRendererStrategy","CometMegaphoneWWWEmailAcquisitionRendererStrategy","CometQuickPromotionPrayerSettingsMegaphoneRendererStrategy","CometMegaphoneWWWEmailAcquisitionNoAutofillRendererStrategy","CometQuickPromotionNewsfeedPrivacyPolicyNoticeMegaphoneRendererStrategy","CometQuickPromotionTransparencyInformPlatformRendererStrategy","CometQuickPromotionSettingsContextualMessageRendererStrategy","CometQuickPromotionProfilePlusTopOfFeedMegaphoneRendererStrategy","CometMegaphoneGHLAdBlockerNotificationRendererStrategy","CometQuickPromotionLFCFeedUnitRendererStrategy"]}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometPrimaryTestUserUpsellQP_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometPrimaryTestUserUpsellQP",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometSlimMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometSlimMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometStandardMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometStandardMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometEmergencyMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometEmergencyMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneWWWDeviceBasedLoginRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWDeviceBasedLoginRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPageTransparencyMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPageTransparencyMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionLocationTransparencyMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionLocationTransparencyMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionNonprofitMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionNonprofitMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQPDiglossiaSurveyRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQPDiglossiaSurveyRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQPRegularSurveyRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQPRegularSurveyRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFundraiserPromotionalMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFundraiserPromotionalMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFullImageMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFullImageMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionBLMMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionBLMMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometConsentFrameworkRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometConsentFrameworkRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPPAMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPPAMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPPAPostEnforcementMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPPAPostEnforcementMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPPAPreApprovedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPPAPreApprovedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionAskMeAnythingNewsFeedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionAskMeAnythingNewsFeedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFullBleedImageRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFullBleedImageRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionCreateStreamerFanGroupsRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionCreateStreamerFanGroupsRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometSideImageMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometSideImageMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneWWWEmailAcquisitionRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWEmailAcquisitionRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPrayerSettingsMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPrayerSettingsMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneWWWEmailAcquisitionNoAutofillRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWEmailAcquisitionNoAutofillRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionNewsfeedPrivacyPolicyNoticeMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionNewsfeedPrivacyPolicyNoticeMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionTransparencyInformPlatformRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionTransparencyInformPlatformRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionSettingsContextualMessageRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionSettingsContextualMessageRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionProfilePlusTopOfFeedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionProfilePlusTopOfFeedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneGHLAdBlockerNotificationRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneGHLAdBlockerNotificationRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionLFCFeedUnitRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionLFCFeedUnitRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:["CometPrimaryTestUserUpsellQP","CometSlimMegaphoneRendererStrategy","CometStandardMegaphoneRendererStrategy","CometEmergencyMegaphoneRendererStrategy","CometMegaphoneWWWDeviceBasedLoginRendererStrategy","CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy","CometQuickPromotionPageTransparencyMegaphoneRendererStrategy","CometQuickPromotionLocationTransparencyMegaphoneRendererStrategy","CometQuickPromotionNonprofitMegaphoneRendererStrategy","CometQPDiglossiaSurveyRendererStrategy","CometQPRegularSurveyRendererStrategy","CometQuickPromotionFundraiserPromotionalMegaphoneRendererStrategy","CometQuickPromotionFullImageMegaphoneRendererStrategy","CometQuickPromotionBLMMegaphoneRendererStrategy","CometConsentFrameworkRendererStrategy","CometQuickPromotionPPAMegaphoneRendererStrategy","CometQuickPromotionPPAPostEnforcementMegaphoneRendererStrategy","CometQuickPromotionPPAPreApprovedMegaphoneRendererStrategy","CometQuickPromotionAskMeAnythingNewsFeedMegaphoneRendererStrategy","CometQuickPromotionFullBleedImageRendererStrategy","CometQuickPromotionCreateStreamerFanGroupsRendererStrategy","CometSideImageMegaphoneRendererStrategy","CometMegaphoneWWWEmailAcquisitionRendererStrategy","CometQuickPromotionPrayerSettingsMegaphoneRendererStrategy","CometMegaphoneWWWEmailAcquisitionNoAutofillRendererStrategy","CometQuickPromotionNewsfeedPrivacyPolicyNoticeMegaphoneRendererStrategy","CometQuickPromotionTransparencyInformPlatformRendererStrategy","CometQuickPromotionSettingsContextualMessageRendererStrategy","CometQuickPromotionProfilePlusTopOfFeedMegaphoneRendererStrategy","CometMegaphoneGHLAdBlockerNotificationRendererStrategy","CometQuickPromotionLFCFeedUnitRendererStrategy"])'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometMegaphoneRootQuery_facebookRelayOperation"),metadata:{},name:"CometMegaphoneRootQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("StoriesTrayRectangularBuckets_buckets.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={kind:"Variable",name:"isCommentEnabled",variableName:"isCommentEnabled"};return{argumentDefinitions:[{kind:"RootArgument",name:"blur"},{kind:"RootArgument",name:"isCommentEnabled"}],kind:"Fragment",metadata:{plural:!0},name:"StoriesTrayRectangularBuckets_buckets",selections:[a,{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:[a],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesTrayTilePrefetchProfileURI_profile"},{args:null,kind:"FragmentSpread",name:"useStoriesBucketsLogger_buckets"},{args:null,kind:"FragmentSpread",name:"useStoriesBucketsIndexer_buckets"},{args:[b],kind:"FragmentSpread",name:"StoriesTrayTileSelf_bucket"},{args:[{kind:"Variable",name:"blur",variableName:"blur"},b],kind:"FragmentSpread",name:"StoriesTrayTile_bucket"}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("StoriesTrayRectangularBuckets_createTileUris.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayRectangularBuckets_createTileUris",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayCreateTile_imageUris"}],type:"User",abstractKey:null};e.exports=a}),null);
__d("StoriesTrayRectangularBuckets_reels.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"StoriesTrayRectangularBuckets_reels",selections:[{args:null,kind:"FragmentSpread",name:"FBReelsTopOfFeedTrayTile_card"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("StoriesTrayRectangularQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6123595047692285"}),null);
__d("StoriesTrayRectangularQuery.graphql",["StoriesTrayRectangularQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"blur"},c={defaultValue:null,kind:"LocalArgument",name:"bucketsToFetch"},d={defaultValue:null,kind:"LocalArgument",name:"cursor"},e={defaultValue:null,kind:"LocalArgument",name:"id"},f={defaultValue:null,kind:"LocalArgument",name:"isCommentEnabled"},g={defaultValue:null,kind:"LocalArgument",name:"scale"},h=[{kind:"Variable",name:"id",variableName:"id"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},k=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"bucketsToFetch"}],l={kind:"TypeDiscriminator",abstractKey:"__isStoryBucket"},m={kind:"Variable",name:"scale",variableName:"scale"},n={kind:"Literal",name:"width",value:40},o=[m,n],p=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],q={alias:"profilePic",args:o,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};o={alias:null,args:o,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null};var s=[{kind:"Literal",name:"height",value:277},m,{kind:"Literal",name:"width",value:156}],t={alias:"coverImage",args:s,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null},u=[q,r,o,t];n=[{kind:"Literal",name:"height",value:40},m,n];var v=[j],w={kind:"InlineFragment",selections:v,type:"Node",abstractKey:"__isNode"},x={kind:"InlineFragment",selections:v,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},y={kind:"InlineFragment",selections:v,type:"GenericAttachmentMedia",abstractKey:null},z={kind:"InlineFragment",selections:v,type:"MontageImage",abstractKey:null};v={kind:"InlineFragment",selections:v,type:"MontageVideo",abstractKey:null};var A=[l,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_comments",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"StoriesTrayRectangularQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"StoriesTrayRectangular_me"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,f,g,e],kind:"Operation",name:"StoriesTrayRectangularQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,j,{kind:"InlineFragment",selections:[{alias:null,args:k,concreteType:"UserToUnifiedStoryBucketsConnection",kind:"LinkedField",name:"unified_stories_buckets",plural:!1,selections:[{alias:null,args:null,concreteType:"UserToUnifiedStoryBucketsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,l,j,{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:[j,{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"story_card_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},j],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[i,{kind:"InlineFragment",selections:u,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"profilePic",args:n,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null},r,{alias:null,args:n,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:p,storageKey:null},t],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:u,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[q,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},r,o,t,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},w],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[j,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[i,w,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"story_tray"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"StoriesTrayTileView_warningScreen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null},w],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"story_tray")'}],type:"CanRenderCIXScreen",abstractKey:"__isCanRenderCIXScreen"},x,y,z,v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:s,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:p,storageKey:null},{alias:null,args:null,concreteType:"FBStoryPortalInfo",kind:"LinkedField",name:"background_color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"FBStoryColorInfo",kind:"LinkedField",name:"color_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dominant_color",storageKey:null}],storageKey:null},j],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[j,{alias:null,args:null,concreteType:"StoryBackdrop",kind:"LinkedField",name:"backdrop",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"blur",variableName:"blur"},m],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:p,storageKey:null}],type:"Photo",abstractKey:null},w,x,y,z,v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:1920},m,{kind:"Literal",name:"width",value:1080}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:p,storageKey:null}],type:"Photo",abstractKey:null},w,x,y,z,v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reply",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null},{condition:"isCommentEnabled",kind:"Condition",passingValue:!0,selections:[{"if":null,kind:"Defer",label:"StoriesTrayTileSelf_bucket$defer$StoriesTrayTileView_bucket",selections:A},{"if":null,kind:"Defer",label:"StoriesTrayTile_bucket$defer$StoriesTrayTileView_bucket",selections:A}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:k,filters:null,handle:"connection",key:"StoriesTrayRectangular_unified_stories_buckets",kind:"LinkedHandle",name:"unified_stories_buckets"}],type:"User",abstractKey:null}],storageKey:null}]},params:{id:b("StoriesTrayRectangularQuery_facebookRelayOperation"),metadata:{},name:"StoriesTrayRectangularQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("StoriesTrayRectangularReelsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8242839265790552"}),null);
__d("StoriesTrayRectangularReelsQuery.graphql",["StoriesTrayRectangularReelsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"reelsCount"},{defaultValue:null,kind:"LocalArgument",name:"reelsCursor"},{defaultValue:null,kind:"LocalArgument",name:"shouldSkipReelsPlayCountFetch"}],c=[{kind:"Variable",name:"after",variableName:"reelsCursor"},{kind:"Variable",name:"first",variableName:"reelsCount"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StoriesTrayRectangularReelsQuery",selections:[{args:[{kind:"Variable",name:"reelsCursor",variableName:"reelsCursor"}],kind:"FragmentSpread",name:"StoriesTrayRectangular_reels"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StoriesTrayRectangularReelsQuery",selections:[{alias:null,args:c,concreteType:"FbShortsUnifiedTofuConnection",kind:"LinkedField",name:"fb_shorts_unified_tofu",plural:!1,selections:[{alias:null,args:null,concreteType:"FbShortsUnifiedTofuEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,concreteType:"ShortFormVideoContext",kind:"LinkedField",name:"short_form_video_context",plural:!1,selections:[{condition:"shouldSkipReelsPlayCountFetch",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"play_count_reduced",storageKey:null}]},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"playback_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:e,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:e,type:"XFBDummyReelsInWatchIFU",abstractKey:null},{kind:"InlineFragment",selections:e,type:"XFBSFTFeedUnit",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:c,filters:null,handle:"connection",key:"StoriesTrayRectangularReels_fb_shorts_unified_tofu",kind:"LinkedHandle",name:"fb_shorts_unified_tofu"}]},params:{id:b("StoriesTrayRectangularReelsQuery_facebookRelayOperation"),metadata:{},name:"StoriesTrayRectangularReelsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("StoriesTrayRectangularRootQuery.graphql",["StoriesTrayRectangularRootQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:10,kind:"LocalArgument",name:"blur"},c={defaultValue:8,kind:"LocalArgument",name:"bucketsToFetch"},d={defaultValue:!1,kind:"LocalArgument",name:"isCommentEnabled"},e={defaultValue:1,kind:"LocalArgument",name:"reelsCount"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:!1,kind:"LocalArgument",name:"shouldEnableHybridTray"},h={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipReelsPlayCountFetch"},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},j=[i],k={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l=[{kind:"Variable",name:"first",variableName:"bucketsToFetch"}],m={kind:"TypeDiscriminator",abstractKey:"__isStoryBucket"},n={kind:"Variable",name:"scale",variableName:"scale"},o={kind:"Literal",name:"width",value:40},p=[n,o],q=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],r={alias:"profilePic",args:p,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:q,storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};p={alias:null,args:p,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:q,storageKey:null};var t=[{kind:"Literal",name:"height",value:277},n,{kind:"Literal",name:"width",value:156}],u={alias:"coverImage",args:t,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:q,storageKey:null},v=[r,s,p,u];o=[{kind:"Literal",name:"height",value:40},n,o];var w={kind:"InlineFragment",selections:j,type:"Node",abstractKey:"__isNode"},x={kind:"InlineFragment",selections:j,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},y={kind:"InlineFragment",selections:j,type:"GenericAttachmentMedia",abstractKey:null},z={kind:"InlineFragment",selections:j,type:"MontageImage",abstractKey:null},A={kind:"InlineFragment",selections:j,type:"MontageVideo",abstractKey:null},B=[m,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_comments",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null}],C={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},D={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null},E=[{kind:"Variable",name:"first",variableName:"reelsCount"}];return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"StoriesTrayRectangularRootQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"me",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayRectangular_me"},{args:null,kind:"FragmentSpread",name:"StoriesTrayRectangularBuckets_createTileUris"}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:j,storageKey:null}],storageKey:null},{condition:"shouldEnableHybridTray",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayRectangular_reels"}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[f,c,a,d,e,g,h],kind:"Operation",name:"StoriesTrayRectangularRootQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"me",plural:!1,selections:[k,i,{kind:"InlineFragment",selections:[{alias:null,args:l,concreteType:"UserToUnifiedStoryBucketsConnection",kind:"LinkedField",name:"unified_stories_buckets",plural:!1,selections:[{alias:null,args:null,concreteType:"UserToUnifiedStoryBucketsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[k,m,i,{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:[i,{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"story_card_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[k,{kind:"InlineFragment",selections:v,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"profilePic",args:o,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:q,storageKey:null},s,{alias:null,args:o,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:q,storageKey:null},u],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:v,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},s,p,u,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},w],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[i,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[k,w,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"story_tray"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"StoriesTrayTileView_warningScreen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null},w],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"story_tray")'}],type:"CanRenderCIXScreen",abstractKey:"__isCanRenderCIXScreen"},x,y,z,A],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:t,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:"FBStoryPortalInfo",kind:"LinkedField",name:"background_color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"FBStoryColorInfo",kind:"LinkedField",name:"color_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dominant_color",storageKey:null}],storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[i,{alias:null,args:null,concreteType:"StoryBackdrop",kind:"LinkedField",name:"backdrop",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"blur",variableName:"blur"},n],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null}],type:"Photo",abstractKey:null},w,x,y,z,A],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:1920},n,{kind:"Literal",name:"width",value:1080}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null}],type:"Photo",abstractKey:null},w,x,y,z,A],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reply",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null},{condition:"isCommentEnabled",kind:"Condition",passingValue:!0,selections:[{"if":null,kind:"Defer",label:"StoriesTrayTileSelf_bucket$defer$StoriesTrayTileView_bucket",selections:B},{"if":null,kind:"Defer",label:"StoriesTrayTile_bucket$defer$StoriesTrayTileView_bucket",selections:B}]}],storageKey:null},C],storageKey:null},D],storageKey:null},{alias:null,args:l,filters:null,handle:"connection",key:"StoriesTrayRectangular_unified_stories_buckets",kind:"LinkedHandle",name:"unified_stories_buckets"},{alias:"profilePicture",args:[{kind:"Literal",name:"height",value:150},n,{kind:"Literal",name:"width",value:150}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:q,storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[k,i],storageKey:null}],storageKey:null},{condition:"shouldEnableHybridTray",kind:"Condition",passingValue:!0,selections:[{alias:null,args:E,concreteType:"FbShortsUnifiedTofuConnection",kind:"LinkedField",name:"fb_shorts_unified_tofu",plural:!1,selections:[{alias:null,args:null,concreteType:"FbShortsUnifiedTofuEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,concreteType:"ShortFormVideoContext",kind:"LinkedField",name:"short_form_video_context",plural:!1,selections:[{condition:"shouldSkipReelsPlayCountFetch",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"play_count_reduced",storageKey:null}]},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"playback_video",plural:!1,selections:[i,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},w,{kind:"InlineFragment",selections:j,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:j,type:"XFBDummyReelsInWatchIFU",abstractKey:null},{kind:"InlineFragment",selections:j,type:"XFBSFTFeedUnit",abstractKey:null}],storageKey:null},C,i],storageKey:null},D],storageKey:null},{alias:null,args:E,filters:null,handle:"connection",key:"StoriesTrayRectangularReels_fb_shorts_unified_tofu",kind:"LinkedHandle",name:"fb_shorts_unified_tofu"}]}]},params:{id:b("StoriesTrayRectangularRootQuery_facebookRelayOperation"),metadata:{},name:"StoriesTrayRectangularRootQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("StoriesTrayRectangular_me.graphql",["StoriesTrayRectangularQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["unified_stories_buckets"];return{argumentDefinitions:[{kind:"RootArgument",name:"blur"},{kind:"RootArgument",name:"bucketsToFetch"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"isCommentEnabled"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{connection:[{count:"bucketsToFetch",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"bucketsToFetch",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["node"],operation:b("StoriesTrayRectangularQuery.graphql"),identifierField:"id"}},name:"StoriesTrayRectangular_me",selections:[{alias:"unified_stories_buckets",args:null,concreteType:"UserToUnifiedStoryBucketsConnection",kind:"LinkedField",name:"__StoriesTrayRectangular_unified_stories_buckets_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserToUnifiedStoryBucketsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayRectangularBuckets_buckets"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null}}();e.exports=a}),null);
__d("StoriesTrayRectangular_reels.graphql",["StoriesTrayRectangularReelsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["fb_shorts_unified_tofu"];return{argumentDefinitions:[{kind:"RootArgument",name:"reelsCount"},{defaultValue:null,kind:"LocalArgument",name:"reelsCursor"},{kind:"RootArgument",name:"shouldSkipReelsPlayCountFetch"}],kind:"Fragment",metadata:{connection:[{count:"reelsCount",cursor:"reelsCursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"reelsCount",cursor:"reelsCursor"},backward:null,path:a},fragmentPathInResult:[],operation:b("StoriesTrayRectangularReelsQuery.graphql")}},name:"StoriesTrayRectangular_reels",selections:[{alias:"fb_shorts_unified_tofu",args:null,concreteType:"FbShortsUnifiedTofuConnection",kind:"LinkedField",name:"__StoriesTrayRectangularReels_fb_shorts_unified_tofu_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"FbShortsUnifiedTofuEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayRectangularBuckets_reels"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("StoriesTrayTileSelf_bucket.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={kind:"Variable",name:"scale",variableName:"scale"},c=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],d=[{kind:"Literal",name:"height",value:277},b,{kind:"Literal",name:"width",value:156}];return{argumentDefinitions:[{kind:"RootArgument",name:"blur"},{defaultValue:!1,kind:"LocalArgument",name:"isCommentEnabled"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"StoriesTrayTileSelf_bucket",selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[b,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null},{alias:"coverImage",args:d,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"story_tray"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_warningScreen"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"story_tray")'}],type:"CanRenderCIXScreen",abstractKey:"__isCanRenderCIXScreen"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:d,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:c,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{args:[{kind:"Variable",name:"blur",variableName:"blur"}],kind:"FragmentSpread",name:"useStoriesTrayTilePressable_story"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesTrayProfileImpressionLogging_bucket"},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{condition:"isCommentEnabled",kind:"Condition",passingValue:!0,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_bucket"}]}]}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("StoriesTrayTile_LWRAnimations.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTile_LWRAnimations",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_LWRAnimations"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("StoriesTrayTile_bucket.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={kind:"Variable",name:"scale",variableName:"scale"},d={kind:"Literal",name:"width",value:40},e=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],f={alias:null,args:[c,d],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:e,storageKey:null},g=[{kind:"Literal",name:"height",value:277},c,{kind:"Literal",name:"width",value:156}],h={alias:"coverImage",args:g,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:e,storageKey:null},i=[b,f,h];return{argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"blur"},{defaultValue:!1,kind:"LocalArgument",name:"isCommentEnabled"},{kind:"RootArgument",name:"scale"},{defaultValue:!1,kind:"LocalArgument",name:"shouldSkipCanViewerReply"}],kind:"Fragment",metadata:null,name:"StoriesTrayTile_bucket",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null}],type:"DirectMessageThreadBucket",abstractKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesTrayProfileImpressionLogging_bucket"},a,{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:i,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:null,args:[{kind:"Literal",name:"height",value:40},c,d],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:e,storageKey:null},h],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[b,f,h,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"story_tray"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_warningScreen"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"story_tray")'}],type:"CanRenderCIXScreen",abstractKey:"__isCanRenderCIXScreen"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:g,concreteType:"Image",kind:"LinkedField",name:"story_thumbnail",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"FBStoryPortalInfo",kind:"LinkedField",name:"background_color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"FBStoryColorInfo",kind:"LinkedField",name:"color_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dominant_color",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{condition:"shouldSkipCanViewerReply",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reply",storageKey:null}],storageKey:null}]},{args:[{kind:"Variable",name:"blur",variableName:"blur"}],kind:"FragmentSpread",name:"useStoriesTrayTilePressable_story"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{condition:"isCommentEnabled",kind:"Condition",passingValue:!0,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileView_bucket"}]}]}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesTrayProfileImpressionLogging_bucket.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesTrayProfileImpressionLogging_bucket",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ranking_tracking_string",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"thumbnail_story_to_show",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[b],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesTrayTilePrefetchImageURI_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"blur"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"useStoriesTrayTilePrefetchImageURI_story",selections:[{alias:null,args:null,concreteType:"StoryBackdrop",kind:"LinkedField",name:"backdrop",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"blur",variableName:"blur"},a],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:b,storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"height",value:1920},a,{kind:"Literal",name:"width",value:1080}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:b,storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}}();e.exports=a}),null);
__d("useStoriesTrayTilePrefetchProfileURI_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b={kind:"Literal",name:"width",value:40},c=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],d=[{alias:"profilePic",args:[a,b],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{plural:!0},name:"useStoriesTrayTilePrefetchProfileURI_profile",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:d,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"profilePic",args:[{kind:"Literal",name:"height",value:40},a,b],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:d,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:d,type:"User",abstractKey:null}],storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesTrayTilePressable_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"blur"}],kind:"Fragment",metadata:null,name:"useStoriesTrayTilePressable_story",selections:[{args:[{kind:"Variable",name:"blur",variableName:"blur"}],kind:"FragmentSpread",name:"useStoriesTrayTilePrefetchImageURI_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("useStoriesBucketsIndexer_buckets.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"useStoriesBucketsIndexer_buckets",selections:[{args:null,kind:"FragmentSpread",name:"useStoriesIsBucketEmpty_buckets"},a,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_post",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"story_card_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("useStoriesBucketsLogger_buckets.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a];return{argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"useStoriesBucketsLogger_buckets",selections:[{alias:null,args:null,kind:"ScalarField",name:"story_bucket_type",storageKey:null},a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},a],type:"User",abstractKey:null},{kind:"InlineFragment",selections:b,type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_seen_by_viewer",storageKey:null},{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"nodes",plural:!0,selections:b,storageKey:null}],storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"}}();e.exports=a}),null);
__d("CometSideAdsRefreshHandler",["CometDebounce","CometHomeRightSideEgoRefetchQuery.graphql","CometRHCRefreshConfig","CometRelay","ODS","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g){var h=this;d("ODS").bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.constructor");this.$1=a;this.$2=!0;this.$9=1;this.$3=!1;this.$4=b;this.$6=!1;this.$7=!1;this.$8=!1;this.$10=!1;this.$11=!1;this.$5=Date.now();this.$13=e;this.$14=f;this.$16=g;this.$15=!1;this.$12=c("CometDebounce")(function(){h.checkEligibilityAndRefreshIfAllowed()},{wait:c("CometRHCRefreshConfig").debounceDelay})}var b=a.prototype;b.checkEligibilityAndRefreshIfAllowed=function(){this.checkRefreshEligibility()&&this.refresh()};b.checkRefreshEligibility=function(){if(this.$14||this.$6||!this.$2)return!1;if(this.isAdBackgroundedOnHomeTab()||this.isAdHiddenOnHomeTab())return!1;if(this.$8||Date.now()-this.$5>=c("CometRHCRefreshConfig").refreshTimeout){c("CometRHCRefreshConfig").enableTestMode&&d("CometRelay").fetchQuery(this.$1,c("CometHomeRightSideEgoRefetchQuery.graphql"),{refresh_num:this.$9,scale:d("WebPixelRatio").get()},{}).toPromise();return!0}return!1};b.unregister=function(){this.$15&&d("ODS").bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_query_discarded"),this.$2=!1,this.handleActivityTracking()};b.refresh=function(){var a=this;if(this.$6)return;d("ODS").bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.refresh_triggered");this.$6=!0;var b="store-or-network";this.$8&&this.$9!==0&&(d("ODS").bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_started"),b="network-only",this.$9=0,this.$15=!0);d("CometRelay").fetchQuery(this.$1,c("CometHomeRightSideEgoRefetchQuery.graphql"),{refresh_num:this.$9,scale:d("WebPixelRatio").get()},{fetchPolicy:b}).toPromise().then(function(b){if(a.$14||a.isAdBackgroundedOnHomeTab()||a.isAdHiddenOnHomeTab()||a.$7){d("ODS").bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.refresh_cancelled");return}b=a.isAdHiddenForRefresh();a.$8&&d("ODS").bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_finished."+(b?"hidden":"visible"));a.$8=!1;b?(a.$10=!0,a.$13(a.$9),a.$9++,d("ODS").bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.refreshing_ui.hidden")):(a.$13(a.$9),a.$9++,a.$15=!1,a.$5=Date.now(),d("ODS").bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.refreshing_ui.visible"))})["finally"](function(){a.$6=!1,a.$7&&(a.$7=!1,window.setTimeout(a.checkEligibilityAndRefreshIfAllowed(),0))})};b.restartInitialLoad=function(){if(this.$8||!this.$2){this.$2&&!this.$8&&d("ODS").bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_opportunity_lost.not_refreshed");return}this.$8=!0;this.$6?this.$7=!0:this.checkEligibilityAndRefreshIfAllowed()};b.handleActivityTracking=function(){var a=this.$2&&this.$3&&!this.$4;a!==this.$11&&(a?this.enableActivityListeners():this.removeActivityListeners())};b.isAdHiddenForRefresh=function(){return this.$4&&!this.$3};b.isAdHiddenOnHomeTab=function(){return!this.$4&&!this.$3};b.isAdBackgroundedOnHomeTab=function(){return!this.$4&&this.$16()};b.handleAnyVisibilityChange=function(){this.$3&&!this.$4&&this.$10&&(this.$10=!1,this.$15=!1,this.$5=Date.now())};b.enableActivityListeners=function(){window.addEventListener("scroll",this.$12),window.addEventListener("resize",this.$12),this.$11=!0};b.removeActivityListeners=function(){window.removeEventListener("scroll",this.$12),window.removeEventListener("resize",this.$12),this.$11=!1};b.setHiddenSubtree=function(a){this.$4=a,a&&(d("ODS").bumpEntityKey(144,"feed_ads","CometSideAdsRefreshHandler.reload_opportunity"),this.restartInitialLoad()),this.handleAnyVisibilityChange(),this.handleActivityTracking()};b.setAdUnitVisibility=function(a){this.$3=a,this.handleAnyVisibilityChange(),this.handleActivityTracking()};b.setEnvironment=function(a){this.$1=a};b.setRefetchCallback=function(a){this.$13=a};b.setIsHovered=function(a){this.$14=a};b.setGetIsBackgrounded=function(a){this.$16=a};return a}();g["default"]=a}),98);
__d("useSideAdsRefreshHandler",["CometRelay","CometSideAdsRefreshHandler","HiddenSubtreePassiveContext","react","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext,j=b.useEffect,k=b.useRef;function a(a,b){var e=d("CometRelay").useRelayEnvironment(),f=k(null),g=k(null),l=i(c("HiddenSubtreePassiveContext")),m=h(function(){return l.getCurrentState().backgrounded},[l]);j(function(){f.current!=null&&f.current.setEnvironment(e)},[e]);j(function(){f.current!=null&&f.current.setRefetchCallback(function(b){a(b)})},[a]);j(function(){f.current!=null&&f.current.setGetIsBackgrounded(m)},[m]);j(function(){f.current!=null&&f.current.setIsHovered(b)},[b]);var n=h(function(){if(f.current!=null)return;var d=l.getCurrentState();f.current=new(c("CometSideAdsRefreshHandler"))(e,d.hidden,function(b){a(b)},b,m);g.current!=null&&(g.current.remove(),g.current=null);g.current=l.subscribeToChanges(function(a){f.current!=null&&f.current.setHiddenSubtree(a.hidden)})},[m,e,l,b,a]),o=c("useVisibilityObserver")({onHidden:function(){f.current!=null&&f.current.setAdUnitVisibility(!1)},onVisible:function(){f.current!=null&&f.current.setAdUnitVisibility(!0)}}),p=h(function(a){a!=null&&(n(),o(a))},[n,o]);j(function(){return function(){f.current!=null&&(f.current.unregister(),f.current=null),g.current!=null&&(g.current.remove(),g.current=null)}},[]);return p}g["default"]=a}),98);
__d("CometClipboardCustomCopy.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function j(a,b){var c=[];if(b==null)return c;for(b of b){var d=b(a);d!==null&&c.push.apply(c,Array.isArray(d)?d:[d])}return c}function k(a,b){var c=[];if(b==null)return c;for(b of b)b.onReadyImmediately(function(b){b=b(a);b!==null&&c.push.apply(c,Array.isArray(b)?b:[b])});return c}function a(a){var b=a.children,c=a.reformers,d=a.reformersDeferred;a=i(function(a){if(a.clipboardData==null)return;var b=document.getSelection();if(b===null||b.isCollapsed)return;var e=[];e.push.apply(e,j(b,c));e.push.apply(e,k(b,d));if(e.length===0)return;a.preventDefault();for(b of e){var f;e=b.data;var g=b.format;(f=a.clipboardData)==null?void 0:f.setData(g,e)}},[c,d]);return(c==null?void 0:c.length)===0&&(d==null?void 0:d.length)===0?h.jsx("div",{children:b}):h.jsx("div",{onCopy:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedEndOfFeedMessageForNewsfeedOnly.react",["CometFeedEndOfFeedMessage.react","HiddenSubtreePassiveContext","NetworkStatus","cr:1638891","gkx","qex","react","requireDeferred","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useEffect,k=e.useRef,l=c("requireDeferred")("CometNewsFeedEofFalcoEvent").__setRef("CometFeedEndOfFeedMessageForNewsfeedOnly.react"),m=c("requireDeferred")("CometNewsFeedEofUnmountedFalcoEvent").__setRef("CometFeedEndOfFeedMessageForNewsfeedOnly.react");function a(a){var d,e=a.endOfFeedComponent;e=e===void 0?c("CometFeedEndOfFeedMessage.react"):e;var f=a.feedUnitReceivedCount,g=a.feedUnitRenderedCount,n=a.friendsCount,o=a.hasPageInfo,p=a.isError,q=a.maxFeedUnitsReceived,r=a.onReload,s=a.onTailLoadReload,t=a.renderLocation,u=a.tailLoadErrored;a=babelHelpers.objectWithoutPropertiesLoose(a,["endOfFeedComponent","feedUnitReceivedCount","feedUnitRenderedCount","friendsCount","hasPageInfo","isError","maxFeedUnitsReceived","onReload","onTailLoadReload","renderLocation","tailLoadErrored"]);var v=k(!1),w=i(c("HiddenSubtreePassiveContext")),x=k(null),y=!c("gkx")("976093")&&c("gkx")("1393"),z=r!=null?function(){v.current=!0,y&&u?s():r()}:void 0;d=(d=c("qex")._("292"))!=null?d:!1;var A=c("useCometRouterState")(),B=(A=A==null?void 0:(A=A.main)==null?void 0:(A=A.route)==null?void 0:A.tabKey)!=null?A:"",C=B==="most_recent_feed"&&d;j(function(){if(t==="homepage_stream"||C){var a=p?"unknown_error":"no_more_edges";p&&(!o&&u?a="missing_page_info_and_tail_load_error":!o?a="missing_page_info":u&&(a="tail_load_error"));var b=c("NetworkStatus").isOnline();x.current=Date.now();l.onReady(function(c){c.log(function(){return{eof_mount_reason:a,feed_tab_key:B,feed_unit_count:g,feed_unit_received_count:f,is_online:b,max_feed_units_received_count:q,was_in_hidden_subtree:w.getCurrentState().hiddenOrBackgrounded_FIXME}})});return function(){var a=Date.now(),b=x.current!=null?a-x.current:null,c=v.current,d=w.getCurrentState().hiddenOrBackgrounded;m.onReady(function(a){a.log(function(){return{feed_unit_count:g,feed_unit_received_count:f,manual_reload:c,mounted_duration:b,was_in_hidden_subtree:d}})})}}},[]);A=!p&&(n==null||n>=60);return h.jsx(e,babelHelpers["extends"]({},a,{feedUnitReceivedCount:f,friendsCount:n,isError:p,isTailLoadError:y&&u,onReload:z,unstable_fbOnlyMessage:A&&b("cr:1638891")!=null?h.jsx(b("cr:1638891"),{}):void 0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedFavoritesEndOfFeedMessage.react",["CometFeedFavoritesEndOfFeedMessageQuery.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var c=a.feedUnitReceivedCount;a=a.onReload;c={hasNoStories:c===0};var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometFeedFavoritesEndOfFeedMessageQuery.graphql"),c);return i.jsxs("div",{children:[i.jsx(d("CometRelay").MatchContainer,{match:e==null?void 0:e.see_first_migration_content,props:{onReload:a}}),i.jsx(d("CometRelay").MatchContainer,{match:e==null?void 0:e.favorites_caught_up_content,props:{hasNoStories:c.hasNoStories}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedBrandSafetyContextProvider.react",["CometFeedBrandSafetyContext","react","useUnsafeRef_DEPRECATED","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children;a=a.feedStateInfoRef;var d=j(function(){return{brsSessionId:c("uuid")()}},[]),e=c("useUnsafeRef_DEPRECATED")({}),f=c("useUnsafeRef_DEPRECATED")({feedSessionInfo:d,feedStateInfoRef:a,feedUnitRegistry:e.current});d=i(function(){return f.current},[]);return h.jsx(c("CometFeedBrandSafetyContext").Provider,{value:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedKeyboardNavPositionContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(0);g["default"]=b}),98);
__d("CometNewsFeedEmptyRenderFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4147");b=d("FalcoLoggerInternal").create("comet_news_feed_empty_render",a);e=b;g["default"]=e}),98);
__d("CometNewsFeedLoadedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743387");b=d("FalcoLoggerInternal").create("comet_news_feed_loaded",a);e=b;g["default"]=e}),98);
__d("CometNewsFeedPerfExperiments",["FBLogger","UserAgent","gkx","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=40,i=-1;function a(){if(!c("gkx")("6191"))return i;var a;try{a=j()}catch(b){c("FBLogger")("comet_performance.memory","CometNewsFeedPerfExperiments").catching(b).mustfix("Unable to detect if browser supports scroll anchoring"),a=!1}if(!a)return i;try{a=c("qex")._("183")===!0;return a?c("UserAgent").isBrowser("Firefox")?i:h:c("justknobx")._("546")}catch(a){c("FBLogger")("comet_performance.memory","CometNewsFeedPerfExperiments").catching(a).mustfix("Unable to determine news feed story cap")}return i}function j(){var a;return((a=window)==null?void 0:(a=a.CSS)==null?void 0:a.supports==null?void 0:a.supports("overflow-anchor","auto"))===!0}g.getMaxFeedEdgesToRender=a}),98);
__d("useLogCometFeedUnitRenderAttemptEvent",["CometRelay","react","recoverableViolation","unrecoverableViolation","useCometFeedUnitEventLogger","useLogCometFeedUnitRenderAttemptEvent_newsFeedEdge.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useEffect,j=e.useRef;function a(a,e,f){var g=j(!1);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useLogCometFeedUnitRenderAttemptEvent_newsFeedEdge.graphql"),a);var k=a.category,l=a.deduplication_key;if(a.node==null)throw c("unrecoverableViolation")("node cannot be null on edge in useLogCometFeedUnitRenderAttemptEvent","comet_feed");var m=c("useCometFeedUnitEventLogger")(a.node);i(function(){if(!g.current){g.current=!0;if(l!=null){var a;m({category:(a=k)!=null?a:void 0,event:"render_attempt",position:e,renderLocation:(a=f)!=null?a:void 0})}else c("recoverableViolation")("deduplication key and node cannot be null in useLogCometFeedUnitRenderAttemptEvent","comet_feed")}},[k,l,m,e,f])}g["default"]=a}),98);
__d("CometNewsFeedUnit.react",["CometFeedUnit.react","CometFeedUnitOnUnsupportedLoggerContext","CometFeedUnitSetStatusContext","CometNewsFeedUnit_edge.graphql","CometNewsFeedVPVDStore","CometRelay","FBLogger","react","useLayoutEffect_SAFE_FOR_SSR","useLogCometFeedUnitRenderAttemptEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useContext;function a(a){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometNewsFeedUnit_edge.graphql"),a.edge),f=e.category,g=e.node,k=g==null?void 0:g.__typename,l=g==null?void 0:g.post_id,m=a.position,n=a.variables.renderLocation!=="%future added value"?a.variables.renderLocation:null;c("useLogCometFeedUnitRenderAttemptEvent")(e,m,n);var o=j(d("CometFeedUnitSetStatusContext").CometFeedUnitSetStatusContext),p=g==null;c("useLayoutEffect_SAFE_FOR_SSR")(function(){p&&(o("error"),c("FBLogger")("CometNewsFeedUnitNull").warn("node should not be null in CometNewsFeedUnit","comet_feed"))},[p,o]);return g==null?null:i.jsx("div",{"data-testid":void 0,children:i.jsx(d("CometNewsFeedVPVDStore").LoggerProvider,{newsFeedEdge:e,children:i.jsx(d("CometFeedUnitOnUnsupportedLoggerContext").CometFeedUnitOnUnsupportedLoggerContextProvider,{category:f,position:m,postID:l,renderLocation:n,unitName:k,children:i.jsx(c("CometFeedUnit.react"),{feedUnit:g,newsFeedEdge:e,position:m,variables:a.variables})})})})}a.displayName=a.name+" [from "+f.id+"]";e=i.memo(a);g["default"]=e}),98);
__d("CometNewsfeedOrderingDebuggingState",[],(function(a,b,c,d,e,f){"use strict";var g={hasInjectedStories:null,order:null,reorderingEnabled:null};function a(){return g}function b(a){g.order=a}function c(a){g.hasInjectedStories=a}function d(a){g.reorderingEnabled=a}f.dump=a;f.setFeedUnitOrderingState=b;f.setHasInjectedStories=c;f.setReorderingEnabled=d}),66);
__d("GHLRandomTags.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.children;a.depth>1&&(b=h.jsx(i,{children:a.children,depth:a.depth-1}));return h.jsx("span",{children:b})}i.displayName=i.name+" [from "+f.id+"]";g["default"]=i}),98);
__d("BrandSafetyEnforcementUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return a==="SPONSORED"&&c!=null&&b!=null&&c>b}f.isInvalidBrandSafetyPositioning=a}),66);
__d("CometFeedClientQEBasedGapRuleConfig",["qex"],(function(a,b,c,d,e,f,g){"use strict";f={configName:"CometFeedClientQEBasedGapRuleConfig",minGapFromTop:{END_OF_FEED_CONTENT:0,ENGAGEMENT:0,ENGAGEMENT_QP:1,FB_SHORTS:(b=(a=c("qex")._("265"))!=null?a:c("qex")._("115"))!=null?b:7,FB_STORIES:0,FB_STORIES_ENGAGEMENT:0,FIXED_POSITION:0,HIGH_VALUE_PROMOTION:0,ORGANIC:0,PROMOTION:0,SHOWCASE:3,SPONSORED:1,UNKNOWN:0},minGap:{END_OF_FEED_CONTENT:{ORGANIC:0,ENGAGEMENT:0,FIXED_POSITION:0,PROMOTION:0,SPONSORED:0,END_OF_FEED_CONTENT:0,FB_STORIES:0,HIGH_VALUE_PROMOTION:0,FB_STORIES_ENGAGEMENT:0},ENGAGEMENT:{ORGANIC:0,ENGAGEMENT:2,FIXED_POSITION:0,PROMOTION:0,SPONSORED:0,FB_STORIES:0,HIGH_VALUE_PROMOTION:0,FB_STORIES_ENGAGEMENT:0},FB_STORIES:{ORGANIC:0,FIXED_POSITION:0,PROMOTION:0,SPONSORED:0,FB_STORIES:0,HIGH_VALUE_PROMOTION:0,FB_STORIES_ENGAGEMENT:0},FB_STORIES_ENGAGEMENT:{PROMOTION:0,ORGANIC:0,FIXED_POSITION:0,SPONSORED:0,HIGH_VALUE_PROMOTION:0,FB_STORIES_ENGAGEMENT:0},FIXED_POSITION:{ORGANIC:0,FIXED_POSITION:0,PROMOTION:2,SPONSORED:0,HIGH_VALUE_PROMOTION:0},HIGH_VALUE_PROMOTION:{ORGANIC:0,PROMOTION:0,SPONSORED:0,HIGH_VALUE_PROMOTION:0},ORGANIC:{ORGANIC:0,PROMOTION:0,SPONSORED:0},PROMOTION:{PROMOTION:2,SPONSORED:0},SPONSORED:{SPONSORED:2},FB_SHORTS:{FB_SHORTS:(e=(d=c("qex")._("355"))!=null?d:c("qex")._("419"))!=null?e:0}}};g["default"]=f}),98);
__d("CometFeedGapRuleConfigProvider",["CometFeedClientQEBasedGapRuleConfig"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("CometFeedClientQEBasedGapRuleConfig")}),98);
__d("CometFeedGapRules",["CometFeedGapRuleConfigProvider","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("CometFeedGapRuleConfigProvider").configName}function a(){return Object.keys(c("CometFeedGapRuleConfigProvider").minGapFromTop)}function i(a){return c("CometFeedGapRuleConfigProvider").minGapFromTop[a]!==void 0}var j=new Set();function k(a,b,d){if(j.has(a))return;b=c("FBLogger")(b);d&&(b=b.catching(d));b.warn(a);j.add(a);return}function l(a){i(a)||k("Feed unit category "+a+" is not supported by client-side gap rule config "+h(),"CometFeedGapValidation")}function b(a,b){a=[a,b];a.forEach(l);a.sort();b=a[0];a=a[1];return(b=(b=c("CometFeedGapRuleConfigProvider").minGap[b])==null?void 0:b[a])!=null?b:0}function d(a){l(a);return(a=c("CometFeedGapRuleConfigProvider").minGapFromTop[a])!=null?a:0}g.getGapRuleConfigName=h;g.getSupportedFeedUnitCategories=a;g.getMinGapBetweenCategories=b;g.getMinGapFromTop=d}),98);
__d("CometValidFeedUnitOrdering",["BrandSafetyEnforcementUtils","CometFeedGapRules","CometFeedUnitStatusTrackingUtils","cr:3793","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.reduce(function(a,b){return babelHelpers["extends"]({},a,(a={},a[b.key]=b,a))},{})}var i={};function j(a){var b={};d("CometFeedGapRules").getSupportedFeedUnitCategories().forEach(function(a){b[a]=null});a.forEach(function(a,c){b[a.category]=c});return b}function k(a,b,c,e,f){return l(a,b,d("CometFeedUnitStatusTrackingUtils").isPossiblyVisible,c,e,f)===null}function l(a,e,f,g,h,k){var l=d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(a,f),m=l.length,n=j(l);f=Object.keys(n);var o=d("CometFeedGapRules").getMinGapFromTop(e),p=m;if(p<o)return{conflictPosition:null,conflictUnitCategory:null,violationType:"minGapFromTop"};p=null;var q=(o=g==null?void 0:g.sponsoredAuctionDistance)!=null?o:0;if(c("gkx")("366")&&a.length>=1){o=a[a.length-1];var r=o==null?void 0:(o=o.edgeData)==null?void 0:o.brsContentLabel,s=g==null?void 0:g.brsFilterSetting;o=d("BrandSafetyEnforcementUtils").isInvalidBrandSafetyPositioning(e,s,r);if(o){k!=null&&i[k]!==a.length&&(b("cr:3793")==null?void 0:b("cr:3793").log(function(){var b;return{ad_insertion_status:"SLOT_SKIPPED",ad_insertion_sub_status:"BLOCKED_BY_PREV",ad_inventory_filter:String(s),adjacent_edges_info:{unit_before:{brs_content_label:String(r)}},client_token:(b=h)!=null?b:"",feed_session_id:"",impression_original_timestamp_ms:"",slot_position:String(a.length)}}),i[k]=a.length);return{conflictPosition:a.length,conflictUnitCategory:"SPONSORED",violationType:"brandSafetyViolation"}}}f.some(function(a){var b=d("CometFeedGapRules").getMinGapBetweenCategories(e,a);b=e==="SPONSORED"&&a==="SPONSORED"?Math.max(b,q+1):b;if(n[a]!=null){var c=m-n[a];if(c<b){p={conflictPosition:l[n[a]].position,conflictUnitCategory:a,violationType:"minGapBetweenCategories"};return!0}}return!1});return p}function m(a,b){for(var c=0;c<b.length;c++){var d,e=b[c];if(k(a,e.category,{brsContentLabel:e==null?void 0:(d=e.edgeData)==null?void 0:d.brsContentLabel,brsFilterSetting:e==null?void 0:(d=e.edgeData)==null?void 0:d.brsFilterSetting,sponsoredAuctionDistance:e==null?void 0:(d=e.edgeData)==null?void 0:d.sponsoredAuctionDistance},e==null?void 0:(d=e.edgeData)==null?void 0:d.clientToken,e.key))return e}return null}function n(a,b){var c=h(a);return b.filter(function(a){return c[a.key]==null})}function o(a,b){if(a.length<2||b.length===0)return[];b=b.reduce(function(a,b){return babelHelpers["extends"]({},a,(a={},a[b]=!0,a))},{});var c=[];for(var d=0;d<a.length;d++){var e=a[d];if(b[e.key]!=null)return c;c.push(e)}return[]}function a(a,b){b===void 0&&(b=0);var c=[];for(b=b;b<a.length;b++){var e=a[b];if(d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible(e)){var f=l(a.slice(0,b),e.category,d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible);f!=null&&c.push(babelHelpers["extends"]({},f,{violationPosition:b,violationUnitCategory:e.category,violationUnitKey:e.key}))}}return c}function e(a,b,c){c===void 0&&(c=!1);var d=b.reduce(function(a,b,c){return babelHelpers["extends"]({},a,(a={},a[b.key]=c,a))},{}),e={};a.forEach(function(a,b){if(e[a.key]!=null){e[a.key].receivedPositions=e[a.key].receivedPositions.concat([b]);return}e[a.key]={receivedPositions:[b],renderedPosition:(b=d[a.key])!=null?b:null}});if(c)return e;var f={};Object.keys(e).forEach(function(a){var b=e[a];if(b.receivedPositions.length===1&&b.receivedPositions[0]===b.renderedPosition)return;f[a]=b});return f}function p(a){var b={};return a.filter(function(a){if(b[a.key])return!1;b[a.key]=!0;return!0})}function f(a,e,f){e=p(e);var g=h(e);a=a.filter(function(a){return g[a.key]!=null});a=d("CometFeedUnitStatusTrackingUtils").getAllPositionedFeedUnits(d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithRenderingOutOfOrderFixed(a));f=o(e,f).map(function(a){return babelHelpers["extends"]({},a,{status:"positioned"})});var i=f.concat(a),j=n(i,e);f=function(){var a=m(i,j);if(a==null)return"break";if(c("gkx")("366")&&i.length>=1){var e,f=i[i.length-1];e=d("BrandSafetyEnforcementUtils").isInvalidBrandSafetyPositioning(f.category,(e=f.edgeData)==null?void 0:e.brsFilterSetting,(e=a.edgeData)==null?void 0:e.brsContentLabel);e&&(b("cr:3793")==null?void 0:b("cr:3793").log(function(){var b;return{ad_insertion_status:"SLOT_SKIPPED",ad_insertion_sub_status:"BLOCKED_BY_NEXT",ad_inventory_filter:String((b=f.edgeData)==null?void 0:b.brsFilterSetting),adjacent_edges_info:{unit_after:{brs_content_label:String((b=a.edgeData)==null?void 0:b.brsContentLabel)}},client_token:(b=(b=a.edgeData)==null?void 0:b.clientToken)!=null?b:"",feed_session_id:"",impression_original_timestamp_ms:"",slot_position:String(i.length-1)}}),i.pop())}i.push(babelHelpers["extends"]({},a,{status:"received"}));j=j.filter(function(b){return b.key!==a.key})};while(j.length>0){a=f();if(a==="break")break}return i}g.getFeedUnitMap=h;g.getLastPositionsForCategories=j;g.isUnitEligibleToBePlacedNext=k;g.getViolationIfUnitIsPlacedNext=l;g.getNextEligibleUnit=m;g.getAvailableUnits=n;g.getNewHeadLoadedUnits=o;g.getFeedUnitOrderViolations=a;g.getFeedUnitReorderInfo=e;g.removeDuplicates=p;g.getValidFeedUnitOrdering=f}),98);
__d("useCometFeedIneligibleUnitLogger",["CometFeedUnitsTypedLoggerLite","CometValidFeedUnitOrdering","react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo,j=b.useRef;function a(a,b){var e=c("useUnsafeRef_DEPRECATED")({}),f=i(function(){return a.map(function(a){if(a!=null&&a.category!=null&&a.deduplication_key!=null){return{category:a.category,key:a.deduplication_key,status:"received",typename:(a=a==null?void 0:(a=a.node)==null?void 0:a.__typename)!=null?a:null}}return null}).filter(Boolean)},[a]),g=f.reduce(function(a,b){return babelHelpers["extends"]({},a,(a={},a[b.key]=b,a))},{}),k=f.map(function(a){return{category:a.category,key:a.key,status:"rendered"}}),l=0;k.some(function(a,b){if(e.current[a.key]==null){l=b;return!0}});var m=d("CometValidFeedUnitOrdering").getFeedUnitOrderViolations(k,l),n=j({});h(function(){var a={};f.forEach(function(d,e){if(a[d.key]!=null){var f;a[d.key]+=1;a[d.key]>((f=n.current[d.key])!=null?f:0)&&c("CometFeedUnitsTypedLoggerLite").log({category:d.category,event:"ineligible_for_position",ineligible_reason:"duplicate",position:e,render_location:b,unit_name:d.typename})}else a[d.key]=1});n.current=a});h(function(){m.forEach(function(a){if(e.current[a.violationUnitKey]==null){var d=a.violationPosition,f=a.violationUnitCategory;a=a.violationUnitKey;c("CometFeedUnitsTypedLoggerLite").log({category:f,event:"ineligible_for_position",ineligible_reason:"gap_rule_violation",position:d,render_location:b,unit_name:(d=(f=g[a])==null?void 0:f.typename)!=null?d:null})}}),k.forEach(function(a){e.current[a.key]=!0})})}g["default"]=a}),98);
__d("FeedRequestWaterfallTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:FeedRequestWaterfallLoggerConfig")}),null);
__d("useCometFeedRequestWaterfallLogger",["FeedRequestWaterfallTypedLoggerLite","react","usePrevious","uuid"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef;function a(a,b,d){var e=j(null),f=c("usePrevious")(a);i(function(){if(f===a)return;if(e.current!=null){var b=f!=null?a.filter(function(a){return!f.find(function(b){return b===a})}):a,g=b.reduce(function(a,b){b=(b=b.feed_backend_data)==null?void 0:b.qid;if(b==null)return a;a[b]==null?a[b]=1:a[b]++;return a},{});Object.keys(g).forEach(function(a){c("FeedRequestWaterfallTypedLoggerLite").log({client_query_id:e.current,event:"client_received_response",is_employee:d,number_of_stories:g[a],query_id:a})})}},[a,d,f]);var g=j(0),k=b.length;i(function(){e.current!=null&&(c("FeedRequestWaterfallTypedLoggerLite").log({client_query_id:e.current,event:"client_rendered_success",is_employee:d,number_of_stories:k-g.current}),g.current=k)},[k,d]);b=h(function(){var a=c("uuid")();c("FeedRequestWaterfallTypedLoggerLite").log({client_query_id:a,event:"client_sent_request",is_employee:d});e.current=a;return a},[d]);var l=h(function(a){c("FeedRequestWaterfallTypedLoggerLite").log({client_query_id:e.current,event:"client_failed_to_receive_response",failure_reason:a.message,is_employee:d,number_of_stories:g.current})},[d]);return[b,l]}g["default"]=a}),98);
__d("CometFeedUnitOrderingDebugInfo",["CometValidFeedUnitOrdering"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=[],e=[],f=d("CometValidFeedUnitOrdering").getFeedUnitMap(b.map(function(a){return babelHelpers["extends"]({},a,{status:"received"})}).concat(a)),g=d("CometValidFeedUnitOrdering").getFeedUnitReorderInfo(b,a,!0);b.forEach(function(a){a=a.key;a={renderedPosition:g[a]!=null?g[a].renderedPosition:null,receivedPositions:g[a]!=null?g[a].receivedPositions:[],category:f[a].category,key:a,status:f[a].status};a.renderedPosition!=null?c[a.renderedPosition]=a:e.push(a)});return{feedUnitsDeferred:e,feedUnitsToRender:c}}function a(a,b,c,d,e){c===void 0&&(c=!0);d===void 0&&(d=0);a=h(a,b);b=a.feedUnitsToRender.concat(a.feedUnitsDeferred);a=b.slice(d,e!=null?e:b.length);d=a.map(function(a){var b=a.renderedPosition!==a.receivedPositions[0];return(b?"*":" ")+" "+((b=a.renderedPosition)!=null?b:"X").toString().padStart(3)+": ["+(a.receivedPositions.toString()+"]").padEnd(7)+" "+a.category.padEnd(12).slice(0,12)+" "+a.key.padEnd(10).slice(0,10)+" "+a.status.slice(0,16)});if(c){e="  Pos: [recvd]  "+"Category".padEnd(13)+"Key (part)".padEnd(11)+"Status";return[e].concat(d).join("\n")}return d.join("\n")}g.getCometFeedUnitOrderingDebugInfo=h;g.getCometFeedUnitOrderingDebugInfoString=a}),98);
__d("getCometFeedUnitOrderingDebuggingTable",["CometFeedUnitOrderingDebugInfo"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return{ReceivedPositions:"["+a.receivedPositions.toString()+"]"+(a.renderedPosition!==a.receivedPositions[0]?" reordered":""),Category:a.category,Key:a.key,Status:a.status+(a.renderedPosition==null?" (deferred)":"")}}function a(a,b){a=d("CometFeedUnitOrderingDebugInfo").getCometFeedUnitOrderingDebugInfo(a,b);b=a.feedUnitsToRender.map(h);a=a.feedUnitsDeferred.map(h);return{feedUnitsDeferred:a,feedUnitsToRender:b}}g["default"]=a}),98);
__d("debugCometFeedUnitOrdering",["getCometFeedUnitOrderingDebuggingTable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=c("getCometFeedUnitOrderingDebuggingTable")(a,b);b=a.feedUnitsDeferred;a=a.feedUnitsToRender;var d=console.table!=null?console.table:emptyFunction;console.group("Feed Unit Order");d(Array.from(a));b.length>0&&d(Array.from(b));console.groupEnd()}g["default"]=a}),98);
__d("useCometFeedGapRuleViolationLogger",["CometFeedUnitOrderingDebugInfo","CometFeedUnitStatusTrackingUtils","CometValidFeedUnitOrdering","react","requireDeferred","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=c("requireDeferred")("CometFeedGapRuleViolationTypedLoggerLite").__setRef("useCometFeedGapRuleViolationLogger"),j=6,k=3;function a(a,b,e){var f=c("useUnsafeRef_DEPRECATED")({}),g=0;a.some(function(a,b){if(d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible(a)&&f.current[a.key]==null){g=b;return!0}});var l=d("CometValidFeedUnitOrdering").getFeedUnitOrderViolations(a,g);h(function(){l.forEach(function(c){if(a[c.violationPosition]!=null&&f.current[a[c.violationPosition].key]==null){var g=c.conflictPosition,h=c.conflictUnitCategory,l=c.violationPosition,m=c.violationType,n=c.violationUnitCategory;c=(c=g)!=null?c:0;var o=e?d("CometFeedUnitOrderingDebugInfo").getCometFeedUnitOrderingDebugInfoString(a,b,!0,c-j,l+1+k):null,p=a.slice(0,l+1).filter(function(a){return a.status==="error"}).length,q=a.slice(c+1,l).filter(function(a){return a.status==="error"}).length;i.onReady(function(a){a.log({conflict_position:g,conflict_unit_category:h,debug_info:o,errored_in_gap_count:q,errored_total_count:p,reordering_enabled:e,violation_cause:"unknown",violation_position:l,violation_type:m,violation_unit_category:n})})}}),a.filter(d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible).forEach(function(a){f.current[a.key]=!0})})}g["default"]=a}),98);
__d("useCometFeedUnitStatusTracking",["CometFeedUnitStatusTrackingUtils","react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef,j=["received","positioned","rendered","error"];function k(a,b){b=b.map(function(b){return a[b]!=null?{category:a[b].category,key:b,status:a[b].status}:null}).filter(Boolean);return d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithRenderingOutOfOrderFixed(b)}function a(a,b){var d=c("useUnsafeRef_DEPRECATED")({}),e=c("useUnsafeRef_DEPRECATED")([]),f=i({}),g=c("useUnsafeRef_DEPRECATED")(0),l=g.current,m=h(function(){if(a!=null){var b=k(d.current,e.current);a(b)}},[a]),n=h(function(){return k(d.current,e.current)},[]),o=h(function(){d.current={},e.current=[],f.current={},g.current+=1},[]),p=h(function(a){var b=e.current.length===a.length&&e.current.every(function(b,c){return b===a[c]});if(b)return;e.current.filter(function(b){return a.indexOf(b)===-1}).forEach(function(a){delete d.current[a]});e.current=a;m()},[m]),q=h(function(a,c){l;var e=d.current[a];if(e==null){d.current[a]=c;m();return}var g=j[Math.max(j.indexOf(c.status),j.indexOf(e.status))];c={category:c.category,status:g};if(c.category===e.category&&c.status===e.status)return;c.status==="error"&&f.current[a]===void 0&&(b!=null&&b(a,e.status==="rendered"),f.current[a]=!0);d.current[a]=c;m()},[b,m,l]),r=k(d.current,e.current);return[r,p,q,o,n]}g["default"]=a}),98);
__d("useCometFeedUnitReordering",["CometFeedGapRules","CometFeedUnitStatusTrackingUtils","CometNewsfeedOrderingDebuggingState","CometRelay","CometValidFeedUnitOrdering","FBLogger","InteractionTracing","debugCometFeedUnitOrdering","emptyFunction","getCometFeedUnitOrderingDebuggingTable","gkx","react","recoverableViolation","useCometFeedGapRuleViolationLogger","useCometFeedUnitReordering_newsFeedEdge.graphql","useCometFeedUnitStatusTracking","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useRef,l=e.useState;function m(a,b,d){b===void 0&&(b="CometFeedRenderingOrderError");d===void 0&&(d="Feed unit effects called out of order");var e=null,f=null;a.forEach(function(a,b){a.status==="rendered"&&(e=b),a.status==="received"&&f===null&&(f=b)});if(e!=null&&f!=null&&f<e&&f!==0){a=a.map(function(a,b){return babelHelpers["extends"]({},a,{position:b})}).slice(Math.max(0,f-2),e+2).map(function(a){return String(a.position).padStart(2)+": "+a.status+" | "+a.category+" | "+a.key}).join("\n");c("FBLogger")(b).warn(d+" in positions "+f+"-"+e+".\n"+a)}}function a(a,e,f,g){var n=l(0);n[0];var o=n[1],p=k({});n=i(function(a,b){o(function(a){return a+1}),b&&(p.current[a]=!0)},[]);j(function(){d("CometNewsfeedOrderingDebuggingState").setReorderingEnabled(e)},[e]);n=c("useCometFeedUnitStatusTracking")(c("emptyFunction"),n);var q=n[0],r=n[1],s=n[2],t=n[3],u=n[4],v=c("gkx")("976093"),w=a.map(function(a,e){if(a==null){c("recoverableViolation")("edge should not be nullish in useCometFeedUnitReordering","comet_feed");return null}if(a.node==null)return null;if(a.category==null){c("recoverableViolation")("category should not be nullish in useCometFeedUnitReordering","comet_feed");return null}if(a.deduplication_key==null){c("recoverableViolation")("deduplication_key should not be nullish in useCometFeedUnitReordering","comet_feed");return null}var f={category:a.category,key:a.deduplication_key},i;c("gkx")("366")&&(i=d("CometRelay").readInlineData(h!==void 0?h:h=b("useCometFeedUnitReordering_newsFeedEdge.graphql"),g==null?void 0:g[e]));e=(e=i)==null?void 0:(e=e.node)==null?void 0:e.sponsored_data;return v?f:babelHelpers["extends"]({},f,{edgeData:{brsContentLabel:(f=i)==null?void 0:f.brs_content_label,brsFilterSetting:e==null?void 0:e.brs_filter_setting,clientToken:e==null?void 0:e.client_token,sponsoredAuctionDistance:a.sponsored_auction_distance}})}).filter(Boolean);n=c("usePrevious")(w.map(function(a){return a.key}));c("useCometFeedGapRuleViolationLogger")(q,w,e);var x=e?d("CometValidFeedUnitOrdering").getValidFeedUnitOrdering(q,w,(q=n)!=null?q:[]):w.map(function(a){return babelHelpers["extends"]({},a,{status:"received"})});j(function(){var a=x.map(function(a){return a.key});r(a);d("CometFeedUnitStatusTrackingUtils").getUncommittedFeedUnits(x).forEach(function(a){return s(a.key,{category:a.category,status:a.status})})});var y=a.filter(Boolean).reduce(function(a,b){if(b==null||b.deduplication_key==null)return a;return a[b.deduplication_key]!=null?a:babelHelpers["extends"]({},a,(a={},a[b.deduplication_key]=b,a))},{});n=f&&e?x.filter(d("CometFeedUnitStatusTrackingUtils").isPossiblyVisible):x;q=e?n.map(function(a){return y[a.key]}).filter(Boolean):a.filter(Boolean);var z=k(!1);j(function(){var b;b=(b=a[0])==null?void 0:b.deduplication_key;if(e&&!z.current&&b!=null&&w!=null&&x!=null){var f=d("CometValidFeedUnitOrdering").getFeedUnitReorderInfo(w,x);f[b]!=null&&c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationInt("firstFeedUnitReordered",1)});z.current=!0}});j(function(){},[e]);j(function(){d("CometNewsfeedOrderingDebuggingState").setFeedUnitOrderingState(c("getCometFeedUnitOrderingDebuggingTable")(x,w))});j(function(){window.requestAnimationFrame(function(){m(u(),"CometFeedRenderingOrderErrorAfterAnimationFrame","Feed units rendered out of order")})});return{feedEdgesToRender:q,getFeedUnitStatusListPassive:u,resetFeedUnitRegistry:t,setFeedUnitRecord:s}}g["default"]=a}),98);
__d("CometNewsFeed.react",["fbt","CometBackupPlaceholder.react","CometClipboardCustomCopy.react","CometFeedBrandSafetyContextProvider.react","CometFeedEndOfFeedMessageForNewsfeedOnly.react","CometFeedInfiniteScrollSuspenseList.react","CometFeedKeyboardNavPositionContext","CometFeedTailLoadConfig","CometFeedUnitErrorBoundary.react","CometFeedUnitSetDebugInfoContextProvider.react","CometFeedUnitSetStatusContext","CometFeedUnitStatusListPassiveContext","CometFeedUnitsTypedLoggerLite","CometGHLFeedClassContext","CometHeroFeedItem.react","CometHeroHoldTrigger.react","CometNewsFeedEmptyRenderFalcoEvent","CometNewsFeedLoadedFalcoEvent","CometNewsFeedPerfExperiments","CometNewsFeedUnit.react","CometNewsFeed_viewer.graphql","CometNewsfeedOrderingDebuggingState","CometOnInitialMount.react","CometRelay","CometScreenReaderHeading.react","ErrorGuard","FBLogger","GHLRandomTags.react","GHLSurfaceContainerContext","HiddenSubtreePassiveContext","InteractionTracing","Random","VideoAutoplayLocalScopeProvider.react","VideoPlayerAutoplayRulesProvider","cr:1142206","cr:1813330","cr:1915","cr:1999","cr:3432","cr:3683","gkx","justknobx","react","useCometFeedIneligibleUnitLogger","useCometFeedKeyCommands","useCometFeedRequestWaterfallLogger","useCometFeedUnitReordering","useCometRouterState","usePrevious","useSimpleImpression","useStable","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,aa=e.useContext,l=e.useEffect,m=e.useRef,n=e.useState,o=d("CometNewsFeedPerfExperiments").getMaxFeedEdgesToRender();e=b("cr:1999")(o);var ba=e.CappedListContext,ca=e.CappedListItemTracker,da=e.useCometCappedListV2,ea=c("gkx")("1101967"),fa=d("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("default_feed"),p="homepage_stream",ga=c("gkx")("1217157")?[2,2,2,2,4]:void 0,q=i!==void 0?i:i=b("CometNewsFeed_viewer.graphql"),ha=j.memo(function(a){var b,e=a.feedEdge,f=a.position,g=a.setFeedUnitRecord;a=a.variables;var h=m(!1),i=e.node;if(i==null)return null;var k=(b=i.__typename)!=null?b:null;return j.jsx(c("CometHeroFeedItem.react"),{position:f,children:j.jsx(c("CometBackupPlaceholder.react"),{fallback:j.jsx(c("CometOnInitialMount.react"),{onInitialMount:function(){c("CometFeedUnitsTypedLoggerLite").log({category:e.category,event:"unexpected_resuspense",position:f,render_location:p,unit_name:k})}}),unstable_onSuspense:function(a){h.current||(c("CometFeedUnitsTypedLoggerLite").log({category:e.category,event:"unexpected_resuspense_with_name",position:f,promise_name:a,render_location:p,unit_name:k}),h.current=!0)},children:j.jsx(d("CometFeedUnitSetStatusContext").CometFeedUnitSetStatusContextProvider,{category:e.category,deduplicationKey:e.deduplication_key,setFeedUnitRecord:g,children:j.jsx(c("CometFeedUnitErrorBoundary.react"),{category:(b=e.category)!=null?b:void 0,feedUnit:i,position:f,renderLocation:p,unitTypename:k,children:j.jsx(c("CometNewsFeedUnit.react"),{edge:e,position:f,variables:a})})})})})});function a(a){var e,f,g=n(!1),i=g[0],s=g[1];g=n(!1);var t=g[0],ia=g[1];g=d("CometRelay").usePaginationFragment(q,a.viewer);var u=g.data,v=g.hasNext,w=g.isLoadingNext,x=g.loadNext,y=d("CometRelay").useIsParentQueryActive(q,a.viewer);g=a.endOfFeedComponent;var z=a.isReloading,ja=a.onReload,ka=a.variables;a=u==null?void 0:u.is_fb_employee;var A=u==null?void 0:u.news_feed;e=(e=u==null?void 0:u.can_have_friends)!=null?e:!0;f=(f=u==null?void 0:(f=u.actor)==null?void 0:f.name)!=null?f:null;var B=w||y||!t||z,C=!i&&(v||y||!t),D=u==null?void 0:(w=u.news_feed)==null?void 0:w.injected_stories;z=(A==null?void 0:A.page_info)!=null;u=u==null?void 0:(w=u.all_friends)==null?void 0:w.friend_count;var E=(w=A==null?void 0:A.edges)!=null?w:[];A=m(null);var F=m(null);l(function(){var a={didMount:t,hasMore:C,hasNextFromPaginationFragment:v,isParentQueryActive:y,tailLoadErrored:i};if(F.current!=null&&F.current.tailLoadErrored===!1&&F.current.hasMore===!1&&C===!0){var b;b=(b=c("ErrorGuard").applyWithGuard(function(){return JSON.stringify({hasMoreObject:a,previousHasMoreObject:F.current})},null,[]))!=null?b:"";c("FBLogger")("CometNewsfeedHasMoreUnstable").addMetadata("COMET_FEED","FEED_UNIT_RECEIVED_COUNT",String(E.length)).mustfix("hasMore unexpectedly became true again after being false\n\n"+b)}F.current=a},[t,E.length,C,v,y,i]);var G=c("useUnsafeRef_DEPRECATED")(0),H=Math.max(G.current,E.length);l(function(){G.current=H},[H]);c("useCometFeedIneligibleUnitLogger")(E,p);w=c("useCometFeedUnitReordering")(E,c("gkx")("951936")&&!D,ea,E);var I=w.feedEdgesToRender,la=w.getFeedUnitStatusListPassive,ma=w.setFeedUnitRecord,J=(w=c("usePrevious")(E.length))!=null?w:0,K=(w=c("usePrevious")(I.length))!=null?w:0,L=m(0),M=c("useCometRouterState")(),N=aa(c("HiddenSubtreePassiveContext"));l(function(){if(E.length===J)return;I.length<=K?(L.current++,c("CometNewsFeedEmptyRenderFalcoEvent").log(function(){var a;return{empty_render_count:L.current.toString(),feed_tab_key:(a=M==null?void 0:(a=M.main)==null?void 0:(a=a.route)==null?void 0:a.tabKey)!=null?a:"",feed_unit_count:I.length.toString(),feed_unit_received_count:E.length.toString(),max_feed_units_received_count:H.toString(),was_in_hidden_subtree:N.getCurrentState().hiddenOrBackgrounded_FIXME}})):L.current=0},[E.length,N,H,J,K,I.length,M==null?void 0:(w=M.main)==null?void 0:(w=w.route)==null?void 0:w.tabKey]);w=b("cr:1915")(I,o);var O=w.cappedList,P=w.pauseTrim,Q=w.resumeTrim,R=w.topOffset;l(function(){c("CometNewsFeedLoadedFalcoEvent").log(function(){return{feed_unit_count:I.length,feed_unit_received_count:E.length,was_in_hidden_subtree:N.getCurrentState().hiddenOrBackgrounded_FIXME}})},[]);l(function(){ia(!0)},[]);l(function(){d("CometNewsfeedOrderingDebuggingState").setHasInjectedStories(D!=null)},[D]);w=c("useCometFeedRequestWaterfallLogger")(E,I,!!a);var S=w[0],na=w[1],T=k(function(){b("cr:1142206")!=null&&b("cr:1142206").log("[handleLoadMore]","checking if we have hasNext or are isLoading",{hasNext:C,isLoading:B});if(!C||B)return;b("cr:1142206")!=null&&b("cr:1142206").log("[handleLoadMore]","starting tail load with trace");var a=S();x(c("CometFeedTailLoadConfig").fetchCount,{UNSTABLE_extraVariables:{clientQueryId:a},onComplete:function(a){a!=null&&(s(!0),na(a),b("cr:1142206")!=null&&b("cr:1142206").log("[loadNext]","Failed to fetch next page",{errorMessage:a.toString(),hasNext:C,isLoading:B}))}})},[C,B,x,na,S]);a=k(function(){s(!1),T()},[T]);w=null;D!=null&&(w=d("CometRelay").ModuleResource.read(D));var U={},V=O.map(function(a,b){if(a.node==null)return null;var c=a.deduplication_key;c!=null?(U[c]!=null?U[c]+=1:U[c]=1,c=c+"-"+U[c].toString()):c=(b+R).toString();return{edge:a,reactKey:c}}).filter(Boolean),W=da(V,o,k(function(a){return a.reactKey},[]),c("justknobx")._("818"),c("justknobx")._("881")),X=W.cappedListContextValue,oa=R,Y=O.length,pa=0;W=V.map(function(a,b){b=a.edge;a=a.reactKey;b=j.jsx(ha,{feedEdge:b,position:oa++,setFeedUnitRecord:ma,variables:ka},a);(X==null?void 0:X.cappedItemIDs.has(a))&&(Y--,pa++);return j.jsx(ca,{id:a,children:b},a)});c("useSimpleImpression")(function(){c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationInt("comet_news_feed_count",Y)})});O=R+pa;b("cr:1813330")!=null&&(b("cr:1813330").setNewsFeedCount(Y),b("cr:1813330").setNewsFeedStoryPositionOffset(O));V=c("useCometFeedKeyCommands")(I.length,"newsfeed",null,P,Q);var Z=!B&&!C,$=!z||i,qa=m({hasMore:C,isEOFError:$,isLoading:B,showEOFMessageAfterFeedStoppedLoading:Z});l(function(){qa.current={hasMore:C,isEOFError:$,isLoading:B,showEOFMessageAfterFeedStoppedLoading:Z}},[Z,C,$,B]);O=c("gkx")("8240")?null:{role:"feed"};P=c("useStable")(function(){return Math.floor(d("Random").random()*5)+4});Q=j.jsxs(j.Fragment,{children:[j.jsx(c("CometScreenReaderHeading.react"),{children:h._("__JHASH__DhoLL8WnZ7W__JHASH__")}),j.jsx(c("VideoAutoplayLocalScopeProvider.react"),{autoplayLocalRules:fa,children:j.jsx(c("CometClipboardCustomCopy.react"),{reformersDeferred:b("cr:3683")!=null?[b("cr:3683")]:[],children:j.jsx(c("GHLSurfaceContainerContext").Provider,{value:A,children:j.jsxs(c("CometFeedKeyboardNavPositionContext").Provider,{value:V,children:[w?j.jsx(w,{}):null,j.jsx(c("CometFeedUnitStatusListPassiveContext").Provider,{value:la,children:j.jsx(c("CometFeedUnitSetDebugInfoContextProvider.react"),{location:"newsfeed",children:j.jsxs(c("CometFeedBrandSafetyContextProvider.react"),{feedStateInfoRef:qa,children:[j.jsx(c("CometHeroHoldTrigger.react"),{description:"FeedQuery",hold:(C||B)&&Y<2}),j.jsx(c("CometGHLFeedClassContext").Provider,{value:c("gkx")("7166"),children:j.jsx(r,{context:ba,value:X,children:j.jsx(c("CometFeedInfiniteScrollSuspenseList.react"),{hasMore:C,incrementalRenderingPageSizes:ga,interactionSource:0,isLoading:B,onLoadMore:T,pageletName:"FeedUnit",positionLimitForSSR:c("gkx")("1490223")?1:0,waitOnScrollIntent:!0,children:b("cr:3432")?[W==null?void 0:W[0],j.jsx(b("cr:3432"),{children:W},"chunker")]:W})})})]})})}),Z?j.jsx(c("CometFeedEndOfFeedMessageForNewsfeedOnly.react"),{canHaveFriends:e,endOfFeedComponent:g,feedUnitReceivedCount:E.length,feedUnitRenderedCount:Y,friendsCount:u,hasPageInfo:z,isError:$,maxFeedUnitsReceived:H,onReload:ja,onTailLoadReload:a,renderLocation:p,tailLoadErrored:i,viewerName:f}):null]})})})})]});return j.jsx("div",babelHelpers["extends"]({"data-testid":void 0,ref:A},O,{children:c("gkx")("8409")?j.jsx(c("GHLRandomTags.react"),{children:Q,depth:P}):Q}))}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=a.children,c=a.context;a=a.value;c=c;return c==null?b:j.jsx(c.Provider,{value:a,children:b})}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FeedsCometEndOfFeed.react",["fbt","ix","CometCard.react","TetraIcon.react","TetraTextPairing.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=h._("__JHASH__v08xGtDkJGJ__JHASH__");var b=h._("__JHASH__OyqzLoZqCEb__JHASH__");return j.jsx("div",{className:"x1hq5gj4",children:j.jsx(c("CometCard.react"),{background:"white",dropShadow:1,children:j.jsxs("div",{className:"x6s0dn4 x78zum5 xdt5ytf x1p5oq8j xxbr6pl xwxc41k xbbxn1n",children:[j.jsx("div",{className:"x1yztbdb x123j3cw x1mpkggp xs9asl8 x1t2a60a",children:j.jsx(c("TetraIcon.react"),{color:"positive",icon:d("fbicon")._(i("509885"),32)})}),j.jsx(c("TetraTextPairing.react"),{body:a,headline:b,level:2,textAlign:"center"})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometModernHomeFeed.react",["CometFeedFavoritesEndOfFeedMessage.react","CometModernHomeFeedQuery.graphql","CometNewsFeed.react","CometRelay","FeedsCometEndOfFeed.react","RelayUFI2CommentsKeyContext","gkx","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("CometModernHomeFeedQuery.graphql");a=i.memo(function(a){var b,e=a.cacheBreaker,f=a.feedQueryReference,g=a.isLoading;a=a.onReload;var h=d("CometRelay").usePreloadedQuery(j,f),k=String(f.variables.orderby);e=k+"_"+e;b=(b=c("qex")._("292"))!=null?b:!1;k=f.variables.feedStyle==="FAVORITES_FEED"&&c("gkx")("1386487")?c("CometFeedFavoritesEndOfFeedMessage.react"):k==="MOST_RECENT"&&b?c("FeedsCometEndOfFeed.react"):void 0;return i.jsx(c("RelayUFI2CommentsKeyContext").Provider,{value:"CometModernHomeFeedQuery",children:i.jsx(c("CometNewsFeed.react"),{endOfFeedComponent:k,isReloading:g,onReload:a,variables:f.variables,viewer:h.viewer},e)})});g["default"]=a}),98);
__d("CometFeedFavoritesHeader.react",["fbt","ix","CometFeedFavoritesHeaderQuery.graphql","CometRelay","TetraButton.react","TetraText.react","fbicon","react","useCometFeedPreferencesDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");function a(){var a=d("CometRelay").useLazyLoadQuery(j!==void 0?j:j=b("CometFeedFavoritesHeaderQuery.graphql"),{}),e=c("useCometFeedPreferencesDialog")(),f=e[0];e=e[1];return k.jsxs("div",{children:[k.jsxs("div",{className:"x78zum5 xyorhqc",children:[k.jsx("div",{className:"x1iyjqo2 xz9dl7a",children:k.jsx(c("TetraText.react"),{type:"headlineEmphasized3",children:h._("__JHASH__gQCwNEoCDV5__JHASH__")})}),k.jsx("div",{className:"x1c4vz4f",children:k.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("497566"),16),label:h._("__JHASH__RQlCb2nGstH__JHASH__"),onPress:function(){return f()},onPressIn:e,type:"secondary"})}),k.jsx("div",{className:"x1c4vz4f xurb0ha",children:k.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("638854"),16),label:h._("__JHASH__3_zHGB-NXwp__JHASH__"),linkProps:{url:"/"},type:"secondary"})})]}),k.jsx(d("CometRelay").MatchContainer,{match:a==null?void 0:a.see_first_migration_content})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedMostRecentHeader.react",["fbt","CometPressable.react","CometRouteParams","TetraText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){var a=d("CometRouteParams").useRouteParams();a=a.sk;if(a!=="h_chr")return null;a=h._("__JHASH__uwsm5G_5HyE__JHASH__");return i.jsxs("div",{className:"x1n2xptk x78zum5 xdj266r xkrivgy xat24cr x1gryazu xyamay9 x4uap5 x1l90r2v xkhd6sd",children:[i.jsx("div",{className:"x1iyjqo2",children:i.jsx(c("TetraText.react"),{type:"headlineEmphasized3",children:h._("__JHASH__EwjDAHsS3QO__JHASH__")})}),i.jsx("div",{className:"xs83m0k",children:i.jsx(c("CometPressable.react"),{display:"inline",label:a,linkProps:{url:"/"},overlayDisabled:!0,children:i.jsx(c("TetraText.react"),{color:"blueLink",type:"body3",children:a})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CappedListContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CappedListItemTracker.react",["CappedListContext","FBLogger","gkx","react","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext;function a(a){var b=a.children,d=a.id;a=j(c("CappedListContext"));var e=a==null?void 0:a.onItemOffScreen,f=a==null?void 0:a.onItemOnScreen,g=i(function(){e==null?void 0:e(d)},[d,e]),k=i(function(){f==null?void 0:f(d)},[d,f]);g=c("useVisibilityObserver")({onHidden:g,onVisible:k});if(a==null){c("FBLogger")("comet_performance.memory","error").mustfix("Unable to find context data for id=%s",JSON.stringify(d));return b}k=a.cappedItemIDs.has(d);a=null;return k?null:h.jsx("div",babelHelpers["extends"]({ref:g},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CappedListItemTrackerMock.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("div",{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometCappedListV2",["FBLogger","forEachObject","gkx","qex","react","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";f=d("react");var h=f.useCallback,i=f.useDeferredValue,j=f.useEffect,k=f.useInsertionEffect,l=f.useMemo,m=f.useRef,n=f.useState,o=1e3;d=c("gkx")("7933");function a(a,b){var c=JSON.stringify(a.map(b));return l(function(){return a.map(b)},[c,b])}function b(a,b){return a}f=c("qex")._("261");var p=f===!0?a:b;function e(a,b,d,e,f){e===void 0&&(e=5e3);f===void 0&&(f=5);var g=n(new Set()),v=g[0],w=g[1],x=i(v),y=m({}),z=p(a,d),A=m(z),B=c("useDebouncedComet")(h(function(){y.current=q({cappedListInfo:y.current,dontUnmountItemsNearOnScreenOnes:f,fullList:A.current,getItemID:d,maxLength:b,minOffscreenDurationBeforeUnmount:e}),w(s(x,y.current))},[x,f,d,b,e]),{wait:o}),C=h(function(){B()},[B]),D=m([]);g=n({});var E=g[0],F=g[1],G=h(function(a,b,c){if(c&&t(y.current,a)==null){D.current.push({id:a,isOnScreen:b});F({});return}y.current=u(y.current,a,b);C()},[C]),H=h(function(a,b){b===void 0&&(b=!0),G(a,!1,b)},[G]),I=h(function(a,b){b===void 0&&(b=!0),G(a,!0,b)},[G]),J=h(function(){A.current=z,y.current=r(d,y.current,z)},[z,d]);k(function(){J()},[J]);j(function(){var a=D.current;if(E&&a.length){c("FBLogger")("comet_performance.memory","useCometCappedListV2").mustfix("Processing %s manual visibility updates although it shouldn't happen: %s",a.length,JSON.stringify(a));J();var b=a.length;a.forEach(function(a){var b=a.id;a=a.isOnScreen;a?I(b,!1):H(b,!1)});a.splice(0,b)}},[E,H,I,J]);return l(function(){return{cappedListContextValue:b>0?{cappedItemIDs:x,onItemOffScreen:H,onItemOnScreen:I}:null}},[x,b,H,I])}function q(a){var b=a.cappedListInfo,d=a.dontUnmountItemsNearOnScreenOnes,e=a.fullList,f=a.getItemID,g=a.maxLength;a=a.minOffscreenDurationBeforeUnmount;if(g<=0)return b;var h=new Set();e=e.map(function(a){a=typeof a==="string"?a:f(a);var c=t(b,a);if(c==null){h.add(a);return null}return{id:a,info:c}}).filter(Boolean).filter(function(a){return!a.info.isCapped});if(h.size>0){c("FBLogger")("comet_performance.memory","useCometCappedListV2").mustfix("Unable to apply capping rules because we couldn't find info for items: %s",JSON.stringify(Array.from(h)));return b}var i=Date.now();g=e.length-g;var j=e.findIndex(function(a){a=a.info;return a.isOnScreen});if(j<0)return b;var k;for(var l=0;g>0&&l<e.length;l++){var m=e[l],n=m.id;m=m.info;if(l+d>=j)break;if(m.lastTimeVisible!=null&&i-m.lastTimeVisible<=a)break;if(m.isOnScreen===!0)break;k==null&&(k=babelHelpers["extends"]({},b));Object.prototype.hasOwnProperty.call(k,n)||c("FBLogger")("comet_performance.memory","newsfeed").mustfix("Unable to find capped item context data for id=%s, this should never happen",JSON.stringify(n));k[n]=babelHelpers["extends"]({},m,{isCapped:!0});g--}return k||b}function r(a,b,c){var d;c.forEach(function(c){c=typeof c==="string"?c:a(c);Object.prototype.hasOwnProperty.call(b,c)||(d==null&&(d=babelHelpers["extends"]({},b)),d[c]={isCapped:!1,isOnScreen:null,lastTimeVisible:null})});return d||b}function s(a,b){var d=null;c("forEachObject")(b,function(b,c){b.isCapped&&!a.has(c)&&(d==null&&(d=new Set(a)),d.add(c))});return d||a}function t(a,b){return a[b]}function u(a,b,d){var e=t(a,b);if(e==null){c("FBLogger")("comet_performance.memory","useCometCappedListV2").warn("Unable to set visibility [isOnScreen=%s] for item [id=%s]",d,JSON.stringify(b));return a}e=babelHelpers["extends"]({},e,{isOnScreen:d,lastTimeVisible:Date.now()});return babelHelpers["extends"]({},a,(d={},d[b]=e,d))}g["default"]=e}),98);
__d("useCometCappedListV2Mock",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){return{cappedListContextValue:null}}f["default"]=a}),66);
__d("cometCappedListFactory",["CappedListContext","CappedListItemTracker.react","CappedListItemTrackerMock.react","useCometCappedListV2","useCometCappedListV2Mock"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a>0;return{CappedListContext:a?c("CappedListContext"):null,CappedListItemTracker:a?c("CappedListItemTracker.react"):c("CappedListItemTrackerMock.react"),useCometCappedListV2:a?c("useCometCappedListV2"):c("useCometCappedListV2Mock")}}g["default"]=a}),98);
__d("useCometCappedListMock",["emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=c("emptyFunction");var d=c("emptyFunction");return{cappedList:a,pauseTrim:b,resumeTrim:d,topOffset:0}}g["default"]=a}),98);
__d("MWJewelThreadFacepile.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}function c(a){return a}function d(a){return a}e={activityBadge:c,availabilityBadge:a,lastActiveTimeBadge:b,trigger:d};f.ProfilePhotoAddOn=e}),66);
__d("MWThreadAddOnPrimary.bs",["ImmutableArray.bs","MWJewelThreadFacepile.bs","bs_belt_Option","bs_caml_option"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e,f){return{addOn:f,primaryPhoto:{alt:c("bs_belt_Option").getWithDefault(d,""),source:{uri:a}},secondaryPhoto:{alt:c("bs_belt_Option").getWithDefault(d,""),source:{uri:b}},size:e,type:"messenger-facepile"}}function i(a,b,d,e,f){return{addOn:e,alt:c("bs_belt_Option").getWithDefault(b,""),linkProps:void 0,shape:f,size:d,source:{uri:a},type:"profile-photo"}}function a(a,b,e,f,g,j){f=f!==void 0?c("bs_caml_option").valFromOption(f):"circle";var k=d("MWJewelThreadFacepile.bs").ProfilePhotoAddOn.availabilityBadge({type:"availabilityBadge"}),l=d("MWJewelThreadFacepile.bs").ProfilePhotoAddOn.lastActiveTimeBadge({border:"web-wash",time:j,type:"lastActiveTimeBadge"});e=e?c("bs_caml_option").some(k):j!==void 0?c("bs_caml_option").some(l):void 0;k=d("ImmutableArray.bs").get(a,0);j=d("ImmutableArray.bs").get(a,1);if(k!==void 0)if(j!==void 0)return h(k,j,b,g,e);else return i(k,b,g,e,f);else if(j!==void 0)return i(j,b,g,e,f);else return}g.buildFacepileConfig=h;g.buildProfileConfig=i;g.get=a}),98);
__d("CometHomeContactGroup.react",["CometGlobalPanelGating","JSResourceForInteraction","JSScheduler","MWThreadAddOnPrimary.bs","TetraListCell.react","react","useCometPreloader","useMWChatOpenTabForGroup"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("CometHomeContactGroup.react");function a(a){var b=a.activeStatusOn,e=a.images,f=a.isThreadActive,g=a.lastActiveTime,k=a.name,l=a.threadID;a=d("MWThreadAddOnPrimary.bs").get(e,void 0,f,void 0,d("CometGlobalPanelGating").isGlobalPanelVisible()?24:36,b?g:void 0);e=c("useMWChatOpenTabForGroup")("sidebarGroupsList");var m=e[0],n=e[1];f=i(function(){d("JSScheduler").scheduleSpeculativeCallback(function(){j.preload()}),n(l)},[n,l]);b=c("useCometPreloader")("button",f,f);g=b[0];e=b[1];return h.jsx(c("TetraListCell.react"),{addOnPrimary:a,headline:k,level:4,onHoverIn:g,onHoverOut:e,onPress:function(){return m(l)},testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContactGroupsContentWrapper.react",["fbt","ix","CometHomeContactsPresenceAwareList.react","MWChatOpenNewTab.bs","TetraListCell.react","fbicon","gkx","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.activeStatusOn;a=a.groups;var e=d("MWChatOpenNewTab.bs").useHook("sidebarGroupsList");if(a.length>0)return j.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:b,children:j.jsx(j.Fragment,{children:a})});else return c("gkx")("1406650")?null:j.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("fbicon")._(i("483769"),20),size:36,type:"contained-icon"},headline:h._("__JHASH__nldYURqlkh6__JHASH__"),level:4,onPress:function(){return e(!1)}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("JsDictReadOnly.bs",["bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.keys(a)}function c(a){return a}d=b("bs_js_dict").get;e=b("bs_js_dict").entries;b=b("bs_js_dict").values;f.from=c;f.get=d;f.keys=a;f.entries=e;f.values=b}),null);
__d("MWParticipantListRenderer",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";d("react");a=function(){function a(){var a=this;this.$6=function(b){var c=a.$5;if(c!=null){var d=b.id;if(d!=null&&c[d]!=null&&c[d]!=null)return c[d]}return a.$2?b.short_name:b.name};this.$1=!1;this.$2=!1;this.$3=!1;this.$4=0;this.$5=null}var b=a.prototype;b.renderParticipantList=function(a){a=a.map(this.$6);switch(a.length){case 0:return i(this.$1);case 1:return j(a);case 2:return this.$3?l(a):k(a);case 3:return this.$3?n(a):m(a);default:return this.$3?p(a,this.$4):o(a,this.$4)}};b.setIsNewThread=function(a){this.$1=a;return this};b.setNameRenderer=function(a){this.$6=a;return this};b.setUseShortName=function(a){this.$2=a;return this};b.setNickname=function(a){this.$5=a;return this};b.setUseAndSeparator=function(a){this.$3=a;return this};b.setTotalParticipantCount=function(a){this.$4=a;return this};return a}();function i(a){if(a)return h._("__JHASH__uhF6__U4Uqu__JHASH__");else return h._("__JHASH__sUmg9cbVQAa__JHASH__")}function j(a){return a[0]}j.displayName=j.name+" [from "+f.id+"]";function k(a){return h._("__JHASH__QVqNH0CDXLb__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1])])}k.displayName=k.name+" [from "+f.id+"]";function l(a){return h._("__JHASH__JTikoCjxB3O__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1])])}l.displayName=l.name+" [from "+f.id+"]";function m(a){return h._("__JHASH__FfZsrZ3E8l3__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])])}m.displayName=m.name+" [from "+f.id+"]";function n(a){return h._("__JHASH__0a7wtHuBFBj__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])])}n.displayName=n.name+" [from "+f.id+"]";function o(a,b){return h._("__JHASH__DTZWN4rVq-W__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2]),h._param("others_link",q((b||a.length)-3))])}o.displayName=o.name+" [from "+f.id+"]";function p(a,b){return h._("__JHASH__P_doxz4r-mz__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_link",q((b||a.length)-2))])}p.displayName=p.name+" [from "+f.id+"]";function q(a){if(a>1)return h._("__JHASH__fXVmG3gSqH2__JHASH__",[h._param("others_count",a,[0])]);else return h._("__JHASH__AXvVFDKadXa__JHASH__")}g["default"]=a}),98);
__d("MWUIThreadTitle.bs",["CurrentUser","JsDictReadOnly.bs","MWParticipantListRenderer","bs_belt_Array","bs_caml_option","bs_js_dict"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b={};c("bs_js_dict").entries(a).forEach(function(a){b[a[0]]=a[1]});return b}function i(a,b,d,e,f){if(a!=="")return a;a=h(d);return new(c("MWParticipantListRenderer"))().setUseShortName(f).setUseAndSeparator(e).setIsNewThread(!1).setNickname(a).renderParticipantList(b)}function j(a,b,e){var f=c("CurrentUser").getID(),g=d("JsDictReadOnly.bs").keys(b).length,h=c("bs_belt_Array").keepMap(d("JsDictReadOnly.bs").keys(b),function(a){if(a===f&&g>1)return;a=d("JsDictReadOnly.bs").get(b,a);if(a!==void 0)return{id:a.id,name:a.name,short_name:a.short_name}});return i(a,h,e,!0,!0)}function a(a,b,c){return j(a,d("JsDictReadOnly.bs").from(b),c)}function k(a,b){if(a!==void 0)return[c("bs_caml_option").valFromOption(a)];else{var e=c("CurrentUser").getID();a=d("JsDictReadOnly.bs").keys(b);var f=a.length;return c("bs_belt_Array").keepMap(a,function(a){a=a;if(a===e&&f!==1)return;else{a=d("JsDictReadOnly.bs").get(b,a);if(a!==void 0)return c("bs_caml_option").nullable_to_opt(c("bs_caml_option").valFromOption(a).image_src);else return}})}}function b(a,b){return k(a,d("JsDictReadOnly.bs").from(b))}g.getTitleForGroup_=j;g.getTitleForGroup=a;g.getProfileImages_=k;g.getProfileImages=b}),98);
__d("CometHomeContactGroups.react",["fbt","CometGlobalPanelGating","CometHomeContactGroup.react","CometHomeContactGroupsContentWrapper.react","CometHomeContactGroups_viewer.graphql","CometHomeRightRailUnit.react","CometRelay","CometUnitHeader.react","CometVisualCompletionAttributes","MWUIThreadTitle.bs","MWXacGating.bs","cr:254","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=h._("__JHASH__b0sYOo4GQ6M__JHASH__");function l(a,b){return a.map(function(a){var e,f,g,h;a=a==null?void 0:a.node;if(a==null||((e=a.thread_key)==null?void 0:e.thread_fbid)==null)return null;if(a.is_xac&&!d("MWXacGating.bs").isGroupsEnabled())return null;e=a.thread_key.thread_fbid;f=(f=(f=a.all_participants)==null?void 0:f.edges)!=null?f:[];var i=!1;f=Object.fromEntries(f.map(function(a){var b;a=(a=a.node)==null?void 0:a.messaging_actor;if((a==null?void 0:a.id)==null)return null;var c=a.id;if((a==null?void 0:a.name)==null||((b=a.profile_picture)==null?void 0:b.uri)==null)return null;a.availability==="ACTIVE"&&(i=!0);return[c,{id:c,image_src:a.profile_picture.uri,name:a.name,short_name:(b=a.short_name)!=null?b:a.name}]}).filter(Boolean));g=(g=(g=a.customization_info)==null?void 0:g.participant_customizations)!=null?g:[];g=Object.fromEntries(g.map(function(a){return a==null||a.participant_id==null||a.nickname==null?null:[a.participant_id,a.nickname]}).filter(Boolean));h=d("MWUIThreadTitle.bs").getTitleForGroup_((h=a.name)!=null?h:"",f,g);g=d("MWUIThreadTitle.bs").getProfileImages_((g=a.image)==null?void 0:g.uri,f);return j.jsx("li",{children:j.jsx(c("CometHomeContactGroup.react"),{activeStatusOn:b,images:g,isThreadActive:i,lastActiveTime:a.updated_time,name:h,threadID:e})},e)}).filter(Boolean).slice(0,3)}function m(a){var b=a.activeStatusOn;a=a.viewer;a=l((a=a==null?void 0:(a=a.message_threads)==null?void 0:a.edges)!=null?a:[],b);return j.jsx(c("CometHomeContactGroupsContentWrapper.react"),{activeStatusOn:b,groups:a})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var e;a=a.viewer$key;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometHomeContactGroups_viewer.graphql"),a);if((a==null?void 0:a.chat_sidebar_is_collapsed)===!0)return null;if((a==null?void 0:(e=a.actor)==null?void 0:e.should_hide_group_conversations_list)===!0)return null;e=c("qex")._("1285");e=e===!0?(a==null?void 0:(e=a.presence_view_side_settings)==null?void 0:e.is_active_status_viewable)===!0:(a==null?void 0:a.chat_visibility)===!0;return j.jsx("div",babelHelpers["extends"]({"data-testid":void 0},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:j.jsxs(c("CometHomeRightRailUnit.react"),{hasBottomDivider:!1,header:j.jsx(c("CometUnitHeader.react"),{headline:k,headlineColor:d("CometGlobalPanelGating").isGlobalPanelVisible()?"primary":"secondary",level:3}),children:[j.jsx(m,{activeStatusOn:e,viewer:a}),b("cr:254")?j.jsx(b("cr:254"),{}):null]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContactGroupsContainer.react",["CometHomeContactGroups.react","CometHomeContactGroupsContainerQuery.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.homeContactGroupsQueryReference;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("CometHomeContactGroupsContainerQuery.graphql"),a);a=a.viewer;return i.jsx(c("CometHomeContactGroups.react"),{viewer$key:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContactsContainer.react",["CometHomeContactsContainerQuery.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.homeContactsQueryReference;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("CometHomeContactsContainerQuery.graphql"),a);a=a.viewer;a=a.actor.contacts_home_renderer;return a==null?i.jsx("div",{}):i.jsx(d("CometRelay").MatchContainer,{fallback:i.jsx("div",{}),match:a,props:{}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContactAndGroupContainer.react",["CometErrorBoundary.react","CometHomeContactGroupsContainer.react","CometHomeContactsContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.homeContactGroupsQueryReference;a=a.homeContactsQueryReference;return h.jsxs(h.Fragment,{children:[h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("CometHomeContactsContainer.react"),{homeContactsQueryReference:a})}),h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("CometHomeContactGroupsContainer.react"),{homeContactGroupsQueryReference:b})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContentAnimationContainer.react",["CometFeedGlimmer.react","clearTimeout","cr:683059","react","scrollTo","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useEffect,j=e.useRef,k=e.useState,l=500,m=1500;function a(a){var d=a.children,e=a.isPending,f=j(null);a=k(!1);var g=a[0],n=a[1];a=k(!1);var o=a[0],p=a[1];i(function(){var a=f.current;e&&a!=null&&(p(!0),c("setTimeout")(function(){var a=Math.max(window.innerHeight,m);window.scrollY>a&&c("scrollTo")({top:a});c("scrollTo")({behavior:"smooth",top:0});b("cr:683059")&&(b("cr:683059").setInitialScrollY(0),b("cr:683059").addAnnotationInt("ScrollToTop",1))},l))},[e]);i(function(){if(e!==!1||o===!1)return;n(!0);var a=c("setTimeout")(function(){n(!1),p(!1)},l);return function(){return c("clearTimeout")(a)}},[e,o]);return h.jsxs(h.Fragment,{children:[o===!0?h.jsx("div",{className:"x54ewbq xqcmdr3 x47corl x1unhpq9 x6o7n8i xh8yej3"+(g?" xg01cxk":" x1hc1fzr"),children:h.jsx(c("CometFeedGlimmer.react"),{})}):null,h.jsx("div",{className:"x1unhpq9 x6o7n8i"+(o===!0?" xg01cxk x47corl":""+(g?" xg01cxk":" x1hc1fzr")),ref:f,children:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeCreateGroupButtonShim.react",["cr:1996927"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1996927")}),98);
__d("CometHomeGQLCreateGroupButton.react",["fbt","ix","TetraListCell.react","fbicon","react","useCometHomeOpenNewChatTab"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(){var a=c("useCometHomeOpenNewChatTab")("sidebarGroupsList"),b=a.onPress;a=babelHelpers.objectWithoutPropertiesLoose(a,["onPress"]);var e=k(function(){b()},[b]);return j.jsx(c("TetraListCell.react"),babelHelpers["extends"]({},a,{addOnPrimary:{icon:d("fbicon")._(i("483769"),20),size:36,type:"contained-icon"},headline:h._("__JHASH__N3jQuSpN-AP__JHASH__"),level:4,onPress:e,testid:void 0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeRightSideEgo.react",["CometHomeRightSideEgo_viewer.graphql","CometRelay","ODS","Random","react","useSideAdsRefreshHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.startTransition,k=e.useCallback,l=e.useEffect,m=e.useState,n=h!==void 0?h:h=b("CometHomeRightSideEgo_viewer.graphql");function a(a){a=d("CometRelay").useRefetchableFragment(n,a.viewerRef);var b=a[0],e=a[1];b=b==null?void 0:(a=b.sideFeed)==null?void 0:a.nodes;a=m(null);var f=a[0];a=a[1];var g=m(!1),h=g[0],o=g[1];l(function(){var a=function(){o(!1)};window.addEventListener("blur",a);return function(){window.removeEventListener("blur",a)}},[]);l(function(){if(f==null){var a=2;d("Random").coinflip(a)&&d("ODS").bumpEntityKey(144,"feed_ads","CometHomeRightSideEgo.empty_first_unit",a)}},[f]);g=k(function(a){j(function(){e({refresh_num:a},{fetchPolicy:"store-only"})})},[e,j]);g=c("useSideAdsRefreshHandler")(g,h);if(b!=null&&b.length>=1&&f!==b[0]){a(b[0]);return null}return f==null||Object.keys(f).length===0?null:i.jsx("div",{onMouseEnter:function(){o(!0)},onMouseLeave:function(){o(!1)},ref:g,children:i.jsx(d("CometRelay").MatchContainer,{match:f})})}a.displayName=a.name+" [from "+f.id+"]";e=a;g["default"]=e}),98);
__d("CometHomeRightSideEgoContainer.react",["CometHomeRightSideEgo.react","CometHomeRightSideEgoContainer_egoPanel.graphql","CometRelay","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.egoPanel;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeRightSideEgoContainer_egoPanel.graphql"),a);if(!a){c("FBLogger")("feed_ads").mustfix("Expecting non-nullviewer");return null}return i.jsx("span",{children:i.jsx(c("CometHomeRightSideEgo.react"),{viewerRef:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometRightSideHeaderCards.react",["CometErrorBoundary.react","CometHomeRightSideEgoContainer.react","CometRelay","CometRightSideHeaderCardsQuery.graphql","CometRightSideHeaderCards_viewerSideFeed.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=h!==void 0?h:h=b("CometRightSideHeaderCardsQuery.graphql"),l=i!==void 0?i:i=b("CometRightSideHeaderCards_viewerSideFeed.graphql");function m(a){var b;a=a.rightSideHeaderCardsQueryReference;a=d("CometRelay").usePreloadedQuery(k,a);var e=a.viewer,f=a;a=d("CometRelay").useFragment(l,e);if(e==null)return null;b=a==null?void 0:(b=a.side_feed)==null?void 0:b.nodes;var g=null;b=b!=null?b.map(function(a,b){if((a==null?void 0:a.__typename)==="CometHomeSideFeedWidgetContainer"||(a==null?void 0:a.__typename)==="CometHomeSideFeedWidgetContainerWithSeeMore"){g=j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(d("CometRelay").MatchContainer,{match:a})},b);return null}else if((a==null?void 0:a.__typename)==="PagesSideFeedUnit")return j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:{query$key:f}})},b);return j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(d("CometRelay").MatchContainer,{match:a})},b)}).filter(Boolean):null;a=a==null?void 0:a.right_side_widget_container_placement;return j.jsxs("div",{children:[a==="ABOVE_ADS"?g:null,j.jsx(c("CometHomeRightSideEgoContainer.react"),{egoPanel:e}),a==="BELOW_ADS"?g:null,b]})}m.displayName=m.name+" [from "+f.id+"]";function a(a){return j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(m,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedInlineComposerSproutsList.react",["CometFeedInlineComposerSproutsList_composer.graphql","CometFeedInlineComposerSproutsList_profile.graphql","CometInlineComposerSproutListMatcher.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");function a(a){d("RelayHooks").useFragment(h!==void 0?h:h=b("CometFeedInlineComposerSproutsList_profile.graphql"),a.profile$key);var e=d("RelayHooks").useFragment(i!==void 0?i:i=b("CometFeedInlineComposerSproutsList_composer.graphql"),a.composer);e=(e=e==null?void 0:e.inline_sprouts)!=null?e:[];return j.jsx("div",{className:"xe4j0kc x78zum5 x1a02dak x1vqgdyp x1l1ennw x14vqqas x6ikm8r x10wlt62 x1y1aw1k xh8yej3",children:j.jsx(c("CometInlineComposerSproutListMatcher.react"),{onHoverIn:a.onHoverInPrerenderer,onHoverOut:a.onHoverOutPrerenderer,onPressIn:a.onPressInPrerenderer,showComposerDialog:a.showFeedComposerDialog,sprouts:e,triggerRef:a.triggerRef})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedInlineComposer.react",["fbt","CometCard.react","CometComposerAttachmentPluginTypes","CometFeedInlineComposerPressableProfilePic.react","CometFeedInlineComposerQuery.graphql","CometFeedInlineComposerSproutsList.react","CometFeedInlineComposerWOYM.react","CometRelay","CometScreenReaderHeading.react","cometGetKeyCommandConfig","cr:1993522","cr:3594","getComposerUnsavedChangesAlert","gkx","react","useComposerTerminalEventLog","useFeedComposerCometDialog","useLayerKeyCommands","useNullthrowsViolation","useOnBeforeUnload","usePostInProgress","useResumableComposerViewState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useMemo,m=e.useRef,n={current:null};function a(a){a=a.feedInlineComposerQueryReference;var e=m(!1),f=c("useResumableComposerViewState")(),g=f.clearResumableViewState,o=f.getResumableViewState,p=f.saveResumableViewState;f=c("usePostInProgress")();var q=f.postPlainText,r=f.updatePostPlainText,s=m(!1);c("useOnBeforeUnload")(function(){return s.current===!0?c("getComposerUnsavedChangesAlert")():void 0});c("useComposerTerminalEventLog")(function(){return s.current},function(){return o().creationSessionID});f=k(function(a){if(e.current===!0)s.current=!1,g(),r(o());else{var b;s.current=(b=a==null?void 0:a.isDirty)!=null?b:!1;p(a);r(o())}},[g,r,o,p]);var t=function(){e.current=!1},u=function(){s.current=!0,e.current=!1},v=function(){e.current=!0},w=h._("__JHASH__ecVLcDRqpWJ__JHASH__");a=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("CometFeedInlineComposerQuery.graphql"),a);a=a.viewer;var x=c("useNullthrowsViolation")(a.actor.id,"Unable to render CometFeedInlineComposer with null viewerID and type "+a.actor.__typename),y=a.actor.has_professional_features_for_watch===!0,z=y&&c("gkx")("1430759");y=c("useFeedComposerCometDialog")({composerEntryPointName:"inline_composer",composerSourceSurface:"newsfeed",composerType:"feed",onBeforeClose:f,onSave:t,onSaveError:u,onSubmit:v,profileID:x,title:w,tracePolicy:"comet.composer.feed"});var A=y[0];f=y[1];t=y[2];u=y[3];v=y[4];var B=k(function(a){s.current=!1;var b=c("gkx")("1224637");b=o(a==null?void 0:a.additionalMediaAttachmentItems,{startWithHeaderTextStyle:b});b=babelHelpers["extends"]({},b,{characterLimit:63206,mediaAttachmentsLimit:80,useFeatureDefinitions:c("gkx")("891"),videoComposerData:{shouldOpenVideoSpecificComposer:z,targetID:x}});if((a==null?void 0:a.pushedPageOnLoad)==="get_messages"){var d=c("gkx")("6262");b=babelHelpers["extends"]({},b,{attachmentArea:babelHelpers["extends"]({},b.attachmentArea,{activeAttachmentType:c("CometComposerAttachmentPluginTypes").GET_MESSAGES}),isGetMessagesPost:!0,isGetMessagesPostAttachmentOptional:d})}(a==null?void 0:a.pushedPageOnLoad)==="get_whatsapp_messages"&&(b=babelHelpers["extends"]({},b,{attachmentArea:babelHelpers["extends"]({},b.attachmentArea,{activeAttachmentType:c("CometComposerAttachmentPluginTypes").GET_WHATSAPP_MESSAGES}),isGetWhatsAppMessagePost:!0,isGetWhatsappMessagesPostAttachmentOptional:!0}));A({beginningViewState:b,pushedPageOnLoad:a==null?void 0:a.pushedPageOnLoad})},[o,A,x,z]);w=l(function(){return[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","newPost",B)]},[B]);c("useLayerKeyCommands")(w);y=h._("__JHASH__wQWxG07eOjM__JHASH__");w=j.jsx(c("CometCard.react"),{background:"white",dropShadow:1,children:j.jsxs("div",{"aria-label":y,className:"x6s0dn4 x78zum5 x1a02dak x1pi30zi x1swvt13 xz9dl7a"+(c("CometFeedInlineComposerSproutsList.react")?" x1a8lsjc":" xsag5q8"),role:"region",children:[j.jsxs("div",{className:"x1cy8zhl x78zum5 x1iyjqo2 xs83m0k xh8yej3",children:[j.jsx(c("CometScreenReaderHeading.react"),{children:y}),j.jsx(c("CometFeedInlineComposerPressableProfilePic.react"),{profile$key:a.actor}),j.jsx(c("CometFeedInlineComposerWOYM.react"),{onHoverInPrerenderer:t,onHoverOutPrerenderer:u,onPress:function(){return B()},onPressInPrerenderer:v,postPlainText:q,profile$key:a.actor,triggerRef:f}),b("cr:3594")&&j.jsx("div",{className:"x1i64zmx",children:j.jsx(b("cr:3594"),{composer:a.feed_comet_composer,onPress:B})})]}),!b("cr:3594")&&j.jsx(c("CometFeedInlineComposerSproutsList.react"),{composer:a.feed_comet_composer,onHoverInPrerenderer:t,onHoverOutPrerenderer:u,onPressInPrerenderer:v,profile$key:a.actor,showFeedComposerDialog:B,triggerRef:f})]})});if(b("cr:1993522")==null)return w;else return j.jsx(b("cr:1993522"),{enableFeature:!1,fallback:j.jsx(c("CometCard.react"),{background:"white",dropShadow:1,children:j.jsxs("div",{"aria-label":y,className:"x6s0dn4 x78zum5 x1a02dak x1a8lsjc x1pi30zi x1swvt13 xz9dl7a",role:"region",children:[j.jsx(c("CometScreenReaderHeading.react"),{children:y}),j.jsx(c("CometFeedInlineComposerPressableProfilePic.react"),{profile$key:a.actor}),j.jsx(c("CometFeedInlineComposerWOYM.react"),{onPress:function(){},profile$key:a.actor,triggerRef:n}),c("CometFeedInlineComposerSproutsList.react")&&j.jsx(c("CometFeedInlineComposerSproutsList.react"),{composer:null,showFeedComposerDialog:function(){},triggerRef:n})]})}),children:w})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMegaphoneRoot.react",["CometMegaphoneQuickPromotionSection.react","CometMegaphoneRootQuery.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("CometMegaphoneRootQuery.graphql");function a(a){a=a.megaphoneQueryReference;a=d("CometRelay").usePreloadedQuery(j,a);a=(a=a.viewer)==null?void 0:(a=a.megaphonePromotions)==null?void 0:(a=a.edges[0])==null?void 0:a.node;return a==null?null:i.jsx(c("CometMegaphoneQuickPromotionSection.react"),{quickPromotion:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesAppMessengerOutline24IconFbicon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("505621"),24);g["default"]=a}),98);
__d("StoriesPhotoHeartOutline24IconFbicon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("875971"),24);g["default"]=a}),98);
__d("StoriesStopwatchOutline24IconFbicon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("518675"),24);g["default"]=a}),98);
__d("StoriesTrayCreateCard.react",["fbt","CometCard.react","QuickPerformanceLogger","StoriesGating","TetraAccessoryListCell.react","TopOfFeedContext","XCometStoriesCreateControllerRouteBuilder","cr:3595","qpl","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useContext;function a(){var a=c("XCometStoriesCreateControllerRouteBuilder").buildURL({}),e={entryPoint:"add_to_story_persistent_button",sourceSurface:"newsfeed"},f=j(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(13238400,"7688"),4),c("QuickPerformanceLogger").markerStart(c("qpl")._(13238400,"7688"))},[]),g=k(c("TopOfFeedContext"));g=g.topOfFeedEnabled;return i.jsx("div",{className:"x1yztbdb",children:i.jsx(c("CometCard.react"),{background:"white",dropShadow:g?0:1,children:i.jsx("div",{className:"x1y1aw1k xwib8y2",children:i.jsx(c("TetraAccessoryListCell.react"),{addOnPrimary:{color:"lightblue",icon:b("cr:3595"),size:40,type:"contained-icon"},body:d("StoriesGating").getCreationDescription(),emphasized:!0,headline:h._("__JHASH__Piwub9vzMev__JHASH__"),linkProps:{passthroughProps:e,url:a},onPress:f})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesTrayRow.react",["StoriesGating","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;var b=4;a=h.Children.map(a,function(a,c){return h.jsx("div",{className:"x98rzlu x150jy0e x1e558r4"+((c>=b+1&&!d("StoriesGating").isTopOfFeedUnitEnabled()?" xq4ptzf xb19nzs x4e3nt7 x1qw9tx2":""+(c===b&&!d("StoriesGating").isTopOfFeedUnitEnabled()?"":""))+(c===b&&!d("StoriesGating").isTopOfFeedUnitEnabled()?" xo1ujjn x1283tta xfa1y8d":"")),children:a},"stories_tray_tile_"+c)});return h.jsx("div",{className:"x9f619 x193iq5w",children:h.jsx("div",{className:"x1qjc9v5 x78zum5 x1q0g3np xozqiw3 x1nhvcw1 x6ikm8r x10wlt62 x1n2onr6"+(d("StoriesGating").isTopOfFeedUnitEnabled()?" x11i5rnm x16n37ib x18d9i69 xyamay9 xl5ka8d xh8yej3":" xcud41i x139jcc6 xwxc41k x1y1aw1k"),children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesTraySeeAllStoriesButton.react",["fbt","ArrowLeftFilled20IconSvg.react","ArrowRightFilled20IconSvg.react","CometTooltip.react","Locale","TetraCircleButton.react","XCometStoriesControllerRouteBuilder","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("ODS").__setRef("StoriesTraySeeAllStoriesButton.react");function a(){var a=function(){j.onReady(function(a){a.bumpEntityKey(4329,"fb_stories_web","stories_tray_see_all_stories_button_click",1)})},b=d("Locale").isRTL()?c("ArrowLeftFilled20IconSvg.react"):c("ArrowRightFilled20IconSvg.react"),e=h._("__JHASH__JuCGQWapuNv__JHASH__");b={color:"secondary",icon:b,label:e,linkProps:{traceParams:{navigation_source:"stories_tray_arrow"},url:c("XCometStoriesControllerRouteBuilder").buildURL({})},size:40,type:"overlay"};return i.jsx("div",{className:"x1z11no5 xjy5m1g x1mnwbp6 x4pb5v6 xjf5wm9 x10l6tqk x1owr592 x1egi5h6",children:i.jsx(c("CometTooltip.react"),{delayMs:300,tooltip:e,children:i.jsx(c("TetraCircleButton.react"),babelHelpers["extends"]({},b,{onPress:a}))})},"button")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useStoriesTrayProfileImpressionLogging",["CometRelay","StoriesActorContext","StoriesLoggerHelper","TopOfFeedLoggingContext","react","requireDeferred","useImpressionLogger","useStoriesTrayProfileImpressionLogging_bucket.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useRef,l=c("requireDeferred")("StoryProfileImpressionFalcoEvent").__setRef("useStoriesTrayProfileImpressionLogging"),m=h!==void 0?h:h=b("useStoriesTrayProfileImpressionLogging_bucket.graphql");function a(a,b,e,f){var g,h=k(!1),n=d("CometRelay").useFragment(m,a);a=j(c("StoriesActorContext"));a=a.actorID;var o=j(c("TopOfFeedLoggingContext")),p=o.tofuSessionID;o=n==null?void 0:(o=n.story_bucket_owner)==null?void 0:o.__typename;var q=n==null?void 0:(g=n.story_bucket_owner)==null?void 0:g.id;g=(n==null?void 0:(g=n.story_bucket_owner)==null?void 0:g.is_viewer_friend)||!1;var r=d("StoriesLoggerHelper").getOwnerType(a,o,q,g),s=n==null?void 0:(a=n.thumbnail_story_to_show)==null?void 0:(o=a.attachments)==null?void 0:(g=o[0])==null?void 0:(a=g.media)==null?void 0:a.id;o=i(function(a,c){if(h.current||n==null)return;h.current=!0;a.log(function(){return{has_new_content:n.is_bucket_seen_by_viewer||!1,has_new_views:n.is_bucket_seen_by_viewer||!1,media_id:s,preview_type:"rectangle",source:b,story_index:f,story_owner:q,story_owner_type:r,tofu_tray_session_id:p,tracking_string:n==null?void 0:n.ranking_tracking_string,tray_session_id:e}})},[n,s,b,f,q,r,p,e]);return c("useImpressionLogger")(l,o)}g["default"]=a}),98);
__d("useStoriesTrayTilePrefetchImageURI",["CometRelay","useStoriesTrayTilePrefetchImageURI_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesTrayTilePrefetchImageURI_story.graphql"),a);c=a==null?void 0:(c=a.attachments)==null?void 0:(c=c[0])==null?void 0:c.media;var e=c==null?void 0:(c=c.image)==null?void 0:c.uri,f=a==null?void 0:(c=a.backdrop)==null?void 0:(a=c.media)==null?void 0:(c=a.image)==null?void 0:c.uri;return e==null&&f==null?null:function(){if(e!=null){var a=new Image();a.src=e;if(f!=null){a=new Image();a.src=f}}}}g["default"]=a}),98);
__d("useStoriesTrayTilePressable",["CometRelay","QPLUserFlow","StoriesLoggingConstants","qpl","useStoriesTrayTilePrefetchImageURI","useStoriesTrayTilePressable_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){e===void 0&&(e=c("StoriesLoggingConstants").ACTION_SOURCE.TRAY);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesTrayTilePressable_story.graphql"),a);var f=c("useStoriesTrayTilePrefetchImageURI")(a),g=e===c("StoriesLoggingConstants").ACTION_SOURCE.TRAY?c("qpl")._(13249850,"5510"):c("qpl")._(13239835,"17340");return{onPress:function(){c("QPLUserFlow").start(g)},onPressIn:function(a){f&&f()}}}g["default"]=a}),98);
__d("StoriesTrayTile.react",["fbt","CometImage.react","CometRelay","GraphQLGender","StoriesEnums","StoriesGating","StoriesLoggingConstants","StoriesTrayTileAvatar.react","StoriesTrayTileView.react","StoriesTrayTile_LWRAnimations.graphql","StoriesTrayTile_bucket.graphql","StoriesTrayUtils","react","useStoriesTrayProfileImpressionLogging","useStoriesTrayTilePressable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react"),l=d("StoriesGating").isCommentEnabled();function a(a){var e,f,g,m,n,o=a.animations,p=a.bucketCount,q=a.bucketLength,r=a.bucketNode,s=a.gender;s=s===void 0?"UNKNOWN":s;var t=a.hasSelfBucket,u=a.isOnBizKit;u=u===void 0?!1:u;var v=a.traySessionID,w=a.source;w=w===void 0?c("StoriesLoggingConstants").ACTION_SOURCE.UNKNOWN:w;var x=a.storiesTrayType;x=x===void 0?"TOP_OF_FEED_TRAY":x;var y=a.index,z=a.trayBucketIDs,A=a.hasReactionIcon;A=A===void 0?!1:A;var B=a.onPressIn;a=babelHelpers.objectWithoutPropertiesLoose(a,["animations","bucketCount","bucketLength","bucketNode","gender","hasSelfBucket","isOnBizKit","traySessionID","source","storiesTrayType","index","trayBucketIDs","hasReactionIcon","onPressIn"]);r=d("CometRelay").useFragment(i!==void 0?i:i=b("StoriesTrayTile_bucket.graphql"),r);var C=r==null?void 0:r.id;y=c("useStoriesTrayProfileImpressionLogging")(r,w,v,y);var D=c("useStoriesTrayTilePressable")(r==null?void 0:r.first_story_to_show,w),E=D.onPress,F=D.onPressIn;D=d("CometRelay").useFragment(j!==void 0?j:j=b("StoriesTrayTile_LWRAnimations.graphql"),o);if(r==null||C==null)return null;o=r.story_bucket_owner;var G=r.first_story_to_show,H=r.thumbnail_story_to_show,I=r.ranking_tracking_string;e=(e=r.should_show_close_friend_badge)!=null?e:!1;var J=H==null?void 0:H.story_card_info;f=(f=G==null?void 0:(f=G.story_card_info)==null?void 0:f.can_viewer_reply)!=null?f:!1;g=(J==null?void 0:(g=J.story_thumbnail)==null?void 0:g.uri)||(o==null?void 0:(g=o.coverImage)==null?void 0:g.uri);J=J==null?void 0:(J=J.background_color_info)==null?void 0:(J=J.color_info)==null?void 0:J[0];J=J==null?void 0:J.dominant_color;m=o==null?void 0:(m=o.profile_picture)==null?void 0:m.uri;var K=(o==null?void 0:o.name)||h._("__JHASH__fHKXLeuru3K__JHASH__"),L=r.is_bucket_seen_by_viewer===!1;n=(n=r==null?void 0:r.is_bucket_live)!=null?n:!1;o=(o=o==null?void 0:o.availability)!=null?o:null;o=o==="ACTIVE";m=m!=null?k.jsx(c("CometImage.react"),{alt:K,height:40,src:m,width:40}):k.jsx("div",{className:"x1vqgdyp x100vrsf"});n=k.jsx(c("StoriesTrayTileAvatar.react"),{hasNew:L,isLiveStreaming:n,isOnline:o,isOpaqueBackground:!1,shouldShowCloseFriendsBadge:e,children:m});o=u?null:d("StoriesTrayUtils").getBucketURL(C,G==null?void 0:G.id,p,w);e=new(c("GraphQLGender"))(s).toIntlVariationsEnum();m=h._("__JHASH__tkqpcCYUVoy__JHASH__",[h._name("Story owner's name (possesive)",K,e)]);u=J!=null&&J!==""?"#"+J:null;J=H==null?void 0:(C=H.attachments)==null?void 0:(p=C.find(function(a){return((a=a.media)==null?void 0:a.cix_screen)!=null}))==null?void 0:(s=p.media)==null?void 0:(e=s.cix_screen)==null?void 0:e.view_model;return k.jsx("div",{ref:y,children:k.jsx(c("StoriesTrayTileView.react"),babelHelpers["extends"]({animations:D,avatar:n,backgroundColor:u,bucket:l?r:null,bucketUrl:o,canViewerReply:f,coverImage:g,hasNew:L,hasReactionIcon:A,label:m,onPress:E,onPressIn:function(a){F&&F(a),B&&B()},passthroughProps:{bucketLength:q,bucketType:d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OTHER,hasSelfBucket:t,source:w,storiesTrayType:x,trackingString:I,trayBucketIDs:z,traySessionID:v},storyId:G==null?void 0:G.id},a,{text:K,warningScreenNode:J}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesTrayTilePlaceholder.react",["StoriesTrayTileAvatar.react","StoriesTrayTileView.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=babelHelpers["extends"]({},a);return h.jsx(c("StoriesTrayTileView.react"),babelHelpers["extends"]({avatar:h.jsx(c("StoriesTrayTileAvatar.react"),{}),showShadow:!1},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesTrayTileSelf.react",["fbt","CometImage.react","CometRelay","StoriesEnums","StoriesGating","StoriesLoggingConstants","StoriesTrayTileAvatar.react","StoriesTrayTileSelf_bucket.graphql","StoriesTrayTileView.react","StoriesTrayUtils","cr:2722","react","requireDeferred","useOnBeforeUnload","useStoriesTrayProfileImpressionLogging","useStoriesTrayTilePressable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useState,m=c("requireDeferred")("ODS").__setRef("StoriesTrayTileSelf.react"),n=d("StoriesGating").isCommentEnabled();function a(a){var e,f,g,o,p=a.bucketCount,q=a.bucketNode,r=a.bucketLength,s=a.hasSelfBucket,t=a.isInterATS;t=t===void 0?!1:t;var u=a.traySessionID,v=a.source;v=v===void 0?c("StoriesLoggingConstants").ACTION_SOURCE.TRAY:v;var w=a.index,x=a.isUploading,y=a.optimisticStoryURI,z=a.onPressIn;a=babelHelpers.objectWithoutPropertiesLoose(a,["bucketCount","bucketNode","bucketLength","hasSelfBucket","isInterATS","traySessionID","source","index","isUploading","optimisticStoryURI","onPressIn"]);q=d("CometRelay").useFragment(i!==void 0?i:i=b("StoriesTrayTileSelf_bucket.graphql"),q);var A=q==null?void 0:q.id;w=c("useStoriesTrayProfileImpressionLogging")(q,v,u,w);var B=l(y),C=B[0];B=B[1];var D=c("useStoriesTrayTilePressable")(q==null?void 0:q.first_story_to_show,v),E=D.onPress,F=D.onPressIn,G=k(function(){m.onReady(function(a){a.bumpEntityKey(4329,"fb_stories_web","stories_tray.self_story_tile",1)})},[]);c("useOnBeforeUnload")(function(a){if(x===!0&&a==null)return{warnMessage:h._("__JHASH__uxWAqVRcCKO__JHASH__")}});if(q==null||A==null)return null;D=q.story_bucket_owner;e=(e=q.should_show_close_friend_badge)!=null?e:!1;var H=q.first_story_to_show,I=q.thumbnail_story_to_show,J=q.ranking_tracking_string;f=(I==null?void 0:(f=I.story_card_info)==null?void 0:(f=f.story_thumbnail)==null?void 0:f.uri)||(D==null?void 0:(f=D.coverImage)==null?void 0:f.uri);var K=q.is_bucket_seen_by_viewer===!1;g=(g=q==null?void 0:q.is_bucket_live)!=null?g:!1;f={coverImage:f,hasNew:K};o=(I==null?void 0:(o=I.story_card_info)==null?void 0:o.story_thumbnail)!=null;var L=h._("__JHASH__p_clzZs1eeC__JHASH__"),M=h._("__JHASH__ZsZbryTgDNj__JHASH__");A=d("StoriesTrayUtils").getBucketURL(A,H==null?void 0:H.id,p,v);p=D==null?void 0:(H=D.profile_picture)==null?void 0:H.uri;H=(D==null?void 0:D.name)||h._("__JHASH__fHKXLeuru3K__JHASH__");D=b("cr:2722")!=null&&t?j.jsx(b("cr:2722"),{}):p!=null?j.jsx(c("CometImage.react"),{alt:H,height:40,src:p,width:40}):j.jsx("div",{className:"x1vqgdyp x100vrsf"});p=I==null?void 0:(H=I.attachments)==null?void 0:(p=H.find(function(a){return((a=a.media)==null?void 0:a.cix_screen)!=null}))==null?void 0:(I=p.media)==null?void 0:(H=I.cix_screen)==null?void 0:H.view_model;I=j.jsx(c("StoriesTrayTileAvatar.react"),{hasNew:K,isInterATS:t,isLiveStreaming:g,isOpaqueBackground:!1,isUploading:x,shouldShowCloseFriendsBadge:e,children:D});if(x===!0&&d("StoriesGating").shouldEnableOptimisticImprovements()){y!=null&&(C===null||C!==y)&&B(y);H={coverImage:C};return j.jsx("div",{"data-testid":void 0,ref:w,children:j.jsx(c("StoriesTrayTileView.react"),babelHelpers["extends"]({avatar:I,avatarInteractable:t,bucket:n?q:null,bucketUrl:A,isUploading:x,label:M,onPress:E,onPressIn:function(a){F&&F(a),z&&z(),G()},passthroughProps:{source:v,trackingString:J,traySessionID:u},text:L,warningScreenNode:p},H,a))})}else if(o)return j.jsx("div",{"data-testid":void 0,ref:w,children:j.jsx(c("StoriesTrayTileView.react"),babelHelpers["extends"]({avatar:I,avatarInteractable:t,bucket:n?q:null,bucketUrl:A,isUploading:x,label:M,onPressIn:function(a){F&&F(a),z&&z(),G()},passthroughProps:{bucketLength:r,bucketType:d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF,hasSelfBucket:s,source:v,trackingString:J,traySessionID:u},text:L,warningScreenNode:p},f,a))});else if(x===!0)return j.jsx("div",{ref:w,children:j.jsx(c("StoriesTrayTileView.react"),{avatar:I,avatarInteractable:t,bucket:n?q:null,isUploading:!0,label:M,text:L,warningScreenNode:p})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TopOfFeedConsts",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({REELS:"reels",ROOMS:"rooms",STATUS:"status",STORIES:"stories",UNDEFINED:"undefined"});c=[a.STORIES,a.REELS,a.ROOMS];d=b("$InternalEnum")({UNKNOWN:0,STORIES:1,REELS:2,ROOMS:3});e=200;b=9/16;var g=16,h=12;f.UnifiedTofuTrayEnum=a;f.TABS_DISPLAYED=c;f.UnifiedTofuTrayDefaultLandingTabEnum=d;f.DEFAULT_TOH_TILE_HEIGHT=e;f.TOH_TILE_ASPECT_RATIO=b;f.TOH_TABBED_TRAY_PEEK_WIDTH=g;f.HYBRID_TRAY_WITH_HEADER_PEEK_WIDTH=h}),66);
__d("useStoriesBucketsIndexer",["CometRelay","Env","StoriesActorContext","StoriesEnums","react","useStoriesBucketsIndexer_buckets.graphql","useStoriesIsBucketEmpty","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useContext,j=e.useEffect;function k(a){a=(a=a.unified_stories)==null?void 0:a.nodes;return a!=null?a.some(function(a){return((a=a.story_card_info)==null?void 0:a.story_card_type)==="LIVE_STORY"}):!1}function l(a,b){var c;return a.can_viewer_post===!0&&((c=a.story_bucket_owner)==null?void 0:c.id)===b&&(a.story_bucket_type==="STORY"||a.story_bucket_type==="PROFILE_PLUS_STORY")}function m(a,b){return l(a,b)?d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF:d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OTHER}function n(a,b,c){return l(a,c)?!0:!b&&!k(a)}function a(a){var e=c("useUnsafeRef_DEPRECATED")(!0),f=i(c("StoriesActorContext")),g=f.actorID;f=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesBucketsIndexer_buckets.graphql"),a);j(function(){e.current=!1});var k=c("useStoriesIsBucketEmpty")(f);return f!=null?f.map(function(a){var b,d=k(a==null?void 0:a.id,(e.current?c("Env").start:Date.now())/1e3);return a!=null?{gender:(b=(b=a.story_bucket_owner)==null?void 0:b.gender)!=null?b:"UNKNOWN",isEmpty:d,isSeen:(b=a.is_bucket_seen_by_viewer)!=null?b:!1,shouldShow:n(a,d,g),type:m(a,g)}:null}):null}g["default"]=a}),98);
__d("useStoriesBucketsLogger",["CometRelay","StoriesActorContext","react","requireDeferred","useStoriesBucketsLogger_buckets.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useCallback,j=e.useContext,k=c("requireDeferred")("StoriesTrayLogger").__setRef("useStoriesBucketsLogger"),l=h!==void 0?h:h=b("useStoriesBucketsLogger_buckets.graphql");function a(a,b){var e=d("CometRelay").useFragment(l,b);b=j(c("StoriesActorContext"));var f=b.actorID;return i(function(b,c){k.onReady(function(d){d.logStoryTrayLoad({actorID:f,buckets:e,feedUnitTrackingString:c,sessionID:b,source:a})})},[f,e,a])}g["default"]=a}),98);
__d("useStoriesTrayTilePrefetchProfileURI",["CometRelay","useStoriesTrayTilePrefetchProfileURI_profile.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useStoriesTrayTilePrefetchProfileURI_profile.graphql"),a);var c=a!=null?a.map(function(a){return a==null?void 0:(a=a.story_bucket_owner)==null?void 0:(a=a.profilePic)==null?void 0:a.uri}):[];return c.length===0?null:function(){c.map(function(a){if(a!=null){var b=new Image();b.src=a}})}}g["default"]=a}),98);
__d("StoriesTrayRectangularBuckets.react",["fbt","CometRelay","CometScreenReaderHeading.react","CometVisualCompletionAttributes","StoriesConstants","StoriesEnums","StoriesGating","StoriesLoggingConstants","StoriesTrayCreateCard.react","StoriesTrayCreateTile.react","StoriesTrayRectangularBuckets_buckets.graphql","StoriesTrayRectangularBuckets_createTileUris.graphql","StoriesTrayRectangularBuckets_reels.graphql","StoriesTrayRow.react","StoriesTraySeeAllStoriesButton.react","StoriesTrayTile.react","StoriesTrayTilePlaceholder.react","StoriesTrayTileSelf.react","TopOfFeedConsts","TopOfFeedContext","cr:1638955","cr:3260","cr:3271","cr:3745","cr:3760","cr:4318","cr:4340","cr:4459","cr:576","qex","react","requireDeferred","usePrevious","useStoriesBucketsIndexer","useStoriesBucketsLogger","useStoriesIsUploading","useStoriesTrayTilePrefetchProfileURI"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("react");e=d("react");var m=e.useCallback,n=e.useContext,o=e.useEffect,p=e.useMemo,q=e.useState,r=e.useTransition,s=c("requireDeferred")("ODS").__setRef("StoriesTrayRectangularBuckets.react"),aa=(e=c("qex")._("1856"))!=null?e:!1,ba=(e=c("qex")._("1871"))!=null?e:1,t=(e=c("qex")._("1857"))!=null?e:d("StoriesConstants").TOFU_TILE_HEIGHT;function ca(a,b){return b==null?[]:b.reduce(function(b,c){var d=c.id;if(d==null)return b;var e=a.find(function(a){return a.id===d});if(e==null)return b.concat(d);c=(c=(c=c.unified_stories)==null?void 0:(c=c.nodes)==null?void 0:c.map(function(a){return a.id}))!=null?c:[];e=(e=(e=e.unified_stories)==null?void 0:(e=e.nodes)==null?void 0:e.map(function(a){return a.id}))!=null?e:[];if(c.length!==e.length)return b.concat(d);for(var f=0;f<e.length;f++)if(e[f]!==c[f])return b.concat(d);return b},[])}function u(a,b,e,f,g,h,i,j){var k=f==null?void 0:f.type;return k==null?null:l.jsx(c("StoriesTrayTile.react"),{bucketCount:d("StoriesConstants").NAV_PANE_TOTAL_COUNT,bucketLength:b,bucketNode:a,gender:f.gender,hasSelfBucket:e,index:h,onPressIn:function(){i&&i(),v(h)},source:c("StoriesLoggingConstants").ACTION_SOURCE.TRAY,trayBucketIDs:j,traySessionID:g},a.id)}u.displayName=u.name+" [from "+f.id+"]";function v(a){s.onReady(function(b){b.bumpEntityKey(4329,"fb_stories_web","stories_tray.pog_index_"+a,1)})}var da=i!==void 0?i:i=b("StoriesTrayRectangularBuckets_createTileUris.graphql"),ea=j!==void 0?j:j=b("StoriesTrayRectangularBuckets_reels.graphql");function a(a){var e=a.createTileRef,f=a.edges,g=a.hasNext,i=a.isLoadingNext,j=a.loadNext,s=a.reelsHasNext,v=a.reelsIsLoadingNext,w=a.reelsLoadNext,x=a.reelsNodes,y=a.refetch,z=a.traySessionID,A=d("CometRelay").useRelayEnvironment();a=r();var B=a[0],C=a[1];a=n(c("TopOfFeedContext"));var D=a.hybridTrayEnabled,fa=a.hybridTrayWithHeaderEnabled,E=a.topOfFeedEnabled;a=q(0);var F=a[0],ga=a[1],G=d("CometRelay").useFragment(k!==void 0?k:k=b("StoriesTrayRectangularBuckets_buckets.graphql"),f),H=c("useStoriesTrayTilePrefetchProfileURI")(G),I=d("CometRelay").useFragment(da,e),J=d("CometRelay").useFragment(ea,x);a=q(!1);var K=a[0],L=a[1];f=m(function(){!K&&!B&&(L(!0),C(function(){y(function(){L(!1)})}))},[B,K,y,C]);e=c("useStoriesIsUploading")(f);var M=e||K||B,N=d("StoriesGating").shouldUseHScroll(),O=p(function(){var a=G||[],b=[];for(var c=0;c<a.length;c++)a[c]!=null&&b.push(a[c]);return b},[G]),P=c("usePrevious")(O);o(function(){var a=ca(O,P);a.length!==0&&a.forEach(function(a){A.commitUpdate(function(b){b=b.get(a);b!=null&&b.invalidateRecord()})})},[A,P,O]);var Q=c("useStoriesBucketsIndexer")(O),R=p(function(){var a;return(a=Q)!=null?a:[]},[Q]),S=c("usePrevious")(z),T=b("cr:1638955")(),U=c("useStoriesBucketsLogger")(c("StoriesLoggingConstants").ACTION_SOURCE.TRAY,O),V=(x=R==null?void 0:R.length)!=null?x:0,W=!1;if(R!=null&&V>0){a=R[0];e=(f=R[0])==null?void 0:f.type;f=(x=a==null?void 0:a.isEmpty)!=null?x:!0;e===d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF&&!f&&(W=!0)}var X=5,Y=m(function(a,b){if(a==null)return[];b=b.reduce(function(a,b,c){if(b.id==null)return a;c=R[c];return(c==null?void 0:c.shouldShow)===!0&&c.type===d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF?a:[].concat(a,[b.id])},[]);var c=b.indexOf(a);if(c===-1)return[];var e=b.slice(0,c).slice(-3);b=b.slice(c+1,Math.min(O.length,c+4));return[].concat(e,[a],b)},[R,O.length]),Z=d("StoriesGating").shouldUseTrayOrder(),$=d("StoriesGating").isInterATS();a=p(function(){var a=!0,e=[],f={entryPoint:"add_to_story_first_pog",sourceSurface:"newsfeed"};D&&b("cr:3760")!==null&&ba!==0&&(b("cr:576")!=null&&(b("cr:3745")!=null?e.push(l.jsx(b("cr:3745"),{},"collapsible-sticky-header")):e.push(l.jsx(b("cr:576"),{showIcon:!0,title:d("TopOfFeedConsts").UnifiedTofuTrayEnum.REELS},"header"))),e.push(l.jsx(b("cr:3760"),{fragmentRef:J!=null?J[F]:null,onPress:function(){aa&&!v&&s&&w&&(w(1),window.setTimeout(function(){ga(F+1)},1e3))},positionInTray:0},"reels_tile")),e.push(l.jsx("div",{className:"x14nfmen x146dn1l x11t77rh x1thhq0t xf6uls8 xvo3xdp x1sy10c2 xieb3on x51ohtg"},"divider")));E&&(b("cr:576")!=null&&e.push(l.jsx(b("cr:576"),{showIcon:!0,title:d("TopOfFeedConsts").UnifiedTofuTrayEnum.STORIES},"sticky-header")),($&&!W&&!M||!$)&&e.push(l.jsx(c("StoriesTrayCreateTile.react"),{fragmentProp:I,passthroughProps:f},"stories_creation_tile")));for(var g=0;g<O.length&&(e.length<X||N);g++){var i=R[g];if((i==null?void 0:i.shouldShow)===!0){var j=i==null?void 0:i.type;if(j===d("StoriesEnums").STORIES_BUCKETS_INDEXER_TYPES.OWNED_SELF){var k;j=O[g];k=(k=i==null?void 0:i.isEmpty)!=null?k:!0;E||e.push(l.jsx(c("StoriesTrayCreateTile.react"),{fragmentProp:I,passthroughProps:f},g));(!k||M)&&(e.push(l.jsx(c("StoriesTrayTileSelf.react"),{bucketCount:d("StoriesConstants").NAV_PANE_TOTAL_COUNT,bucketLength:V,bucketNode:j,hasSelfBucket:W,index:g,isInterATS:$,isUploading:M,onPressIn:H,optimisticStoryURI:T,traySessionID:z},j.id)),a=!1)}else{k=O[g];j=Z?Y(k.id,O):[];k=u(k,V,W,i,z,g,H,j);k!=null&&(e.push(k),(i==null?void 0:i.isEmpty)===!1&&(a=!1))}}}j=X-e.length;if(b("cr:3260")!=null&&e.length===1)e.push(l.jsx(b("cr:3260"),{body1:h._("__JHASH__iJLSI4bB6rl__JHASH__"),body2:h._("__JHASH__9J1h-gHVCXF__JHASH__"),body3:h._("__JHASH__f4Wx-GATbfd__JHASH__"),icon1:b("cr:4340"),icon2:b("cr:4459"),icon3:b("cr:4318")},"tofu-null-card"));else if(!E)for(k=0;k<Math.max(0,j);k++)e.push(l.jsx(c("StoriesTrayTilePlaceholder.react"),{},"placeholder-"+k));return{placeHoldersCount:j,shouldShowCreateCard:a,tiles:e}},[D,$,E,J,F,v,s,w,I,O,N,R,M,V,W,H,T,z,Z,Y]);x=a.placeHoldersCount;e=a.shouldShowCreateCard;f=a.tiles;o(function(){if(S===z)return;U(z)},[z,U,S]);a=h._("__JHASH__TIbUrjBujSG__JHASH__");if(e&&!E)if(c("StoriesTrayCreateCard.react")!=null)return l.jsx(c("StoriesTrayCreateCard.react"),{});else return null;else if(N&&b("cr:3271")!=null){e=null;E&&(e={type:"fixed",width:t*d("StoriesConstants").DEFAULT_ASPECT_RATIO});return l.jsxs("div",babelHelpers["extends"]({"aria-label":a,className:"x1n2onr6"+((fa?" xrxnnga":""+(E?" x121yvx8":""))+(E?" xjkvuk6 xieb3on x9otpla x1iorvi4":" x1g2khh7"))},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{role:"region",style:{minHeight:t},children:[l.jsx(c("CometScreenReaderHeading.react"),{children:a}),l.jsx(b("cr:3271"),{cardWidth:e,children:f,hasNext:g,hideArrows:E?!1:x>0,isLoadingNext:i,loadNext:j,peek:E})]}))}return l.jsxs("div",{"aria-label":a,className:"x1n2onr6",role:"region",children:[l.jsx(c("CometScreenReaderHeading.react"),{children:a}),l.jsx(c("StoriesTrayRow.react"),{children:f}),l.jsx(c("StoriesTraySeeAllStoriesButton.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesTrayRectangular.react",["CometRelay","StoriesGating","StoriesTrayRectangularBuckets.react","StoriesTrayRectangular_me.graphql","StoriesTrayRectangular_reels.graphql","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");e=d("react");var k=e.useCallback,l=e.useMemo,m=h!==void 0?h:h=b("StoriesTrayRectangular_me.graphql"),n=i!==void 0?i:i=b("StoriesTrayRectangular_reels.graphql");function a(a){var b,e,f=a.storiesData;a=a.traySessionID;if(!f.me)throw c("unrecoverableViolation")("Expected current actor for StoriesRoot to be available","fb_stories_web");var g=f.me,h=d("CometRelay").usePaginationFragment(m,g),i=h.data,o=h.hasNext,p=h.isLoadingNext,q=h.loadNext,r=h.refetch,s=i;h=d("CometRelay").usePaginationFragment(n,d("StoriesGating").isHybridTrayEnabled()?f:null);var t=h.data;i=h.hasNext;f=h.isLoadingNext;h=h.loadNext;var u=k(function(a){r({},{fetchPolicy:"store-and-network",onComplete:a})},[r]);b=l(function(){var a;return!d("StoriesGating").isHybridTrayEnabled()?null:((t==null?void 0:(a=t.fb_shorts_unified_tofu)==null?void 0:a.edges)||[]).map(function(a){return a==null?void 0:a.node}).filter(Boolean)},[t==null?void 0:(b=t.fb_shorts_unified_tofu)==null?void 0:b.edges]);e=l(function(){var a;return((s==null?void 0:(a=s.unified_stories_buckets)==null?void 0:a.edges)||[]).map(function(a){return a==null?void 0:a.node}).filter(Boolean)},[s==null?void 0:(e=s.unified_stories_buckets)==null?void 0:e.edges]);return j.jsx(c("StoriesTrayRectangularBuckets.react"),{createTileRef:g,edges:e,hasNext:o,isLoadingNext:p,loadNext:q,reelsHasNext:i,reelsIsLoadingNext:f,reelsLoadNext:h,reelsNodes:b,refetch:u,traySessionID:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesTrayRectangularRoot.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","StoriesActorProvider.react","StoriesGating","StoriesTrayRectangular.react","StoriesTrayRectangularRootQuery$Parameters","StoriesTrayRectangularRootQuery.graphql","WebPixelRatio","cr:3664","cr:4185","cr:4186","qex","react","useRefetchablePreloadedQuery","useStoriesTrayRefresh","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useState,m=(e=c("qex")._("980"))!=null?e:!1,n=i!==void 0?i:i=b("StoriesTrayRectangularRootQuery.graphql");function o(a){var e;a=a.queries;var f=l(function(){return c("uuid")()});f=f[0];a=c("useRefetchablePreloadedQuery")(c("StoriesTrayRectangularRootQuery$Parameters"),a.storiesTrayQueryReference);var g=a[0];a=a[1];a=d("CometRelay").usePreloadedQuery(n,a);var i=d("StoriesGating").getTrayBucketCount(),o=k(function(){g({bucketsToFetch:i,isCommentEnabled:d("StoriesGating").isCommentEnabled(),scale:d("WebPixelRatio").get(),shouldEnableHybridTray:d("StoriesGating").isHybridTrayEnabled()})},[g,i]);c("useStoriesTrayRefresh")(o);e=a==null?void 0:(e=a.viewer)==null?void 0:(e=e.actor)==null?void 0:e.id;return j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsxs(j.Fragment,{children:[b("cr:4186")!=null&&!m&&j.jsx(b("cr:4186"),{description:h._("__JHASH__K7kc1TK2hE0__JHASH__"),onPress:o}),b("cr:4185")!=null&&!m&&j.jsx(b("cr:4185"),{})]})},children:j.jsx(c("CometPlaceholder.react"),{fallback:b("cr:3664")!=null&&j.jsx(b("cr:3664"),{}),children:j.jsx(c("StoriesActorProvider.react"),{actorID:e,children:j.jsx(c("StoriesTrayRectangular.react"),{storiesData:a,traySessionID:f})})})})}o.displayName=o.name+" [from "+f.id+"]";function a(a){return j.jsx(o,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometNotificationsBadgeCountFragment_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"environment"}],kind:"Fragment",metadata:null,name:"CometNotificationsBadgeCountFragment_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"environment"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsBadgeCountQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsBadgeCountFragment_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsBadgeCountQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}]},params:{id:"4886725694759503",metadata:{},name:"CometNotificationsBadgeCountQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"suppress_xac_groups"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"suppress_xac_groups",variableName:"suppress_xac_groups"}],kind:"ScalarField",name:"unseen_count",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_loading_client_threads",storageKey:null}]}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatBadgeCountQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatBadgeCountQuery",selections:b},params:{id:"5218522061549416",metadata:{},name:"MWChatBadgeCountQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5837572036269296"}),null);
__d("useSearchCometTypeaheadBootstrapValidationQuery.graphql",["useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"params",variableName:"input"}],concreteType:"SearchClientCachePolicyCheckResult",kind:"LinkedField",name:"search_client_cache_policy_check",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchClientCachePolicyDecision",kind:"LinkedField",name:"policy_decision",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cache_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ids_to_remove",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"force_cache_refresh",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useSearchCometTypeaheadBootstrapValidationQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useSearchCometTypeaheadBootstrapValidationQuery",selections:c},params:{id:b("useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation"),metadata:{},name:"useSearchCometTypeaheadBootstrapValidationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometCalloutEdgeArrow.svg.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return h.jsxs("svg",babelHelpers["extends"]({className:c("stylex")(b),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("CometCalloutEdge.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometCalloutEdgeArrow.svg.react","Locale","react","useOnOutsideClick"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xofhs1l",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0}},k={accent:{backgroundColor:"xwnonoy",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},l={end:{borderBottomEndRadius:"x5pf9jr",marginBottom:"xieb3on",$$css:!0},middle:{marginBottom:"x12nagc",$$css:!0},start:{borderBottomStartRadius:"xo71vjh",marginBottom:"xieb3on",$$css:!0}},m={end:{borderTopEndRadius:"x13lgxp2",marginTop:"x1sy10c2",$$css:!0},middle:{marginTop:"x1gslohp",$$css:!0},start:{borderTopStartRadius:"x168nmei",marginTop:"x1sy10c2",$$css:!0}},n={end:{bottom:"x7ofzsv",end:"xds687c",transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",end:"xds687c",$$css:!0},start:{bottom:"x7ofzsv",start:"x17qophe",$$css:!0}},o={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},p={end:{bottom:"x7ofzsv",end:"xds687c",transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",end:"xds687c",$$css:!0},start:{bottom:"x7ofzsv",start:"x17qophe",$$css:!0}},q={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},r={end:{end:"xds687c",top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{end:"xds687c",top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{start:"x17qophe",top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},s={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}},t={end:{end:"xds687c",top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{end:"xds687c",top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{start:"x17qophe",top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},u={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}},v={end:"start",start:"end"};function a(a){var b,d=a.children,e=a.onOutsideClick,f=a.type;f=f===void 0?"default":f;a=a.xstyle;var g=i(c("BaseContextualLayerOrientationContext")),n=g.align;g=g.position;n=n==="stretch"?"start":n;g=g==="start"?"above":g==="end"?"below":g;var o=i(c("BaseContextualLayerContextSizeContext"));b=(b=i(c("BaseContextualLayerLayerAdjustmentContext")))!=null?b:0;n=b!==0?v[n]:n;o=y(n,(o=o==null?void 0:o.width)!=null?o:0,b);b=c("useOnOutsideClick")(e);return h.jsxs(c("BaseView.react"),{style:o,xstyle:j.container,children:[h.jsx(c("BaseRow.react"),{ref:b,xstyle:[j.content,k[f],g==="above"&&l[n],g==="below"&&m[n],a],children:d}),h.jsx(x,{align:n,position:g,type:f})]})}a.displayName=a.name+" [from "+f.id+"]";var w=c("Locale").isRTL();function x(a){var b=a.align,d=a.position;a=a.type;return h.jsx(c("CometCalloutEdgeArrow.svg.react"),{fill:a==="default"?"var(--popover-background)":"var(--accent)",xstyle:[j.arrow,d==="above"&&a==="default"&&(w?o[b]:n[b]),d==="above"&&a==="accent"&&(w?q[b]:p[b]),d==="below"&&a==="default"&&(w?s[b]:r[b]),d==="below"&&a==="accent"&&(w?u[b]:t[b])]})}x.displayName=x.name+" [from "+f.id+"]";function y(a,b,c){c=c===0?b/2:0;if(c===0)return void 0;if(a==="start")return{transform:"translateX("+(w?-1*c:c)+"px)"};return a==="end"?{transform:"translateX("+(w?c:-1*c)+"px)"}:void 0}g["default"]=a}),98);
__d("CometCalloutInsetArrow.svg.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return h.jsxs("svg",babelHelpers["extends"]({className:c("stylex")(b),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("CometCalloutInset.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometCalloutInsetArrow.svg.react","Locale","react","useOnOutsideClick"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xofhs1l",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0}},k={accent:{backgroundColor:"xwnonoy",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},l={above:{marginBottom:"x1yztbdb",$$css:!0},below:{marginTop:"xw7yly9",$$css:!0},end:{marginStart:"x1d52u69",$$css:!0}},m={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}},n={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}};function a(a){var b,d=a.children,e=a.onOutsideClick,f=a.type;f=f===void 0?"default":f;a=a.xstyle;var g=i(c("BaseContextualLayerOrientationContext")),m=g.align;g=g.position;m=m==="stretch"?"start":m;g=g==="start"?"above":g==="end"?"below":g;var n=i(c("BaseContextualLayerContextSizeContext"));b=(b=i(c("BaseContextualLayerLayerAdjustmentContext")))!=null?b:0;n=q(m,g,(m=n==null?void 0:n.width)!=null?m:0,b);m=n[0];b=n[1];n=c("useOnOutsideClick")(e);return h.jsxs(c("BaseView.react"),{style:m,xstyle:j.container,children:[h.jsx(c("BaseRow.react"),{ref:n,xstyle:[j.content,k[f],l[g],a],children:d}),h.jsx(o,{arrowStyles:b,position:g,type:f})]})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.arrowStyles,d=a.position;a=a.type;return h.jsx(c("CometCalloutInsetArrow.svg.react"),{fill:a==="default"?"var(--popover-background)":"var(--accent)",style:b,xstyle:[j.arrow,m[d],a==="accent"&&n[d]]})}o.displayName=o.name+" [from "+f.id+"]";var p=c("Locale").isRTL();function q(a,b,c,d){var e=Math.max(c/2-8,16)+Math.abs(d),f=c/2-8<16;c=24-c/2;if(b==="above")if(a==="start"){var g;b=p?"right":"left";return[f?{transform:"translateX("+(p?c:-c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else if(a==="end"){b=p?"left":"right";return[f?{transform:"translateX("+(p?-c:c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else{var h;b=p?"left":"right";g=(p?-d:d)-8;return[void 0,(h={},h[b]="calc(50% + "+g+"px)",h)]}else if(a==="start"){b=p?"right":"left";return[f?{transform:"translateX("+(p?c:-c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else if(a==="end"){h=p?"left":"right";return[f?{transform:"translateX("+(p?-c:c)+"px)"}:void 0,(b={},b[h]="min(calc(100% - 32px), "+e+"px)",b)]}else{g=p?"left":"right";a=(p?-d:d)-8;return[void 0,(f={},f[g]="calc(50% + "+a+"px)",f)]}}g["default"]=a}),98);
__d("CometCallout.react",["fbt","ix","BaseContextualLayerOrientationContext","BaseRow.react","BaseRowItem.react","BaseView.react","CometCalloutEdge.react","CometCalloutInset.react","CometColumn.react","CometColumnItem.react","CometErrorBoundary.react","CometIcon.react","CometNUXInlineSurvey.react","CometPressable.react","TetraTextPairing.react","fbicon","react","unrecoverableViolation","useOnOutsideClick","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useContext,l=b.useRef,m={container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xofhs1l",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},crossoutButton:{marginEnd:"xcud41i",marginTop:"x9otpla",$$css:!0},item:{paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",$$css:!0}},n={accent:{backgroundColor:"xwnonoy",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},o={above:{marginBottom:"x12nagc",$$css:!0},below:{marginTop:"x1gslohp",$$css:!0},end:{marginStart:"xsgj6o6",$$css:!0},start:{$$css:!0}};function a(a){var b=a.arrowStyle;b=b===void 0?"none":b;var e=a.hasCloseButton;e=e===void 0?!1:e;var f=a.headline,g=a.inlineSurvey,p=a.label,q=a.onClose,r=a.onHelpful,s=a.onHide,t=a.onNotHelpful,u=a.onOutsideClick,v=a.onPressCallout_experimentalDONOTUSE,w=a.onShow,x=a.profilePhoto_experimentalDONOTUSE,y=a.type;y=y===void 0?"default":y;a=a.xstyle;var z=k(c("BaseContextualLayerOrientationContext"));z=z.position;var A=l(null),B=function(){if(A.current==null){var a;A.current=(a=g==null?void 0:g.getShouldShowInlineSurvey==null?void 0:g.getShouldShowInlineSurvey())!=null?a:!1}return A.current}(),C=c("useOnOutsideClick")(u);s=c("useVisibilityObserver")({onHidden:s,onVisible:w});w=y==="default"?"primary":"white";if(z==="end"&&(b==="inset"||b==="edge"))throw c("unrecoverableViolation")('"end" position with arrow is not supported yet',"comet_ui");x=j.jsxs(c("CometColumn.react"),{children:[j.jsx(c("CometColumnItem.react"),{children:j.jsxs(c("BaseRow.react"),{children:[x!=null&&j.jsx(c("BaseRowItem.react"),{verticalAlign:"top",children:x}),j.jsx(c("BaseRowItem.react"),{expanding:!0,ref:s,verticalAlign:"center",xstyle:m.item,children:j.jsx(c("TetraTextPairing.react"),{body:p,bodyColor:w,headline:f,headlineColor:w,level:3})}),e&&j.jsx(c("BaseRowItem.react"),{xstyle:[m.crossoutButton,m.item],children:j.jsx(c("CometIcon.react"),{"aria-label":h._("__JHASH__cCrSTii9yXy__JHASH__"),color:y==="default"?"secondary":"white",icon:d("fbicon")._(i("478232"),16),onPress:q,size:16})})]})}),g==null||B!==!0?null:j.jsx(c("CometColumnItem.react"),{paddingTop:12,children:j.jsx(c("BaseRow.react"),{children:j.jsx(c("BaseRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:m.item,children:j.jsx(c("CometNUXInlineSurvey.react"),{bodyColor:y==="default"?void 0:"white",initialHasAnsweredSurvey:g.initialHasAnsweredSurvey,linkColor:y==="default"?void 0:"white",onAnswer:g.onAnswer,onHelpful:r,onNotHelpful:t})})})})]});p=v?j.jsx(c("BaseRowItem.react"),{ref:s,children:j.jsx(c("CometPressable.react"),{onPress:v,overlayDisabled:!0,children:x})}):x;if(b==="inset")return j.jsx(c("CometCalloutInset.react"),{onOutsideClick:u,type:y,xstyle:a,children:p});return b==="edge"?j.jsx(c("CometCalloutEdge.react"),{onOutsideClick:u,type:y,xstyle:a,children:p}):j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsx("div",{})},children:j.jsx(c("BaseView.react"),{xstyle:m.container,children:j.jsx(c("BaseRow.react"),{ref:C,xstyle:[m.content,n[y],b==="none"&&o[z],a],children:p})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometCalloutImpl.react",["BaseContextualLayer.react","BaseContextualLayerAnchorRootContext","CometCallout.react","CometCalloutContext","LayoutAnimationBoundaryContext","react","useCometDisplayTimingTrackerForInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=a.anchorRootRefContext,d=a.animationContext,e=a.calloutID,f=a.calloutProps,g=a.contextRef,k=a.imperativeRef,l=a.scrollableAreaContext;a=c("useCometDisplayTimingTrackerForInteraction")("CometCalloutManager");var m=i(c("CometCalloutContext"));j(function(){var a=l.map(function(a){return a.getDOMNode()}).filter(Boolean),b=function(){var a;return(a=k.current)==null?void 0:a.reposition()};if(a.length>0){a.forEach(function(a){return a.addEventListener("scroll",b,{passive:!0})});return function(){a.forEach(function(a){return a.removeEventListener("scroll",b,{passive:!0})})}}},[k,l]);return m==null||f==null||g==null?null:h.jsx(c("LayoutAnimationBoundaryContext").Provider,{value:d,children:h.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:b,children:h.jsx(c("BaseContextualLayer.react"),{align:f.align,contextRef:g,disableAutoAlign:f.disableAutoAlign,disableAutoFlip:f.disableAutoFlip,imperativeRef:k,position:f.position,ref:a,children:h.jsx(c("CometCallout.react"),{arrowStyle:f.arrowStyle,hasCloseButton:f.hasCloseButton,headline:f.headline,inlineSurvey:f.inlineSurvey,label:f.label,onClose:f.hasCloseButton===!0?function(){m.removeCallout(e),f.onClose==null?void 0:f.onClose()}:void 0,onHelpful:f.onHelpful,onHide:f.onHide,onNotHelpful:f.onNotHelpful,onOutsideClick:function(){f.disableOutsideClick!==!0&&m.removeCallout(e)},onPressCallout_experimentalDONOTUSE:f.onPressCallout_experimentalDONOTUSE,onShow:f.onShow,profilePhoto_experimentalDONOTUSE:f.profilePhoto_experimentalDONOTUSE,type:f.type,xstyle:f.xstyle})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTopNavTabBadge.react",["CometNumberedBadge.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.isBadgeHidden,d=a.isTab,e=a.overflow,f=a.setBadgeCount,g=a.testid,j=a.value;g=babelHelpers.objectWithoutPropertiesLoose(a,["isBadgeHidden","isTab","overflow","setBadgeCount","testid","value"]);i(function(){f&&f(j)},[j,f]);if(b===!0||j===0)return null;a=d===!0?"red":void 0;return h.jsx(c("CometNumberedBadge.react"),babelHelpers["extends"]({},g,{color:a,overflow:e,testid:void 0,value:j}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometNotificationsBadgeCount.react",["CometNotificationsBadgeCountFragment_viewer.graphql","CometNotificationsBadgeCountQuery.graphql","CometNumberedBadge.react","CometPlaceholder.react","CometRelay","hero-tracing","react","setupNotificationsLiveQuery","unrecoverableViolation","updateWidgetServiceWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=d("react").useEffect;function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometNotificationsBadgeCountQuery.graphql"),{environment:"MAIN_SURFACE"});e=e.viewer;if(e==null)throw c("unrecoverableViolation")("The viewer recieving these notifications cannot be null","comet_feed");e=d("CometRelay").useFragment(i!==void 0?i:i=b("CometNotificationsBadgeCountFragment_viewer.graphql"),e);var f=(e=e==null?void 0:e.notifications_unseen_count)!=null?e:0;e=a.isBadgeHidden;var g=a.overflow,l=a.setBadgeCount,m=d("CometRelay").useRelayEnvironment();k(function(){var a=c("setupNotificationsLiveQuery")(m);return function(){return a.dispose()}},[m]);k(function(){l&&l(f),c("updateWidgetServiceWorker")()},[f,l]);return j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx("span",{}),children:e!==!0&&f>0?j.jsx(d("hero-tracing").HeroPagelet,{name:"NotificationsBadge",children:function(a,b){return j.jsxs(j.Fragment,{children:[j.jsx(c("CometNumberedBadge.react"),{overflow:g,ref:a,testid:void 0,value:f}),j.jsx(b,{})]})}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatHeadError.react",["fbt","ix","CometPressable.react","MWIcon.react","MWTooltip.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={compose:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1useyqa",$$css:!0},dropShadow:{boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0}},l=h._("__JHASH__1kKkUA_eanI__JHASH__");function a(a){var b=a.contextRef;a=a.onPress;return j.jsx(c("MWTooltip.react"),{align:"end",position:"above",tooltip:l,children:j.jsx(c("CometPressable.react"),{"aria-label":l,disabled:a==null,display:"inline",onPress:a,ref:b,xstyle:function(a){return[k.compose,k.dropShadow]},children:j.jsx(c("MWIcon.react"),{icon:d("fbicon")._(i("502063"),24)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatDisabled.react",["MWChatHeadError.react","react","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.contextRef;a=a.onPress;var d=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT");return d?h.jsx("div",{className:"x1ey2m1c xds687c xixxii4",children:h.jsx("div",{className:"x191j7n5 x92rtbv x10l6tqk",children:h.jsx(c("MWChatHeadError.react"),{contextRef:b,onPress:a})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2Chat.react",["CometErrorBoundary.react","CometLazyPopoverTrigger.react","FBLogger","JSResourceForInteraction","MWChatDisabled.react","cr:11569","gkx","killswitch","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=c("FBLogger")("messenger_browser_clients");a!=null&&(b=b.catching(a));b.warn("Error loading MWV2Chat")}var j=c("JSResourceForInteraction")("MWChatErrorStatePopover.react").__setRef("MWV2Chat.react"),k=function(a){return h.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{error:a},popoverResource:j,position:"above",visibleOnLoad:!1,children:function(a,b){return h.jsx(c("MWChatDisabled.react"),{contextRef:a,onPress:b})}})};function a(a){return h.jsx(c("CometErrorBoundary.react"),{fallback:k,onError:i,children:!c("gkx")("1673554")||c("killswitch")("COMET_CHAT")||!c("gkx")("1812744")?h.jsx(c("MWChatDisabled.react"),{}):b("cr:11569")&&h.jsx(b("cr:11569"),{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatStateV2CompareTabs.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.openWatermark-b.openWatermark;if(a<0)return 1;else if(a>0)return-1;else return 0}function b(a,b){a=Math.max(a.minimizeWatermark,a.clientForcedMinimizeWatermark)-Math.max(b.minimizeWatermark,b.clientForcedMinimizeWatermark);if(a<0)return 1;else if(a>0)return-1;else return 0}f.byMostRecentOpened=a;f.byMostRecentMinimized=b}),66);
__d("MWChatStateV2IsComposeTab.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.tabType;if(a.TAG===0)return!0;else return!1}f.isComposeTab=a}),66);
__d("MWChatStateV2HeadGroups.bs",["MWChatStateV2CompareTabs.bs","MWChatStateV2IsComposeTab.bs","MWChatStateV2IsMinimized.bs","bs_caml_option"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=a!==void 0?c("bs_caml_option").valFromOption(a):void 0;a=Array.from(e.values()).filter(function(a){return d("MWChatStateV2IsMinimized.bs").isMinimized(c("bs_caml_option").some(g),a)}).sort(function(a,b){var c=d("MWChatStateV2CompareTabs.bs").byMostRecentMinimized(a,b);if(c===0)return d("MWChatStateV2CompareTabs.bs").byMostRecentOpened(a,b);else return c});e=b.filter(function(a){return!d("MWChatStateV2IsComposeTab.bs").isComposeTab(a)}).concat(a);return[e.slice(0,f),e.slice(f,e.length)]}g.getHeadGroups=a}),98);
__d("MWChatStateV2TabGroups.bs",["MWChatStateV2CompareTabs.bs","MWChatStateV2IsOpen.bs","bs_caml_option"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){var d=a.length;if(d>b&&b>0&&c!==void 0){var e=a.findIndex(function(a){return a.tabId===c});if(e!==-1&&e>=b&&e<d){d=function(b,c){var d=a[b];a[b]=a[c];a[c]=d};d(b-1|0,e)}}return a}function a(a,b,e,f){var g=a!==void 0?c("bs_caml_option").valFromOption(a):void 0;a=h(Array.from(b.values()).filter(function(a){return d("MWChatStateV2IsOpen.bs").isOpen(c("bs_caml_option").some(g),a)}).sort(d("MWChatStateV2CompareTabs.bs").byMostRecentOpened),f,e);return[a.slice(0,f),a.slice(f,a.length)]}g.getTabGroups=a}),98);
__d("MWV2ChatHeadsLayout.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("div",{className:"x191j7n5 x92rtbv x10l6tqk x1useyqa",children:a})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2PreloadComposeTab.bs",["JSResourceForInteraction","JSScheduler","react","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("MWV2PreloadComposeTab.bs");function a(){var a=h.useCallback(function(){d("JSScheduler").scheduleSpeculativeCallback(function(){i.preload()})},[]);return c("useCometPreloader")("button",a,a)}g.useHook=a}),98);
__d("MWV2ComposeHead.bs",["fbt","ix","CometPressable.react","CometTintedIcon.react","LSThreadAttributionStore.bs","MWChatStateV2.bs","MWTooltip.react","MWV2PreloadComposeTab.bs","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={button:{alignItems:"x6s0dn4",appearance:"xjyslct",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",display:"x3nfvp2",height:"xsdox4t",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1useyqa",":hover_boxShadow":"x19xcq9t",$$css:!0}};function a(a){var b=a.onFocusChange;a=a.onHoverChange;var e=d("MWChatStateV2.bs").useDispatch(),f=function(){d("LSThreadAttributionStore.bs").setSourceForNewThread("chatheadsNewMessage");var a=Date.now(),b=function(b){return{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabType:b.tabType}},f=function(b){var c=b.openWatermark<b.closeWatermark;if(c)return{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabType:{_0:[],_1:!1,TAG:0}};else return{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:a,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:{_0:[],_1:!1,TAG:0}}};return c("bs_curry")._1(e,[{_0:{_0:[],_1:!1,TAG:0},_1:{shouldFocus:!0},_2:f,_3:b,TAG:3}])},g=d("MWV2PreloadComposeTab.bs").useHook(),l=h._("__JHASH__lMGuJRoIOm8__JHASH__");return j.jsx(c("MWTooltip.react"),{align:"middle",position:"start",tooltip:l.toString(),children:j.jsx(c("CometPressable.react"),{"aria-label":l,onFocusChange:b,onHoverChange:a,onHoverIn:g[0],onHoverOut:g[1],onPress:f,testid:void 0,xstyle:function(){return[k.button]},children:j.jsx(c("CometTintedIcon.react"),{color:"primary",icon:d("fbicon")._(i("507172"),20)})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("useSubscriptionValue",["React"],(function(a,b,c,d,e,f,g){b=d("React");var h=b.useCallback,i=b.useEffect,j=b.useState;function a(a){var b=a.getCurrentValue,c=a.subscribe;a=j(function(){return b()});var d=a[0],e=a[1],f=h(function(){e(b)},[b]);a=j(function(){return b});var g=a[0];a=a[1];g!==b&&(a(function(){return b}),f());i(function(){var a=!1,b=function(){a||f()},d=c(b);f();return function(){a=!0,d()}},[f,c]);return d}g["default"]=a}),98);
__d("useWindowSize",["ExecutionEnvironment","react","throttle","useSubscriptionValue"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(){return!c("ExecutionEnvironment").canUseDOM?{innerHeight:0,innerWidth:0,outerHeight:0,outerWidth:0}:{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}}function a(a){a===void 0&&(a=500);var b=h(function(b){var d=c("throttle")(b,a);window.addEventListener("resize",d);return function(){window.removeEventListener("resize",d)}},[a]);return c("useSubscriptionValue")({getCurrentValue:i,subscribe:b})}g["default"]=a}),98);
__d("useMWChatStateV2MaxTabCount",["bs_js_math","useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useWindowSize")();b=b.innerWidth;if(b<1100||a)return 1;a=(b/2|0)-90|0;b=a/338;if(b<1)return 1;else return c("bs_js_math").ceil_int(b)}g["default"]=a}),98);
__d("MWV2ChatHeads.bs",["BootloaderResource","CometErrorBoundary.react","CometPlaceholder.react","JSResource","MWChatStateV2.bs","MWChatStateV2HeadGroups.bs","MWChatStateV2TabGroups.bs","MWV2ChatHeadsLayout.bs","MWV2ComposeHead.bs","bs_caml_option","bs_int64","cr:1134","react","useMWChatStateV2MaxTabCount"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return h.createElement(d("BootloaderResource").read(c("JSResource")("MWV2ChatHead.react").__setRef("MWV2ChatHeads.bs")),a)}i.displayName=i.name+" [from "+f.id+"]";function j(a){return h.createElement(d("BootloaderResource").read(c("JSResource")("MWV2ChatOverflowHead.bs").__setRef("MWV2ChatHeads.bs")),a)}j.displayName=j.name+" [from "+f.id+"]";function k(a){return{transform:"translateY(-"+String(Math.imul(a,58))+"px)"}}function l(a){return{transform:"translateY(-"+String(Math.imul(a,58)-12|0)+"px)"}}function a(a){a=a.isMediaViewer;var e=d("MWChatStateV2.bs").useState(function(a){return a.tabs});e=e.tabs;var f=d("MWChatStateV2.bs").useState(function(a){return a.focusedTabId}),g=d("MWChatStateV2.bs").useState(function(a){return a.mediaViewerOpenWatermark}),m=c("useMWChatStateV2MaxTabCount")(a);a=a?g.mediaViewerOpenWatermark:void 0;g=d("MWChatStateV2TabGroups.bs").getTabGroups(c("bs_caml_option").some(a),e,f.focusedTabId,m);f=d("MWChatStateV2HeadGroups.bs").getHeadGroups(c("bs_caml_option").some(a),g[1],e,5);m=f[1];a=f[0];e=g[0].length;f=a.length;var n=m.length>0?1:0;g=h.useState(function(){return!1});var o=g[1],p=m.length;if(p!==1)p=p!==0?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(j,{excessHeads:m,onHoverChange:o,style:k(1)})}):null;else{m=m[0];var q=m.tabType;q.TAG===0?p=null:p=h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{onFocusChange:o,onHoverChange:o,style:k(1),tab:m,threadKeyDescriptor:q._0})})},c("bs_int64").to_string(q._0.threadKey))}return h.jsxs(d("MWV2ChatHeadsLayout.bs").make,{children:[!(b("cr:1134")==null)&&(e>0||f>0)?h.jsx(b("cr:1134").make,{isVisible:g[0],openTabCount:e,style:l((f+n|0)+1|0)}):null,a.reverse().map(function(b,d){var a=b.tabType;if(a.TAG===0)return null;d=(d+n|0)+1|0;return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{onFocusChange:o,onHoverChange:o,style:k(d),tab:b,threadKeyDescriptor:a._0})})},c("bs_int64").to_string(a._0.threadKey))}),p,h.jsx(d("MWV2ComposeHead.bs").make,{onFocusChange:o,onHoverChange:o})]})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.make=e}),98);
__d("MWV2ChatTabLoading.bs",["cssVar","fbt","MWChatStateActions.bs","MWChatStateV2.bs","MWPThreadTheme.bs","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2IsTabFocusedContext.bs","MWV2TabContainer.bs","bs_curry","react","useCometLoadingStateTracker"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.tab;a=c("useCometLoadingStateTracker")();var e=a[1],f=d("MWChatStateV2.bs").useDispatch();a=d("MWPThreadTheme.bs").useTop();var g=d("MWV2IsTabFocusedContext.bs").useContext();a=g?a:"#C9CCD1";j.useEffect(function(){if(g){var a=e.current;a==null||a.focus()}},[g]);return j.jsx(d("MWV2TabContainer.bs").make,{ariaBusy:!0,ariaLabel:i._("__JHASH__SxkfHU6fYt9__JHASH__"),domRef:e,tab:b,tabIndex:0,children:j.jsx(d("MWV2HeaderContainer.bs").make,{endContent:j.jsx(d("MWV2HeaderCloseButton.bs").make,{color:a,onPress:function(){return c("bs_curry")._1(f,d("MWChatStateActions.bs").closeTab(Date.now(),b.tabId))}})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ChatTabsLayout.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("div",{className:"x1ey2m1c x78zum5 x164qtfw xixxii4 x1vjfegm","data-testid":void 0,children:a})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("useMWIsTopLevelRouteMediaViewerExperiment",["MWChatVisibileRoutes","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null)return!1;var b=a.main;a=a.pushViewStack;a=a&&a.length>0?a[a.length-1]:b;return d("MWChatVisibileRoutes").ROUTES.has((a=(b=a.route)==null?void 0:b.tracePolicy)!=null?a:"")}g["default"]=a}),98);
__d("MWV2ChatTabs.bs",["Bootloader","CometErrorBoundary.react","CometHeroInteractionWithDiv.react","FBLogger","JSResourceForInteraction","MWChatInteraction.bs","MWChatStateV2.bs","MWChatStateV2TabGroups.bs","MWFallbackWithTimeout.react","MWPReplyContext.bs","MWThreadListGlimmer.react","MWV2ChatTabLoading.bs","MWV2ChatTabsLayout.bs","MWV2IsTabFocusedContext.bs","__debug","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","clearTimeout","cr:356","lazyLoadComponent","promiseDone","react","setTimeout","useCometDisplayTimingTrackerForInteraction","useCometPlaceholderImpl","useMWChatStateV2MaxTabCount"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var d=a.load;a.load=function(){var e=c("setTimeout")(function(){var a=[],d="null",e=null,f="null";try{var g,h=b("Bootloader").__debug;d=(g=(g=h.bootloaded.get("MWV2ChatTab.react"))==null?void 0:(g=g.logData)==null?void 0:(g=g.values())==null?void 0:(g=g.next())==null?void 0:(g=g.value)==null?void 0:(g=g.beRequests)==null?void 0:(g=g.values())==null?void 0:(g=g.next())==null?void 0:(g=g.value)==null?void 0:(g=g.serverGenTime)==null?void 0:g.toString())!=null?g:"null";e=(g=b("__debug").modulesMap["MWV2ChatTab.react"])==null?void 0:g.nonJSDeps;f=(g=b("__debug").debugUnresolvedDependencies(["MWV2ChatTab.react"]))!=null?g:"null";g=Array.from(h._resolveCSRs(Array.from((g=(g=h.componentMap.get("MWV2ChatTab.react"))==null?void 0:g.r)!=null?g:[])));g.forEach(function(b){var c=b[0];b=b[1];var d=h.requested.get(c)&&!h.loaded.get(c)?1:0,e=h.requested.get(c)&&h.errors.get(c)?1:0,f="null",g=b==null?void 0:b.src;if(typeof g==="string"){g=document.querySelectorAll('script[src="'+g+'"], link[href="'+g+'"]')[0];if(g!=null){f=(g=(g=g.parentElement)==null?void 0:g.tagName)!=null?g:"null"}a.push("|"+c+"|"+f+"|"+d+"|"+e+"|"+((g=b==null?void 0:b.src)!=null?g:"UNKNOWN"))}})}finally{c("FBLogger")("messenger_web_product","tabs_suspense").addMetadata("BOOTLOADER","BE_SERVER_DURATION",d).addMetadata("BOOTLOADER","BOOTLOADER_RESOURCES",a.join("@")).addMetadata("BOOTLOADER","NON_JS_DEPS_RESOLVED",(g=e)!=null?g:"null").addMetadata("BOOTLOADER","UNRESOLVED_DEPENDENCIES",f).warn("Bootloader did not respond within 10 seconds")}},1e4),f=d.call(a);c("promiseDone")(f,function(){return c("clearTimeout")(e)});return f};return a}var i=c("lazyLoadComponent")(a(c("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("MWV2ChatTabs.bs"))),j=c("lazyLoadComponent")(a(c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("MWV2ChatTabs.bs")));function e(a){a=a.isMediaViewer;var e=c("useCometPlaceholderImpl"),f=d("MWChatStateV2.bs").useState(function(a){return a.tabs}),g=d("MWChatStateV2.bs").useState(function(a){return a.focusedTabId}),k=g.focusedTabId;g=d("MWChatStateV2.bs").useState(function(a){return a.mediaViewerOpenWatermark});var l=c("useMWChatStateV2MaxTabCount")(a);a=d("MWChatStateV2TabGroups.bs").getTabGroups(c("bs_caml_option").some(a?g.mediaViewerOpenWatermark:void 0),f.tabs,k,l);var m=h.useCallback(function(a){if(a.TAG===0)return null;else return d("MWChatInteraction.bs").get(c("bs_int64").to_string(a._0.threadKey))},[]),n=c("useCometDisplayTimingTrackerForInteraction")("ChatMain",!0);g=a[0].map(function(a,f){var g=c("bs_caml_obj").caml_equal(k,a.tabId),l=a.tabType;l=l.TAG===0?h.jsx(i,{initialTokens:l._0,tab:a}):h.jsx(e,{fallback:h.jsx(c("MWFallbackWithTimeout.react"),{message:"LazyMWV2ChatTab suspends",children:h.jsx(c("MWThreadListGlimmer.react"),{})}),unstable_onSuspense:function(a){return c("FBLogger")("messenger_web_product","tabs_suspense").warn("MWV2ChatTabs suspense: %s",a)},children:h.jsx(j,{tab:a,threadKeyDescriptor:l._0})});g=h.jsx(d("MWV2IsTabFocusedContext.bs").make,{isFocused:g,children:h.jsx(d("MWPReplyContext.bs").make,{children:h.jsx(e,{fallback:h.jsx(c("MWFallbackWithTimeout.react"),{message:"CometHeroInteraction suspends",children:h.jsx(d("MWV2ChatTabLoading.bs").make,{tab:a})}),unstable_onSuspense:function(a){return c("FBLogger")("messenger_web_product","hero_interaction_suspense").warn("MWV2ChatTabs suspense: %s",a)},children:h.jsx(c("CometHeroInteractionWithDiv.react"),{excludeFromMainVC:!0,interactionDesc:"MWV2_CHAT_TAB",interactionUUID:c("bs_curry")._1(m,a.tabType),pageletName:"ChatTab",ref:n,children:l})})})});return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:b("cr:356")==null?g:h.jsx(b("cr:356").TabIndex.make,{children:g,value:f})},String(a.tabId))});return h.jsx(d("MWV2ChatTabsLayout.bs").make,{children:b("cr:356")==null?g:h.jsx(b("cr:356").make,{children:g})})}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("useMWChatInit",["LSErrorHandlerDeferred.bs","MWLSChatPopperUpper.bs","MWPGetThreadTitle.bs","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=c("useReStore")();h(function(){d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("threads")).map(function(b){return[b,d("ReQLSuspense").toArray(d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b.threadKey),d("ReQL").fromTableAscending(a.table("contacts"))).take(d("MWPGetThreadTitle.bs").amountToFetchForTitle))]}).take(30));return d("LSErrorHandlerDeferred.bs").subscribeToErrors(a)},[a]);d("MWLSChatPopperUpper.bs").useHook(a)}g["default"]=a}),98);
__d("useMWV2ChatUpdateMediaViewerOpenWatermark",["MWChatStateActions.bs","MWChatStateV2.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("MWChatStateV2.bs").useDispatch();return h(function(){var b=Date.now();a(d("MWChatStateActions.bs").updateMediaViewerOpenWatermark(b))},[a])}g["default"]=a}),98);
__d("MWV2CookieWriter.bs",["DeferredCookie","MWCMThreadTypes.react","MessagingThreadType.bs","Promise","ReQL.bs","bs_belt_Option","bs_caml","bs_caml_option","bs_int64","gkx","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(c("bs_caml").i64_eq(a,d("MessagingThreadType.bs").group))return"g.";else if(c("bs_caml").i64_eq(a,d("MessagingThreadType.bs").secureMessageOverWaOneToOne))return"sc.";else if(c("bs_caml").i64_eq(a,d("MessagingThreadType.bs").secureMessageOverWaGroup))return"sg.";else return"u."}function a(a,e,f){var g=function(a){if(e===void 0)return!1;var b=e.tabType;if(b.TAG===0)return!1;else return c("bs_caml").i64_eq(b._0.threadKey,a)},i=function(a){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("threads")),{hd:a,tl:0}))},j={contents:void 0};a=a.map(function(a){var e=a.threadType,f=a.threadKey,k={};return i(f).then(function(a){if(a!==void 0)if(g(f)){c("gkx")("1747")&&d("MWCMThreadTypes.react").isJoinedCMThread(e)&&(j.contents=c("bs_int64").to_string(a.parentThreadKey));return b("Promise").resolve()}else{k.i=h(e)+c("bs_int64").to_string(f);c("gkx")("1747")&&d("MWCMThreadTypes.react").isJoinedCMThread(e)&&(k.p=c("bs_int64").to_string(a.parentThreadKey));return b("Promise").resolve(c("bs_caml_option").some(k))}else{k.i=h(e)+c("bs_int64").to_string(f);return b("Promise").resolve(c("bs_caml_option").some(k))}})});a=b("Promise").all(a).then(function(a){var d;if(e!==void 0){var f=e.tabType;if(f.TAG===0)d=void 0;else{f=f._0;d=h(f.threadType)+c("bs_int64").to_string(f.threadKey)}}else d=void 0;f=a.filter(c("bs_belt_Option").isSome);a=j.contents;a=a!==void 0?JSON.stringify({lm3:d,lm3p:a,t3:f,utc3:Date.now(),v:1}):JSON.stringify({lm3:d,t3:f,utc3:Date.now(),v:1});a!==void 0?c("DeferredCookie").addToQueue("presence","C"+a,0,c("gkx")("1747")?"/":"",!1,!1,!0):c("recoverableViolation")("Failed to serialize cookie","messenger_comet");return b("Promise").resolve()});c("promiseDone")(a)}e=1;g.write=a;g.version=e}),98);
__d("useMWV2CookieWriter",["I64","MWChatStateV2.bs","MWChatStateV2CompareTabs.bs","MWChatStateV2IsOpen.bs","MWV2CookieWriter.bs","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=d("MWChatStateV2.bs").useState(function(a){return a.tabs}),b=c("useReStore")();h(function(){var e=Array.from(a.tabs.values()).filter(function(a){return d("MWChatStateV2IsOpen.bs").isOpen(void 0,a)}).sort(d("MWChatStateV2CompareTabs.bs").byMostRecentOpened)[0],f=function(a){a=a.tabType;if(e==null)return!1;var b=e.tabType;if(b.TAG===0||a.TAG===0)return!1;else return d("I64").equal(b._0.threadKey,a._0.threadKey)},g=[];Array.from(a.tabs.values()).filter(function(a){if(a.openWatermark>a.closeWatermark)return!0;else return a.minimizeWatermark>a.closeWatermark}).filter(function(a){if(c("gkx")("1747"))return!0;else return!f(a)}).sort(function(a,b){var c=d("MWChatStateV2CompareTabs.bs").byMostRecentMinimized(a,b);if(c===0)return d("MWChatStateV2CompareTabs.bs").byMostRecentOpened(a,b);else return c}).forEach(function(a){a=a.tabType;if(a.TAG===0)return;g.push(a._0)});d("MWV2CookieWriter.bs").write(g,e,b)},[b,a])}b=c("gkx")("1812641")?a:function(){};e=b;g["default"]=e}),98);
__d("MWV2ChatTabsRoot.react",["CometContextualLayerAnchorRoot.react","CometPlaceholder.react","FocusRegion.react","MWChatStateV2.bs","MWChatVisibilityOverrideContext","MWLSThreadDisplayContext","MWSetupPresenceReportingDeferred.react","MWV2ChatHeads.bs","MWV2ChatTabs.bs","focusScopeQueries","gkx","react","stylex","useMWChatInit","useMWIsOnPushView","useMWIsTopLevelRouteMediaViewerExperiment","useMWV2ChatUpdateMediaViewerOpenWatermark","useMWV2CookieWriter","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k={chatAbovePushView:{zIndex:"x1vjfegm",$$css:!0},container:{alignItems:"xuk3077",display:"x78zum5",isolation:"xc8icb0",$$css:!0},root:{bottom:"x1ey2m1c",end:"xds687c",position:"xixxii4",$$css:!0}};function l(a){var b=a.isMediaViewer;a=a.showChatAbovePushView;var e=d("MWChatStateV2.bs").useState(function(a){return a.tabs});e=e.tabs;var f=!1;for(e of e.values())if(e.openWatermark>e.closeWatermark){f=!0;break}return h.jsx(d("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"ChatTab",children:h.jsx("div",{className:c("stylex")(k.root,a||c("gkx")("6264")?k.chatAbovePushView:!1),children:h.jsx(c("CometContextualLayerAnchorRoot.react"),{children:h.jsx("div",{className:"xuk3077 x78zum5 xc8icb0",children:f?h.jsxs(d("FocusRegion.react").FocusRegion,{containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:"MWV2ChatTabsRootChatTabsFocusRegion",children:[h.jsx(c("MWV2ChatTabs.bs"),{isMediaViewer:b}),h.jsx(d("MWV2ChatHeads.bs").make,{isMediaViewer:b})]}):h.jsxs(h.Fragment,{children:[h.jsx(c("MWV2ChatTabs.bs"),{isMediaViewer:b}),h.jsx(d("MWV2ChatHeads.bs").make,{isMediaViewer:b})]})})})})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){a=a.children;c("useMWV2CookieWriter")();c("useMWChatInit")();return a}m.displayName=m.name+" [from "+f.id+"]";function a(){var a=c("useMWIsOnPushView")(),b=c("useMWIsTopLevelRouteMediaViewerExperiment")(),e=d("MWChatVisibilityOverrideContext").useMWChatVisibilityOverride(b),f=c("useMWV2ChatUpdateMediaViewerOpenWatermark")(),g=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT")&&e;i(function(){b&&f()},[b,f]);return j(function(){return h.jsxs(c("CometPlaceholder.react"),{fallback:null,children:[h.jsx(c("MWSetupPresenceReportingDeferred.react"),{}),h.jsx(m,{children:g?h.jsx(l,{isMediaViewer:b,showChatAbovePushView:a}):null})]})},[g,a,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatContainer.react",["LSPlatformClientProviderWithDeferredLoadingStrategy.bs","LSPlatformConfig.re","LSPlatformMessengerConfig.bs","MWChatEncryptedBackupsTrackRestoreWrapper.react","MWV2ChatTabsRoot.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(d("LSPlatformConfig.re").Provider_make,{config:d("LSPlatformMessengerConfig.bs").configEagerlyLoaded,children:h.jsxs(d("LSPlatformClientProviderWithDeferredLoadingStrategy.bs").make,{children:[h.jsx(c("MWV2ChatTabsRoot.react"),{}),h.jsx(c("MWChatEncryptedBackupsTrackRestoreWrapper.react"),{})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWChatBadgeInitSyncCompleteUpdates.bs",["LSSyncStatus.bs","MAWInitSyncComplete.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useReStore")();return c("bs_belt_Option").mapWithDefault(d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("sync_groups")),{hd:d("MAWInitSyncComplete.bs").id,tl:0})},[a])),!1,function(a){return c("bs_caml").i64_eq(a.syncStatus,d("LSSyncStatus.bs").complete)})}g.useHook=a}),98);
__d("MWChatBadgeCount.react",["CometNumberedBadge.react","CometPlaceholder.react","CometRelay","CometVisualCompletionAttributes","MAWGating","MWChatBadgeCountQuery.graphql","MWChatBadgeCountUpdates.bs","MWXacGating.bs","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useEffect,k=e.useRef;function l(a){var e,f=a.overflow,g=a.setBadgeCount;a=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWChatBadgeCountQuery.graphql"),{suppress_xac_groups:!d("MWXacGating.bs").isGroupsEnabled()},{fetchPolicy:"store-or-network"});a=(a=a.viewer)==null?void 0:a.message_threads;var l=a!=null&&!m((e=a.is_loading_client_threads)!=null?e:d("MAWGating").isArmadillo()===!0)&&a.unseen_count!=null&&a.unseen_count>0?Math.min(d("MWChatBadgeCountUpdates.bs").minSyncedThreads,a.unseen_count):0,n=k(null);j(function(){g&&n.current!==l&&(n.current=l,g(l))},[l,g]);return i.jsx(i.Fragment,{children:l>0?i.jsx(c("CometNumberedBadge.react"),{overflow:f,testid:void 0,value:l}):null})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.overflow;a=a.setBadgeCount;return i.jsx("div",babelHelpers["extends"]({},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("span",{}),children:i.jsx(l,{overflow:b,setBadgeCount:a})})}))}a.displayName=a.name+" [from "+f.id+"]";function m(a){return a&&!((a=c("qex")._("343"))!=null?a:!1)&&((a=c("qex")._("15"))!=null?a:!1)}g["default"]=a}),98);
__d("MWChatBadgeCountUpdater.react",["CometRelay","LsSystemFolder.re","MAWChatBadgeInitSyncCompleteUpdates.bs","MWChatBadgeCountUpdates.bs","MWXacGating.bs","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=d("CometRelay").useRelayEnvironment(),b=d("MWChatBadgeCountUpdates.bs").useHook(d("LsSystemFolder.re").inbox),e=d("MAWChatBadgeInitSyncCompleteUpdates.bs").useHook();h(function(){var f={suppress_xac_groups:!d("MWXacGating.bs").isGroupsEnabled()};a.commitUpdate(function(a){a=a.getRoot();if(a==null){c("recoverableViolation")("A store root must be present to move forward.","messenger_comet");return}a=a.getOrCreateLinkedRecord("viewer","Viewer");a=a.getOrCreateLinkedRecord("message_threads","ViewerMessageThreadsConnection");if(b!=null){var d=a.getValue("unseen_count",f);(d===null||d!==b)&&a.setValue(b,"unseen_count",f)}d=a.getValue("is_loading_client_threads");(d==null||d===e)&&a.setValue(!e,"is_loading_client_threads")})},[a,e,b]);return null}g["default"]=a}),98);
__d("MWChatBadgeUpdaterImpl.react",["CometErrorBoundary.react","ExecutionEnvironment","FBLogger","cr:4562","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=c("FBLogger")("messenger_browser_clients");a!=null&&(b=b.catching(a));b.debug("Error loading MWChatBadgeCountUpdater")}function a(){return c("ExecutionEnvironment").canUseDOM?h.jsx(c("CometErrorBoundary.react"),{onError:i,children:b("cr:4562")&&h.jsx(b("cr:4562"),{})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatOptionsHead.bs",["fbt","ix","CometDeferredPopoverTrigger.react","CometPressable.react","MWIcon.react","MWTooltip.react","bs_curry","fbicon","react","requireDeferred"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={head:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",opacity:"xg01cxk",transform:"x1f85oc2",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",width:"x14qfxbe",":hover_boxShadow":"x19xcq9t",$$css:!0},headArea:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xc9qbxq",position:"x10l6tqk",start:"xi8xln7",width:"x14qfxbe",$$css:!0},headVisible:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0},hoverTarget:{alignItems:"x6s0dn4",backgroundColor:"xjbqb8w",display:"x78zum5",height:"xnnlda6",justifyContent:"xl56j7k",marginStart:"x1tl9596",marginTop:"xhsvlbd",width:"x1dmp6jm",$$css:!0}},l=h._("__JHASH__GqqnGnZcXBj__JHASH__");function a(a){var b=a.isVisible,e=a.openTabCount,f=a.style;a=j.useState(!1);var g=a[0],h=a[1];a=j.useState(!1);var m=a[0],n=a[1];a=j.useState(!1);var o=a[0];a=a[1];return j.jsx(c("CometDeferredPopoverTrigger.react"),{align:"end",onVisibilityChange:a,popoverProps:{hasOpenTabs:e>0},popoverResource:c("requireDeferred")("MWV2ChatOptionsHeadPopover.react").__setRef("MWV2ChatOptionsHead.bs"),position:"above",children:function(a,e){return j.jsx("div",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xc9qbxq x10l6tqk xi8xln7 x14qfxbe",style:f,children:j.jsx("div",{className:"x6s0dn4 xjbqb8w x78zum5 xnnlda6 xl56j7k x1tl9596 xhsvlbd x1dmp6jm","data-testid":void 0,onMouseEnter:function(){return c("bs_curry")._1(h,function(){return!0})},onMouseLeave:function(){return c("bs_curry")._1(h,function(){return!1})},children:j.jsx(c("CometPressable.react"),{label:l,onFocusChange:function(a){return c("bs_curry")._1(n,function(){return a})},onPress:function(){return c("bs_curry")._1(e)},ref:a,testid:void 0,xstyle:function(){return[k.head,b||g||m||o?k.headVisible:!1]},children:j.jsx(c("MWTooltip.react"),{align:"middle",position:"start",tooltip:l,children:j.jsx(c("MWIcon.react"),{icon:d("fbicon")._(i("484387"),20)})})})})})}})}a.displayName=a.name+" [from "+f.id+"]";b=36;e=10;h=a;g.width=b;g.marginBottom=e;g.make=h}),98);
__d("CometTypeaheadEntityViewItem.react",["CometProfilePhoto.react","CometTypeaheadViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,d=a.meta,e=a.pictureUrl;a.queryString;var f=a.size;f=f===void 0?36:f;var g=a.style;g=g===void 0?"circle":g;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","meta","pictureUrl","queryString","size","style"]);return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,itemStartContent:e!=null?h.jsx(c("CometProfilePhoto.react"),{shape:g,size:f,source:{uri:e}}):null,children:h.jsx(c("TetraTextPairing.react"),{body:b.label,bodyLineLimit:2,level:3,meta:d,metaLineLimit:1,reduceEmphasis:!0})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometInternalTypeaheadHeroTracing",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a,b){var c=a?a.getInteractionUUID():null,d=a?a.getVCTrackerRef():null,e=c!=null&&a!=null&&!a.isResolved();return h(function(){var f=function(c,d){a&&d!=null&&a.setEventStartTime(d.timeStamp),b(c,d)};return{interactionUUID:c,onTracedChange:f,shouldHoldHeroTracing:e,vcTrackerRef:d}},[c,b,e,a,d])}g["default"]=a}),98);
__d("withSearchCometTypeaheadTraceEndReasonDecorator",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){return function(b){var c=b.inputRef,d=b.onPressEntry,e=b.traceProvider;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","traceProvider"]);var f=i(function(a){e&&e.setEndReason("successful_user_action"),d&&d(a)},[d,e]);return h.jsx(a,babelHelpers["extends"]({},b,{inputRef:c,onPressEntry:f,traceProvider:e}))}}g["default"]=a}),98);
__d("useSearchCometTypeaheadBootstrapValidation",["CometRelay","CometRelayErrorHandling","filterNulls","react","recoverableViolation","useSearchCometTypeaheadBootstrapValidationQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a){var e=a.bootstrapDatasource,f=d("CometRelay").useRelayEnvironment();return i(function(){return{validate:function(a){a=c("filterNulls")(a.map(function(a){if(a.subtype!=="bootstrap")return null;a=(a=a.rawData.structuredInfo)!=null?a:{};a=a.direct_nav_result;if(a==null)return null;var b=a.ent_id;a=a.title;if(b==null||a==null){c("recoverableViolation")("Unexpected missing ent_id or title on direct_nav_result","search");return null}return{id:b,keyword:a}}));d("CometRelay").fetchQuery(f,h!==void 0?h:h=b("useSearchCometTypeaheadBootstrapValidationQuery.graphql"),{input:{cache_types:["KEYWORD_BOOTSTRAP"],shown_suggestions:a}}).subscribe({error:function(a){d("CometRelayErrorHandling").markErrorAsHandled(a)},next:function(a){a=a.search_client_cache_policy_check;for(a of(a=a==null?void 0:a.policy_decision)!=null?a:[]){var b=a.cache_type,c=a.force_cache_refresh,d=a.ids_to_remove;if(b==="KEYWORD_BOOTSTRAP"){for(b of d)e.removeEntriesByEntID(b);c===!0&&(e.clear(),e.bootstrap())}}}})}}},[e,f])}g["default"]=a}),98);
__d("useSearchCometShouldRenderBadgeWithExposure",["QE2Logger","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){return h(function(){var b;if(a==null)return!1;if(!c("qex")._("578"))return!0;d("QE2Logger").logExposureForUser("search_nullstate_desktop");return(b=c("qex")._("580"))!=null?b:!1},[a])}g["default"]=a}),98);
__d("CometSearchTypeaheadRecentEntityViewItem.react",["CometBadge.react","CometTypeaheadEntityViewItem.react","react","recoverableViolation","useSearchCometShouldRenderBadgeWithExposure"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=b.rawData,e=d.badgeSnippet;d=d.profile;d=(d=d)!=null?d:{};var f=d.id,g=d.profilePictureURL;d=d.url;if(g==null){c("recoverableViolation")("Missing profile picture for fbid "+((f=f)!=null?f:"null"),"search")}f=c("useSearchCometShouldRenderBadgeWithExposure")(e);f=f?h.jsxs(h.Fragment,{children:[h.jsx(c("CometBadge.react"),{color:"blue"}),e]}):void 0;return h.jsx(c("CometTypeaheadEntityViewItem.react"),babelHelpers["extends"]({},a,{entry:b,linkProps:{preventLocalNavigation:!0,url:d},meta:f,pictureUrl:g,size:36}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometSearchTypeaheadRecentEntityViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("entity")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react",["CometImage.react","CometProfilePhoto.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=36,k={imageIcon:{display:"x1lliihq",$$css:!0}};function a(a){var b,d=a.entry,e=a.isActive,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);b=(b=(b=d.rawData.structuredInfo)==null?void 0:b.direct_nav_result)!=null?b:{};var g=b.img_url,l=b.link_url,m=b.snippet;b=b.type;var n=i(function(){return{preloadCodeOnMount:!0,preventLocalNavigation:!0,url:l}},[l]),o=null;g!=null&&(o=b==="SHORTCUT"?h.jsx(c("CometImage.react"),{height:j,src:g,width:j,xstyle:k.imageIcon}):h.jsx(c("CometProfilePhoto.react"),{shape:b==="SHORTCUT"?"square":"circle",size:j,source:{uri:g}}));return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:d,isActive:e,itemStartContent:o,linkProps:n,children:h.jsx(c("CometTypeaheadHighlight.react"),{content:d.label,query:f,strategy:"non-match",children:function(a){return h.jsx(c("TetraTextPairing.react"),{body:a,bodyLineLimit:2,level:3,meta:m,metaLineLimit:1})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react",["CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraTextPairing.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e=a.entry,f=a.isActive,g=a.linkProps,i=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]);b=(b=e.rawData.structuredInfo)!=null?b:{};b=b.disambiguation_result;if(b==null){c("recoverableViolation")("We were trying to show disambiguation result, but had missing data","search");return null}b=b.disambiguation_info_list;var j=b[0].snippet;return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:e,isActive:f,itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f}),linkProps:g,children:h.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:i,strategy:"non-match",children:function(a){return h.jsx(c("TetraTextPairing.react"),{body:a,bodyLineLimit:2,level:3,meta:j,metaLineLimit:1})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react",["CometProfilePhoto.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraTextPairing.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e=a.entry,f=a.isActive,g=a.linkProps,i=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]);b=(b=(b=e.rawData.structuredInfo)==null?void 0:b.high_confidence_result)!=null?b:{};var j=b.hcm_id,k=b.picture_url,l=b.snippet;if(k==null){c("recoverableViolation")("Missing HC keyword item picture url for hcm_id "+((b=j)!=null?b:"null"),"search")}return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:e,isActive:f,itemEndContent:k!=null?h.jsx(c("CometProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:k}}):null,itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f}),linkProps:g,children:h.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:i,strategy:"non-match",children:function(a){return h.jsx(c("TetraTextPairing.react"),{body:a,bodyLineLimit:2,level:3,meta:l,metaLineLimit:1})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadBaseSurfaceRecentEntityViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometSearchTypeaheadRecentEntityViewItem.react","CometTypeaheadFocusLockRegion.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);return h.jsx(c("CometSearchTypeaheadRecentEntityViewItem.react"),babelHelpers["extends"]({},a,{entry:b,itemEndContent:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:b})}),testid:void 0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react",["CometBadge.react","CometProfilePhoto.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","TetraTextPairing.react","react","useSearchCometShouldRenderBadgeWithExposure"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.entry,d=a.isActive;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);var e=b.rawData,f=e.badgeSnippet;e=e.structuredInfo;e=(e=e==null?void 0:e.direct_nav_result)!=null?e:{};var g=e.img_url,j=e.link_url,k=e.snippet,l=e.title;e=e.type;var m=i(function(){return{preloadCodeOnMount:!0,preventLocalNavigation:!0,url:j}},[j]),n=c("useSearchCometShouldRenderBadgeWithExposure")(f);n=n?h.jsxs(h.Fragment,{children:[h.jsx(c("CometBadge.react"),{color:"blue"}),f]}):k;return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,isActive:d,itemEndContent:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:b})}),itemStartContent:g!=null?h.jsx(c("CometProfilePhoto.react"),{shape:e==="SHORTCUT"?"square":"circle",size:36,source:{uri:g}}):null,linkProps:m,testid:void 0,children:h.jsx(c("TetraTextPairing.react"),{body:l,bodyLineLimit:2,level:3,meta:n,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraTextPairing.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e=a.entry,f=a.isActive,g=a.linkProps;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]);b=(b=e.rawData.structuredInfo)!=null?b:{};b=b.disambiguation_result;if(b==null){c("recoverableViolation")("Missing disambiguation result STS info","search");return null}b=b.disambiguation_info_list;b=b[0].snippet;return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:e,isActive:f,itemEndContent:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:e})}),itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:f}),linkProps:g,children:h.jsx(c("TetraTextPairing.react"),{body:e.label,bodyLineLimit:2,level:2,meta:b,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react",["CometProfilePhoto.react","CometRow.react","CometRowItem.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraTextPairing.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,e=a.isActive,f=a.linkProps;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]);var g=b.rawData;g=(g=(g=g.structuredInfo)==null?void 0:g.high_confidence_result)!=null?g:{};var i=g.hcm_id,j=g.picture_url;g=g.snippet;if(j==null){c("recoverableViolation")("Missing HC keyword item picture url for hcm_id "+((i=i)!=null?i:"null"),"search")}return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,isActive:e,itemEndContent:h.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[j!=null?h.jsx(c("CometRowItem.react"),{children:h.jsx(c("CometProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:j}})}):null,h.jsx(c("CometRowItem.react"),{children:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:b})})})]}),itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:e}),linkProps:f,children:h.jsx(c("TetraTextPairing.react"),{body:b.label,bodyLineLimit:2,level:3,meta:g,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("direct_nav")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")&&b.has("direct_nav")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("disambiguation")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("disambiguation")&&a.subtype==="keyword"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("high_confidence")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("high_confidence")&&a.subtype==="keyword"?a:null}f["default"]=a}),66);
__d("searchCometTypeaheadSTSMappings",["CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react","CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react","CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react","CometSearchTypeaheadBaseSurfaceRecentEntityViewItem.react","CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react","CometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.react","CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react","cometSearchTypeaheadRecentEntityViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver","cometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver"],(function(a,b,c,d,e,f,g){"use strict";a=[{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadRecentEntityViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseSurfaceRecentEntityViewItem.react")}].filter(Boolean);g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadInputStrategy.react",["CometTypeaheadInputRoundedStrategy.react","SearchCometTypeaheadEventEmitterContext","cr:2012305","react","useMergeRefs","useRefEffect","useSearchCometEventEmitterContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useEffect,j=e.useRef;function a(a,d){var e,f=a.onChange;a=babelHelpers.objectWithoutPropertiesLoose(a,["onChange"]);e=(e=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?e:{};var g=e.subscribeToGlobalTypeaheadFocus;e=c("useRefEffect")(function(a){return g==null?void 0:g(function(){if(a==null)return;a.value="";a.focus();f("")})},[f,g]);var k=j(null),l=j(!1);i(function(){var a=k.current;if(b("cr:2012305")!=null&&a!=null&&l.current===!1){b("cr:2012305").trackTypingPerf(a,"top_tab_serp_typeahead");l.current=!0;return function(){b("cr:2012305").unregisterTypingPerf(a),l.current=!1}}},[]);e=c("useMergeRefs")(e,k);e=c("useMergeRefs")(e,d);return h.jsx(c("CometTypeaheadInputRoundedStrategy.react"),babelHelpers["extends"]({},a,{onChange:f,ref:e}))}a.displayName=a.name+" [from "+f.id+"]";d=h.forwardRef(a);g["default"]=d}),98);
__d("SearchCometGlobalTypeaheadLayoutContextualStrategy.react",["CometHeroHoldTrigger.react","CometHeroInteractionWithDiv.react","CometTypeaheadInternalLayoutInlineStrategy.react","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadHeroTracing","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useSearchCometGlobalTypeaheadStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.extraLayoutProps;b=b===void 0?{}:b;var d=b.afterViewContent;b=b.beforeViewContent;var e=a.helperText,f=a.label,g=a.onAbandonTypeahead_DO_NOT_USE,i=a.onBlur,j=a.onChange,k=a.onClick,l=a.onDownArrow,m=a.onEnter,n=a.onEscape,o=a.onHighlightEntry,p=a.onOutsideClick,q=a.onPressEntry,r=a.onShiftTab,s=a.onTab,t=a.onUpArrow,u=a.traceProvider,v=a.viewRole,w=a.inputRef,x=a.xstyles;a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","traceProvider","viewRole","inputRef","xstyles"]);var y=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();y=y.isOpened;var z=c("useCometInternalTypeaheadState")(),A=z.activeEntries;z=z.highlightedEntry;var B=c("useCometInternalTypeaheadFetch")();B=B.isLoading;w=c("useCometTypeaheadInputRefs")(w);var C=w.composedRef;w=w.inputRef;var D=c("useSearchCometGlobalTypeaheadStyles")();x=(x=x)!=null?x:D;D=c("useCometInternalTypeaheadHeroTracing")(u,j);u=D.interactionUUID;j=D.onTracedChange;var E=D.shouldHoldHeroTracing;D=D.vcTrackerRef;g=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")({handlers:{onAbandonTypeahead_DO_NOT_USE:g,onBlur:i,onChange:j,onClick:k,onDownArrow:l,onEnter:m,onEscape:n,onHighlightEntry:o,onOutsideClick:p,onPressEntry:q,onShiftTab:r,onTab:s,onUpArrow:t},inputRef:w});i=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:A,helperText:e,highlightedEntry:z,inputLabel:f,isOpened:y,viewRole:v});return h.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Search_Typeahead",interactionUUID:u,ref:D,children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"SearchInternalTypeahead",hold:E}),h.jsx(c("CometTypeaheadInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},a,g,{extraLayoutProps:{afterViewContent:d,ariaProps:i,beforeViewContent:b,helperTextComponent:null,isLoading:B,isOpened:y},inputRef:C,label:f,viewRole:v,xstyles:x}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SearchCometInterestsDeepDiveExperiments",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("1570865")}g.hasTypeaheadRedirection=a}),98);
__d("searchCometGlobalTypeahead.config",["qex"],(function(a,b,c,d,e,f,g){"use strict";a=8;d={dataSources:{bootstrapKeywordsDataSourceParams:{queryVariables:{first:(b=c("qex")._("156"))!=null?b:2e3}},keywordDataSourceParams:{queryVariables:{fetch_count:a,fetch_mode:"blended"}}},logging:{sessionContext:"SEARCH_GLOBAL"},view:{renderLimit:a,sectionLimits:new Map([["RECENT_SEARCHES",a],["RECENT_SEARCHES_AND_VISIT",a]])}};g["default"]=d}),98);
__d("useSearchCometGlobalTypeaheadCompositeDataSource",["useSearchCometTypeaheadCompositeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h={instance:null};function a(a){a=c("useSearchCometTypeaheadCompositeDataSource")(a);h.instance==null&&(h.instance=a);return h.instance}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry",["Base64","ConstUriUtils","SearchCometInterestsDeepDiveExperiments","SearchCometInterestsDeepDiveUtil","searchCometTypeaheadGetHighConfidenceResult","searchCometTypeaheadGetStsDisambiguation","useSearchCometGlobalSERPRouteUrlBuilder","useSearchCometHashtagRouteUrlBuilder","useSearchCometResultsEntryPointSurface"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useSearchCometGlobalSERPRouteUrlBuilder")(),b=c("useSearchCometHashtagRouteUrlBuilder")(),e=c("useSearchCometResultsEntryPointSurface")();return function(f){var g=f.entry,h=f.queryString;f=f.typeaheadSessionID;var i=g.label.toLowerCase(),j=g.metaData;j=j==null?void 0:j.markers;var k=d("SearchCometInterestsDeepDiveUtil").getHashtagTag(i);if(d("SearchCometInterestsDeepDiveExperiments").hasTypeaheadRedirection()&&k!=null&&!j.has("see_all"))return b({entryPointAction:"SEARCH_BOX",exploreEntryPoint:h===""?3:4,hashtag:k,typeaheadSessionID:f});else{h=g.rawData;k=(k=c("searchCometTypeaheadGetStsDisambiguation")(g))!=null?k:void 0;if(g.subtype==="keyword"&&j.has("disambiguation")){h=(j=(j=h.structuredInfo)==null?void 0:(h=j.disambiguation_result)==null?void 0:h.disambiguation_info_list[0])!=null?j:{};j=h.link_url;if(j!=null){h=d("ConstUriUtils").getUri(j);if(h!=null){j=new Map();e!=null&&j.set("__eps__",e);k!==void 0&&j.set("__stsd__",c("Base64").encode(JSON.stringify(k)));var l=new Map();for(j of j){var m=j[0],n=j[1];l.set(m,n)}m=h.addQueryParams(l);if(m!=null)return m.toString()}}}return a({entryPointAction:"SEARCH_BOX",highConfidenceResult:c("searchCometTypeaheadGetHighConfidenceResult")(g),query:i,stsDisambiguation:k,typeaheadSessionID:f})}}}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps",["gkx","react","useCometRouterDispatcher","useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo;function a(a){var b=a.entry,d=a.queryString,e=c("useCometRouterDispatcher")(),f=c("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry")(),g=i(function(){return f({entry:b,queryString:d})},[f,b,d]);h(function(){e!=null&&c("gkx")("1990285")&&e.preloadRouteCode(g)},[e,g]);return i(function(){return{preloadCodeOnMount:!0,preventLocalNavigation:!0,url:g}},[g])}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadViewStrategy",["fbt","CometGlobalPanelGating","CometSearchTypeaheadBaseViewRecentEmptyState.react","react","searchCometTypeaheadSTSMappings","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps","useSearchCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={view:{backgroundColor:"x1jx94hy",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"x1iofjn4",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},viewGlobalPanel:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x10h3on",$$css:!0}};function a(a){a=a.onHeaderActionPress;var b=j(function(){return[k.view,d("CometGlobalPanelGating").isGlobalPanelVisible()&&k.viewGlobalPanel]},[]),e=j(function(){return i.jsx(c("CometSearchTypeaheadBaseViewRecentEmptyState.react"),{})},[]);return c("useSearchCometTypeaheadViewListStrategy")({additionalEntryMappings:c("searchCometTypeaheadSTSMappings"),emptyStateContent:e,getLinkProps:c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"),isScrollable:!0,onHeaderActionPress:a,seeAllLabelBuilder:l,xstyle:b})}function l(a){return h._("__JHASH__LChIaXBIwAT__JHASH__",[h._implicitParam("=m1",i.jsx("strong",{children:h._("__JHASH__BFbyaDXF_eS__JHASH__",[h._param("query",a)])}))])}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withSearchCometGlobalTypeaheadCleanStateOnEntrySelection",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){return function(b){var c=b.inputRef,d=b.onChange,e=b.onPressEntry,f=b.shouldQueryStringUpdateFromSelectedEntryOnClick;f=f===void 0?!1:f;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onChange","onPressEntry","shouldQueryStringUpdateFromSelectedEntryOnClick"]);var g=i(function(a){var b=a.metaData.markers,c=a.subtype;c=c==="recent"&&b.has("entity")||b.has("direct_nav");d(c?"":a.label);e&&e(a)},[d,e]);return h.jsx(a,babelHelpers["extends"]({},b,{inputRef:c,onChange:d,onPressEntry:g,shouldQueryStringUpdateFromSelectedEntryOnClick:f}))}}g["default"]=a}),98);
__d("withSearchCometGlobalTypeaheadFocusKeyboardShortcut",["cometGetKeyCommandConfig","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometTypeaheadInputRefs","useGlobalKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){return function(b){var e=b.inputRef;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef"]);e=c("useCometTypeaheadInputRefs")(e);var f=e.composedRef,g=e.inputRef;e=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var k=e.dispatchIsOpened,l=i(function(){g.current!=null&&(g.current.focus(),k(!0))},[g,k]);e=j(function(){return[d("cometGetKeyCommandConfig").getCometKeyCommandConfig("global","search",l)]},[l]);c("useGlobalKeyCommands")(e);return h.jsx(a,babelHelpers["extends"]({},b,{inputRef:f}))}}g["default"]=a}),98);
__d("SearchCometGlobalTypeahead.react",["fbt","BaseTypeahead.react","CometErrorBoundary.react","CometGlobalPanelGating","CometTypeaheadErrorFallback.react","FBLogger","QPLUserFlow","QPLUtils","SearchCometGlobalTypeaheadInputStrategy.react","SearchCometGlobalTypeaheadLayoutContextualStrategy.react","SearchCometInterestsDeepDiveExperiments","SearchCometInterestsDeepDiveUtil","SearchCometTypeaheadLoggingContextProvider","emptyFunction","qex","qpl","react","requireDeferred","searchCometGlobalTypeahead.config","unrecoverableViolation","useCometSearchTypeaheadTraceProvider","useCometTypeaheadNavigate","useCometTypeaheadStateQueryString","useSearchCometGlobalSERPRouteUrlBuilder","useSearchCometGlobalTypeaheadCompositeDataSource","useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry","useSearchCometGlobalTypeaheadViewStrategy","useSearchCometHashtagRouteUrlBuilder","useSearchCometRecentSearchDataSource","useSearchCometTypeaheadBootstrapValidation","useSearchCometTypeaheadLoggingProvider","useSearchCometTypeaheadRecentDataSourceContextDecorator","useStable","withSearchCometGlobalTypeaheadCleanStateOnEntrySelection","withSearchCometGlobalTypeaheadFocusKeyboardShortcut","withSearchCometTypeaheadBaseNavigationDecorator","withSearchCometTypeaheadSERPWarmCallDecorator","withSearchCometTypeaheadTraceEndReasonDecorator"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=c("requireDeferred")("ODS").__setRef("SearchCometGlobalTypeahead.react");function a(a){var b=a.autoOpen;b=b===void 0?!1:b;var e=a.inputXStyle,f=a.onClose,g=a.onEscape,q=a.onFocus,r=a.onHeaderActionPress,s=a.onPressEntry,t=a.onSelectFreeformQuery,u=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","inputXStyle","onClose","onEscape","onFocus","onHeaderActionPress","onPressEntry","onSelectFreeformQuery","queryString"]);u=c("useCometTypeaheadStateQueryString")(u);var v=u[0];u=u[1];var w=c("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry")(),x=c("useSearchCometGlobalSERPRouteUrlBuilder")(),y=c("useSearchCometHashtagRouteUrlBuilder")(),z=c("useCometTypeaheadNavigate")({tapPoint:"tap_search_bar"}),A=n(!1),B=c("useSearchCometRecentSearchDataSource")({fetchNullstate:Boolean(c("qex")._("88")),fetchSearchBadge:Boolean(c("qex")._("1272")),filter:"all"}),C=c("useSearchCometGlobalTypeaheadCompositeDataSource")({config:c("searchCometGlobalTypeahead.config"),recentDataSource:B}),D=C.getBootstrapKeywordsDataSource();if(D==null)throw c("unrecoverableViolation")("Bootstrap datasource is missing","search");B=c("useSearchCometTypeaheadBootstrapValidation")({bootstrapDatasource:D});var E=B.validate,F=j(function(a){var b=a.reason,e=a.sessionID;a=a.shownEntries;E(a);b==="success"?c("QPLUserFlow").endSuccess(c("qpl")._(195636649,"5429"),{instanceKey:d("QPLUtils").deriveInstanceKey(e)}):b==="abandon"&&c("QPLUserFlow").endCancel(c("qpl")._(195636649,"5429"),{instanceKey:d("QPLUtils").deriveInstanceKey(e)})},[E]);B=k(d("SearchCometTypeaheadLoggingContextProvider").CometLoggingProviderContext);var G=B.logger,H=B.onSessionStart,I=B.setSessionEndCallback;B=B.traceProvider;var J=G;B=B;var K=c("useSearchCometTypeaheadLoggingProvider")({context:"search_global",onSessionEnd:F});G=c("useCometSearchTypeaheadTraceProvider")(G||K);l(function(){I(F)},[I,F]);if(J==null){J=K;o.onReady(function(a){a.bumpEntityKey(354,"typeahead.missing_logger_context","focused")});throw c("FBLogger")("search").mustfix("Typeahead used without logger in context")}if(B==null){B=G;throw c("FBLogger")("search").mustfix("Typeahead used without traceProvider in context")}var L=c("useSearchCometTypeaheadRecentDataSourceContextDecorator")(C,!1);K=m(function(){return[L,{decorate:c("withSearchCometGlobalTypeaheadFocusKeyboardShortcut")}].filter(Boolean)},[L]);l(function(){C.bootstrap()},[C]);G=j(function(){var a;a=(a=c("qex")._("869"))!=null?a:!1;a&&!A.current&&D.bootstrap();A.current=!0;H();q&&q()},[D,H,q]);var M=j(function(a){var b,c=a.metaData;c=c==null?void 0:c.markers;var d=c!=null&&c.has("entity");c=c!=null&&c.has("direct_nav");b=w({entry:a,queryString:v,typeaheadSessionID:(b=J)==null?void 0:b.getSessionID()});b=p(a,b,d,c);z(b);s==null?void 0:s(a)},[J,z,s,v,w]),N=j(function(a){var b=d("SearchCometInterestsDeepDiveUtil").getHashtagTag(a);if(d("SearchCometInterestsDeepDiveExperiments").hasTypeaheadRedirection()&&b!=null){b=y({entryPointAction:"SEARCH_BOX",exploreEntryPoint:v===""?3:4,hashtag:b,typeaheadSessionID:(b=J)==null?void 0:b.getSessionID()})}else{var c;b=x({entryPointAction:"SEARCH_BOX",query:a,typeaheadSessionID:(c=J)==null?void 0:c.getSessionID()})}z(b);t==null?void 0:t(a)},[y,J,z,t,v,x]),O=j(function(){C.clearQueryCache(),f&&f()},[C,f]),P=c("useStable")(function(){var a;return((a=c("withSearchCometTypeaheadSERPWarmCallDecorator"))!=null?a:c("emptyFunction").thatReturnsArgument)(c("withSearchCometTypeaheadTraceEndReasonDecorator")(c("withSearchCometGlobalTypeaheadCleanStateOnEntrySelection")(c("withSearchCometTypeaheadBaseNavigationDecorator")(c("BaseTypeahead.react")))))}),Q=h._("__JHASH___9EIWdQL4U5__JHASH__"),R=v==="";R=R?"grid":"listbox";return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("CometTypeaheadErrorFallback.react"),{})},children:i.jsx(P,babelHelpers["extends"]({},a,{autoOpen:b,dataSource:C,decorators:K,inputEndContent:a.inputEndContent,inputExtraProps:{hideIconOnFocus:!d("CometGlobalPanelGating").isGlobalPanelVisible(),size:"large",xstyle:e},inputStartContent:a.inputStartContent,inputStrategyRenderer:c("SearchCometGlobalTypeaheadInputStrategy.react"),label:h._("__JHASH__oTSOcwn1bTU__JHASH__"),layoutStrategyRenderer:c("SearchCometGlobalTypeaheadLayoutContextualStrategy.react"),loggingProvider:J,onChange:u,onClose:O,onEscape:g,onFocus:G,onPressEntry:M,onSelectFreeformQuery:N,placeholder:Q,queryString:v,testid:void 0,traceProvider:B,viewRole:R,viewStrategyRenderer:c("useSearchCometGlobalTypeaheadViewStrategy")({onHeaderActionPress:r})}))})}a.displayName=a.name+" [from "+f.id+"]";function p(a,b,c,d){var e=a.rawData,f;if(e!=null&&a.subtype==="recent"&&c){f=e==null?void 0:(c=e.profile)==null?void 0:c.url}if(e!=null&&(a.subtype==="keyword"||a.subtype==="bootstrap"||a.subtype==="recent")&&d){f=e==null?void 0:(c=e.structuredInfo)==null?void 0:(a=c.direct_nav_result)==null?void 0:a.link_url}return(d=f)!=null?d:b}g["default"]=a}),98);
__d("GlobalVideoPortsManager",["addToMap","emptyFunction","gkx","removeFromMap"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(c("gkx")("1594")){var d=a.get(b);d!=null&&(d.portablePlaceContainer=null)}return c("removeFromMap")(a,b)}a=c("emptyFunction");function i(a){return a.unlinkedAtTimestampMs!==null}var j=1e4;b=function(){function a(a){var b=this;this.$1=function(c){var d=function(a){return c(b.$2(a))};a(d)}}var b=a.prototype;b.addOrUpdatePlace=function(a){var b=this,d=a.coreVideoPlayerMetaData,e=a.fullscreenController,f=a.implementations,g=a.injectCoreVideoStatesRef,j=a.isFullscreen,k=a.portablePlaceContainer,l=a.portablePlaceID,m=a.portablePlaceMetaData,n=a.portableVideoID,o=a.renderComponents,p=a.renderPlaceholder,q=a.trackingDataEncrypted,r=a.trackingNodes,s=a.viewportMarginsForViewability;this.$1(function(a){var t,u=b.getPortableVideoState(a,n),v=(t=a.places.get(l))!=null?t:null;t=v!=null&&!i(v)?v.sequenceNumber:a.placesSequenceNumberNext;var w=t===a.placesSequenceNumberNext?a.placesSequenceNumberNext+1:a.placesSequenceNumberNext,x=m||{},y=a.places;if(n!=null){var z=b.getPlacesBorrowingThisVideo(y,n);z.forEach(function(a){i(a)&&a.portablePlaceID!==(v==null?void 0:v.portablePlaceID)&&(y=h(y,a.portablePlaceID))})}y=c("addToMap")(y,l,babelHelpers["extends"]({},v,{coreVideoPlayerMetaData:d,currentVideoID:n,fullscreenController:e,implementations:f,injectCoreVideoStatesRef:g,isFullscreen:j,portablePlaceContainer:k,portablePlaceID:l,portablePlaceMetaData:x,renderComponents:o,renderPlaceholder:(z=p)!=null?z:null,sequenceNumber:t,trackingDataEncrypted:q,trackingNodes:r,unlinkedAtTimestampMs:null,viewportMarginsForViewability:s}));x=v!==null&&n===null?v.currentVideoID:null;z=a.videos;if(x!==null){t=b.getPlacesBorrowingThisVideo(y,x);t=0===t.length;t&&(z=c("removeFromMap")(a.videos,x))}if(n!==null){t=b.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:u,places:a.places,setPreferredPlaceForVideo:!1,updatedPlaces:y,videoID:n});x=t.nextPreviousPlaceMetaData;z=c("addToMap")(z,n,u?babelHelpers["extends"]({},u,{portableVideoID:n,previousPlaceMetaData:x}):{portableVideoID:n,preferredPlaceID:null,previousPlaceMetaData:x})}return y===a.places&&w===a.placesSequenceNumberNext&&z===a.videos?a:babelHelpers["extends"]({},a,{places:y,placesSequenceNumberNext:w,videos:z})})};b.removePlace=function(a){var b=this,d=a.portablePlaceID,e=Date.now();this.$1(function(a){var f;f=(f=a.places.get(d))!=null?f:null;var g=f!==null?f.currentVideoID:null;if(f===null)return a;var i=a.places,j=g!==null?b.skipUnlinkedPlaces(b.getPlacesBorrowingThisVideo(i,g)).filter(function(a){return a.portablePlaceID!==d}):[];g!==null&&j.length===0?i=c("addToMap")(i,d,babelHelpers["extends"]({},f,{unlinkedAtTimestampMs:e})):i=h(i,d);j=a.videos;if(g!==null){f=b.getPlacesBorrowingThisVideo(i,g);f=0===f.length;if(f)j=c("removeFromMap")(j,g);else{f=b.getPortableVideoState(a,g);var k=b.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:f,places:a.places,setPreferredPlaceForVideo:!1,updatedPlaces:i,videoID:g}),l=k.nextPreviousPlaceMetaData;k=k.shouldUpdatePreviousPlaceMetaDataForVideo;f!=null&&k&&(j=c("addToMap")(j,g,babelHelpers["extends"]({},f,{portableVideoID:g,previousPlaceMetaData:l})))}}return i===a.places&&j===a.videos?a:babelHelpers["extends"]({},a,{places:i,videos:j})})};b.setPreferredPlaceForVideo=function(a){var b=this,d=a.portablePlaceID,e=a.portableVideoID;this.$1(function(a){var f=b.getPortableVideoState(a,e),g=d!=null?a.places.get(d):null,h=b.updatePreviousPlaceMetaDataInfoForVideo({existingPlaceStateForSetPreferredPlaceForVideo:g,existingVideoState:f,places:a.places,preferredPlaceID:d,setPreferredPlaceForVideo:!0,updatedPlaces:a.places,videoID:e});h=h.nextPreviousPlaceMetaData;f=f!=null?c("addToMap")(a.videos,e,babelHelpers["extends"]({},f,{preferredPlaceID:g!=null&&d!=null?d:null,previousPlaceMetaData:h})):a.videos;return f===a.videos?a:babelHelpers["extends"]({},a,{videos:f})})};b.getPlacesBorrowingThisVideo=function(a,b){var c=[];a.forEach(function(a){a.currentVideoID===b&&c.push(a)});return c};b.skipUnlinkedPlaces=function(a){return a.filter(function(a){return!i(a)})};b.selectCurrentPlaceFromThesePlaces=function(a,b){var c;a=a.slice().sort(function(a,b){return a.sequenceNumber-b.sequenceNumber});c=(c=a.find(function(a){return a.portablePlaceID===b}))!=null?c:null;a=a.length>0?a[a.length-1]:null;return(c=(c=c)!=null?c:a)!=null?c:null};b.getCurrentPlaceStateForVideo=function(a,b){var c=this.getPortableVideoState(a,b);if(c!=null&&b!=null){a=this.selectCurrentPlaceFromThesePlaces(this.skipUnlinkedPlaces(this.getPlacesBorrowingThisVideo(a.places,b)),c.preferredPlaceID);return(b=a)!=null?b:null}else return null};b.getPortableVideoState=function(a,b){if(b!=null){a=a.videos.get(b);return(b=a)!=null?b:null}return null};b.updatePreviousPlaceMetaDataInfoForVideo=function(a){var b=this,c=a.existingPlaceStateForSetPreferredPlaceForVideo,d=a.existingVideoState,e=a.places,f=a.preferredPlaceID,g=a.setPreferredPlaceForVideo,h=a.updatedPlaces,i=a.videoID;a=function(a,c){return b.selectCurrentPlaceFromThesePlaces(b.skipUnlinkedPlaces(b.getPlacesBorrowingThisVideo(a,i)),(a=c)!=null?a:null)};var j=a(e,d==null?void 0:d.preferredPlaceID);g?g=c!=null?a(e,f):null:g=a(h,d==null?void 0:d.preferredPlaceID);e=j!=null&&(j==null?void 0:j.portablePlaceID)!==((c=g)==null?void 0:c.portablePlaceID);return{nextPreviousPlaceMetaData:e&&j!=null?j.portablePlaceMetaData:(f=d==null?void 0:d.previousPlaceMetaData)!=null?f:null,shouldUpdatePreviousPlaceMetaDataForVideo:e}};b.collectGarbage=function(){this.$1(function(a){return a})};b.$2=function(a){var b=Date.now(),d=new Set(),e=a.places;a.places.forEach(function(a){a.unlinkedAtTimestampMs!==null&&b-a.unlinkedAtTimestampMs>=j?e=h(e,a.portablePlaceID):a.currentVideoID!==null&&d.add(a.currentVideoID)});var f=a.videos;a.videos.forEach(function(a){d.has(a.portableVideoID)||(f=c("removeFromMap")(f,a.portableVideoID))});return e===a.places&&f===a.videos?a:babelHelpers["extends"]({},a,{places:e,videos:f})};return a}();g.isUnlinkedGlobalVideoPortsPlace=i;g.UNLINKED_PLACE_TIMEOUT_MS=j;g.GlobalVideoPortsManager=b}),98);
__d("GlobalVideoPortsPortalerErrorBoundary.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={errorRaw:null},c.suppressReactDefaultErrorLogging=!0,b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromError=function(a){return{errorRaw:a}};var c=b.prototype;c.componentDidCatch=function(a,b){b=this.props.onError;b!=null&&b(a)};c.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.errorRaw;return c!=null?typeof a==="function"?a(b):a:b};return b}(a.PureComponent);g["default"]=b}),98);
__d("GlobalVideoPortsPortaler.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsPortalerErrorBoundary.react","GlobalVideoPortsRenderers.react","ReactDOMComet","emptyFunction","equalsSet","gkx","react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useEffect,j=e.useRef,k=e.useState;function a(a,b,d,e,f){var g=j(null);i(function(){var h,i=g.current;h=new Set((h=a.map(function(a){return a.portablePlaceID}))!=null?h:[]);if(i==null||!c("equalsSet")(i,h)){g.current=h;i=b.current;h=d.current;i!=null&&e(i);h!=null&&f(h)}})}var l=c("gkx")("52")?a:c("emptyFunction");function b(a){var b=a.globalVideoPortsManager,e=a.globalVideoPortsState,f=a.thisVideoID;a=k(function(){return d("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var g=a[0],i=j(null),m=c("useUnsafeRef_DEPRECATED")(null),n=(a=e.videos.get(f))!=null?a:null,o=b.getPlacesBorrowingThisVideo(e.places,f);a=o.length<=0;e=a?null:b.selectCurrentPlaceFromThesePlaces(o,n?n.preferredPlaceID:null);var p=a?null:b.selectCurrentPlaceFromThesePlaces(b.skipUnlinkedPlaces(o),n?n.preferredPlaceID:null);b=function(a){m.current=a,o.forEach(function(b){b=b.injectCoreVideoStatesRef.current;b&&b(i.current,a)})};var q=function(){return null},r=function(a){i.current=a,o.forEach(function(a){a=a.injectCoreVideoStatesRef.current;a&&a(i.current,m.current)})};l(o,m,i,b,r);return a?null:h.jsxs(h.Fragment,{children:[d("ReactDOMComet").createPortal(e?h.jsx(c("GlobalVideoPortsPortalerErrorBoundary.react"),{description:"GlobalVideoPortsPortaler",fallback:q,onError:r,children:h.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlayerRenderer,{coreVideoPlayerMetaData:e.coreVideoPlayerMetaData,currentPlaceID:e.portablePlaceID,currentVideoID:f,fullscreenController:e.fullscreenController,implementations:e.implementations,isFullscreen:e.isFullscreen,onCoreVideoStatesChanged:b,previousPlaceMetaData:(a=n==null?void 0:n.previousPlaceMetaData)!=null?a:null,trackingDataEncrypted:e.trackingDataEncrypted,trackingNodes:e.trackingNodes,viewportMarginsForViewability:e.viewportMarginsForViewability})}):null,g),o.map(function(a){var b;return d("ReactDOMComet").createPortal(a.portablePlaceID===(p==null?void 0:p.portablePlaceID)?h.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:g}):h.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:(b=p==null?void 0:p.portablePlaceID)!=null?b:null,currentVideoID:f,previousPlaceMetaData:(b=n==null?void 0:n.previousPlaceMetaData)!=null?b:null,renderPlaceholder:a.renderPlaceholder,thisPlaceID:a.portablePlaceID,videoPixelsAspectRatio:(b=a.coreVideoPlayerMetaData.videoPixelsAspectRatio)!=null?b:null}),a.portablePlaceContainer)})]})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("GlobalVideoPortsImpl.react",["CometErrorBoundary.react","GlobalVideoPortsContexts","GlobalVideoPortsManager","GlobalVideoPortsPortaler.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.setGlobalVideoPortsManager;i(function(){var a=function(a){return new(d("GlobalVideoPortsManager").GlobalVideoPortsManager)(a)};b(a)},[b]);var e=[],f=d("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),g=d("GlobalVideoPortsContexts").useGlobalVideoPortsState();f&&g&&g.videos.forEach(function(a,b){e.push(h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("GlobalVideoPortsPortaler.react"),{globalVideoPortsManager:f,globalVideoPortsState:g,thisVideoID:b})},b))});return h.jsx(h.Fragment,{children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("maybeRemoveElement",["gkx","queueRemovableDOMElements"],(function(a,b,c,d,e,f,g){"use strict";function h(a){c("gkx")("3538")&&a.remove()}function a(a){if(a!=null){var b=document.querySelectorAll('link[rel="preload"][as="script"][href="'+a.src+'"]');b.forEach(h);h(a)}}function b(a){h(a)}function e(){var a=[].concat(d("queueRemovableDOMElements").getCurrentQueue());d("queueRemovableDOMElements").clearQueue();a.forEach(h)}g.maybeRemoveScriptLoadingElement=a;g.maybeRemoveServerJSScriptElement=b;g.maybeRemoveElementInit=e}),98);/*FB_PKG_DELIM*/
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSLocalizedStrings",["fbt"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){default:return""}};b=a;g["default"]=b}),98);
__d("LSLocalizedStringsV2",["fbt","bs_caml_int64"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){case"2285622730":return h._("__JHASH__bHf-pjjpSrh__JHASH__");case"1919524925":return h._("__JHASH__g2TuGL7kp7W__JHASH__");case"14617150":return h._("__JHASH__KN5FuK9HL68__JHASH__");case"460740012":return h._("__JHASH__PmrYWcLl7s-__JHASH__");case"2353844300":return h._("__JHASH__U3_S6m-Asci__JHASH__");case"2375715979":return h._("__JHASH__wwqS06IKURT__JHASH__");case"3810165735":return h._("__JHASH___xK_oqrbVu3__JHASH__",[h._param("user_name",b(0))]);case"1890485478":return h._("__JHASH__r5f8SC2OUWe__JHASH__");case"1299547062":return h._("__JHASH__UxIyHnrkGvQ__JHASH__");case"3621454483":return h._("__JHASH__6CXDyy4pKod__JHASH__",[h._param("user_name",b(0))]);case"3948960063":return h._("__JHASH__4jXDffqGKxc__JHASH__");case"1249692047":return h._("__JHASH__XuMb0GRtMp2__JHASH__",[h._param("user_name",b(0))]);case"2106510577":return h._("__JHASH__adFbSa44M9G__JHASH__");case"3960370133":return h._("__JHASH__WRQpot61Zha__JHASH__",[h._param("user_name",b(0))]);case"3798396796":return h._("__JHASH__AKC6gu2oXen__JHASH__",[h._param("app_name",b(0))]);case"3388601579":return h._("__JHASH__LLEsQ4Y9-C7__JHASH__",[h._param("user_name",b(0)),h._param("app_name",b(1))]);case"1556712457":return h._("__JHASH__pQsKY3JdghI__JHASH__");case"3601791933":return h._("__JHASH__VzXmY6Nofoo__JHASH__",[h._param("user_name",b(0))]);case"3759817031":return h._("__JHASH__C6rFQy3ZqgT__JHASH__");case"2934729541":return h._("__JHASH__5sq-yY8-PHO__JHASH__",[h._param("user_name",b(0))]);case"392493418":return h._("__JHASH__Y9RNnaq--9C__JHASH__");case"4085467454":return h._("__JHASH__Tf8KEtj2NUW__JHASH__",[h._param("user_name",b(0))]);case"2738683656":return h._("__JHASH__VTdyPQ7H4GZ__JHASH__");case"2996525642":return h._("__JHASH__YPG0HYdjvfW__JHASH__",[h._param("user_name",b(0))]);case"2326868239":return h._("__JHASH__j-o8KFpMPxd__JHASH__");case"1001986796":return h._("__JHASH__zsY9ES-V3Ko__JHASH__",[h._param("user_name",b(0))]);case"2285746939":return h._("__JHASH__8PT2JtdeJx9__JHASH__");case"3759448420":return h._("__JHASH__H7eOZ8S6YOP__JHASH__",[h._param("user_name",b(0))]);case"3719716921":return h._("__JHASH__qiicOieyAHd__JHASH__");case"284944921":return h._("__JHASH__TkSIon2AHjf__JHASH__",[h._param("user_name",b(0))]);case"3322002377":return h._("__JHASH__hs-XIkGvPGM__JHASH__",[h._param("user_name",b(0))]);case"2486550278":return h._("__JHASH__78NZ4EbNix1__JHASH__");case"3557790945":return h._("__JHASH__9P29njYEtVJ__JHASH__");case"3756846086":return h._("__JHASH__HqUxJ78yQEs__JHASH__",[h._param("user_name",b(0))]);case"780378803":return h._("__JHASH__4RDpwDU2bxj__JHASH__");case"3918212613":return h._("__JHASH__sfM4caXMU8x__JHASH__",[h._param("user_name",b(0))]);case"3161890215":return h._("__JHASH__rMpUt8zHstd__JHASH__");case"863428456":return h._("__JHASH__ZqoJBBTdmfd__JHASH__",[h._param("user_name",b(0))]);case"2716405471":return h._("__JHASH__3bEfkOlWqZQ__JHASH__");case"3909474073":return h._("__JHASH__0LAhbzE2305__JHASH__",[h._param("user_name",b(0))]);case"1522141193":return h._("__JHASH__Xv5h5VWZ1z-__JHASH__");case"2804766375":return h._("__JHASH__iwXmJRLI5oQ__JHASH__",[h._param("user_name",b(0))]);case"772459202":return h._("__JHASH__da1hGBDyrc0__JHASH__");case"3546068912":return h._("__JHASH__eB3RT9ZRPNU__JHASH__",[h._param("user_name",b(0))]);case"2459540079":return h._("__JHASH__uVYFUqdjsDk__JHASH__");case"1596311291":return h._("__JHASH__JNmnqH9YpVN__JHASH__",[h._param("user_name",b(0))]);case"2253698324":return h._("__JHASH__cjVmAaYlDK5__JHASH__");case"4269602817":return h._("__JHASH__tgAN3WazCx7__JHASH__",[h._param("user_name",b(0))]);case"1739999037":return h._("__JHASH__LG-CVe6YeL2__JHASH__");case"3373597599":return h._("__JHASH__XSfhGJMwPL8__JHASH__");case"259473449":return h._("__JHASH__qL_GOsBRgrZ__JHASH__",[h._param("user_name",b(0))]);case"1338912959":return h._("__JHASH__LrXrY17Mwwh__JHASH__",[h._param("user_name",b(0))]);case"812940701":return h._("__JHASH__NEO9buPurkr__JHASH__",[h._param("user_name",b(0))]);case"1099878966":return h._("__JHASH__Qho_g3FF8mq__JHASH__",[h._param("user_name",b(0))]);case"3443782102":return h._("__JHASH__Xxt66o3iPYX__JHASH__");case"618905030":return h._("__JHASH__v6KFXcykdOt__JHASH__");case"2470414797":return h._("__JHASH__0oa3QgNUtA3__JHASH__");case"1306024833":return h._("__JHASH__ypexge-6NRA__JHASH__");case"2135145355":return h._("__JHASH__woc-8KLy7zj__JHASH__");case"3603511704":return h._("__JHASH__--XUHiOY0Z1__JHASH__",[h._param("user_name",b(0))]);case"705614308":return h._("__JHASH__vsnRcMCSSFJ__JHASH__",[h._plural(c("bs_caml_int64").to_float(b(0)),"number")]);case"313217698":return h._("__JHASH__rG1E-FG-TxB__JHASH__",[h._plural(c("bs_caml_int64").to_float(b(1)),"number"),h._param("user_name",b(0))]);case"3558654267":return h._("__JHASH___H0KEIF4aGq__JHASH__");case"3422266740":return h._("__JHASH__F5OxWfUB9Dy__JHASH__",[h._param("user_name",b(0))]);case"3307909120":return h._("__JHASH__YRCmoad58uJ__JHASH__");case"845728829":return h._("__JHASH___8aETeHXtHr__JHASH__");case"2022991544":return h._("__JHASH__byni3VHMHc8__JHASH__");case"4285882723":return h._("__JHASH__ga21xjHrnrP__JHASH__");case"3089015955":return h._("__JHASH__Q_LYP_ZLQTd__JHASH__");case"2662271323":return h._("__JHASH__JBe8j08K09-__JHASH__");case"2421884758":return h._("__JHASH__6vTlb2bku1-__JHASH__");case"2676961947":return h._("__JHASH__TK1WqTTq979__JHASH__",[h._param("participant_name",b(0))]);case"3298086032":return h._("__JHASH__AI6Z85qZOTl__JHASH__",[h._param("sender_name",b(0))]);case"3873263038":return h._("__JHASH__1Mq5qyIkjxC__JHASH__",[h._param("sender_name",b(0))]);case"2616853333":return h._("__JHASH__Jm7dkp7Q46M__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"4002265907":return h._("__JHASH__YfSaJhpdv0H__JHASH__");case"2663996736":return h._("__JHASH__rouMYaFboPj__JHASH__",[h._param("participant_name",b(0))]);case"2868699317":return h._("__JHASH__gln0mR6BSos__JHASH__",[h._param("sender_name",b(0))]);case"2688620547":return h._("__JHASH__xBthZSMLrSR__JHASH__",[h._param("sender_name",b(0))]);case"3544071775":return h._("__JHASH__Bfn4BTqFbTw__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"2352696798":return h._("__JHASH__4w1HQhVySfH__JHASH__");default:return""}};b=a;g["default"]=b}),98);
__d("LSVersion",[],(function(a,b,c,d,e,f){e.exports="4817340841724416"}),null);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?d:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSDeleteThenInsertContact",["LSSetThreadImageURL"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.i64.eq(a[23],[0,39423])?d[0]=[0,1]:(c.i64.eq(a[23],[0,14342874])?d[1]=[0,2]:d[1]=f,d[0]=d[1]),c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])&&c.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[46],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:d[0],contactViewerRelationship:a[39],gender:a[40],contactReachabilityStatusType:a[43],restrictionType:a[44],waConnectStatus:a[45]}):0})},function(d){return c.sp(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.seq([function(d){return c[0]=e.queueName,b.fe(b.db.table(2).fetch([[[c[0],{lte:a[0]}]],"queueNameTaskId"]),function(a){a.item;return 0})},function(d){return b.fe(b.db.table(2).fetch([[[c[0],{lte:a[0]}]],"queueNameTaskId"]),function(a){return a["delete"]()})}]))})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.fe(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSIssueMessagesRangeQuery",["LSGetCursor","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[2]=c.i64.eq(a[2],[-1,4294967295])?[0,0]:a[2],c.islc(c.ftr(c.db.table(13).fetchDesc([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&(c.i64.eq(b.minTimestampMs,f)||c.i64.le(b.minTimestampMs,a[1]))}),0,c.i64.to_float([0,1])).next().then(function(e,g){var h=e.done;e=e.value;return h?d[0]=!1:(g=e.item,c.seq([function(e){return d[5]=g.threadKey,d[6]=[0,0],d[7]=g.minTimestampMs,d[8]=g.minMessageId,c.i64.eq(d[2],[0,1])?d[3]=!g.isLoadingAfter:d[3]=!g.isLoadingBefore,d[3]?c.seq([function(e){return c.i64.eq(d[2],[0,1])?d[9]=g.hasMoreAfter:d[9]=g.hasMoreBefore,d[9]?c.seq([function(a){return c.i64.eq(d[2],[0,1])?c.seq([function(a){return c.fe(c.ftr(c.db.table(13).fetch([[[d[5],d[7],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq([0,0],d[6])&&c.i64.eq(a.minTimestampMs,d[7])&&a.minMessageId===d[8]}),function(a){var b=a.update;a.item;return b({isLoadingAfter:!0})})},function(a){return a=[g.maxTimestampMs,g.maxMessageId],d[10]=a[0],d[11]=a[1],a}]):c.seq([function(a){return c.fe(c.ftr(c.db.table(13).fetch([[[d[5],d[7],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq([0,0],d[6])&&c.i64.eq(a.minTimestampMs,d[7])&&a.minMessageId===d[8]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})})},function(a){return a=[d[7],d[8]],d[10]=a[0],d[11]=a[1],a}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[12]=[0,1]:(e=b.item,d[19]=e.syncGroup,c.i64.neq(d[19],f)?d[18]=d[19]:d[18]=[0,1],d[12]=d[18])})},function(a){return c.sp(b("LSGetCursor"),d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(e){return d[15]=new c.Map(),d[15].set("thread_key",a[0]),d[15].set("direction",d[2]),d[15].set("reference_timestamp_ms",d[10]),d[15].set("reference_message_id",d[11]),d[15].set("sync_group",d[12]),d[15].set("cursor",d[14]),d[16]=d[15].get("thread_key"),d[15],d[17]=c.toJSON(d[15]),c.sp(b("LSIssueNewTask"),"mrq.{}".split("{}").join(c.i64.to_string(d[16])),[0,228],d[17],f,f,[0,0],[0,0],f,f,[0,0])}]):c.resolve()},function(a){return d[4]=!0}]):c.resolve(d[4]=!1)},function(a){return d[0]=d[4]}]))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return[[0,7],[0,8],[0,13],[0,10],[0,11],[0,16]].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!0,!0,!1],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,d[10]=e.authorityLevel,e.folderName==="other"?(f=[!0,!1,!1],d[7]=f[0],d[8]=f[1],d[9]=f[2],f):(c.i64.ge(d[10],a[4])||c.i64.eq(d[10],[0,20])&&(c.i64.eq(a[1],[0,2])||[[0,23],[0,21],[0,18]].some(function(b){return c.i64.eq(a[1],b)}))?(b=[!1,!1,!1],d[11]=b[0],d[12]=b[1],d[13]=b[2],b):(e=[!0,!1,!0],d[11]=e[0],d[12]=e[1],d[13]=e[2],e),f=[d[11],d[12],d[13]],d[7]=f[0],d[8]=f[1],d[9]=f[2],f),b=[d[7],d[8],d[9]],d[3]=b[0],d[4]=b[1],d[5]=b[2],b)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set("thread_fbid",a[0]),d[3].set("force_upsert",a[5]),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",a[6]),d[3].set("metadata_only",a[7]),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),[0,209],d[5],f,f,[0,0],[0,0],f,f,[0,0])):c.resolve()},function(e){return d[1]?c.seq([function(b){return d[3]=[64,1083495711],d[4]=[0,0],d[5]=[0,0],c.fe(c.ftr(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:[0,0],threadType:a[1],folderName:a[2],lastReadWatermarkTimestampMs:[0,0],removeWatermarkTimestampMs:[-1,4294967295],ongoingCallState:[0,0],parentThreadKey:a[3],authorityLevel:a[4],capabilities:d[3],capabilities2:d[4],capabilities3:d[5],unsendLimitMs:[-1,4294967295]})},function(e){return c.i64.eq(a[1],[0,1])?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:a[0],readWatermarkTimestampMs:[0,0],deliveredWatermarkTimestampMs:[0,0],authorityLevel:a[4],isModerator:!1})},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[6]=a[0],a})},function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[6])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:d[6],readWatermarkTimestampMs:[0,0],deliveredWatermarkTimestampMs:[0,0],authorityLevel:a[4],isModerator:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.fe(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSVerifyThreadExists",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[];return c.seq([function(d){return c.sp(b("LSVerifyThreadExistsV2"),a[0],a[1],a[2],a[3],a[4],!1,a[5],!1)},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[];return c.seq([function(d){return c.sp(b("LSVerifyThreadExists"),a[0],a[1]==null?[0,1]:a[1],"inbox",[0,0],[0,40],a[2])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("MWChatOpenSecureTabForUserCallback.bs",["bs_curry","cr:614"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d,e){if(!(b("cr:614")==null))return c("bs_curry")._3(b("cr:614").openChatTab,a,d,e)}g.openChatTab=a}),98);
__d("LSDatabaseType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,18],u=[0,19],v=[0,20],w=[0,21],x=[0,22],y=[0,23],z=[0,24],A=[0,25],B=[0,26],C=[0,27],D=[0,28],E=[0,29],F=[0,30],G=[0,31],H=[0,32],I=[0,33],J=[0,34],K=[0,35],L=[0,36],M=[0,37],N=[0,38],O=[0,39],P=[0,40],Q=[0,41],R=[0,42],S=[0,43],T=[0,44],U=[0,45],V=[0,46],W=[0,47],X=[0,48],Y=[0,49],Z=[0,50],$=[0,51],aa=[0,52],ba=[0,53],ca=[0,54],da=[0,55],ea=[0,56],fa=[0,57],ga=[0,59],ha=[0,60],ia=[0,61],ja=[0,62],ka=[0,63],la=[0,64],ma=[0,65],na=[0,66],oa=[0,67],pa=[0,68],qa=[0,69],ra=[0,70],sa=[0,71],ta=[0,72],ua=[0,73],va=[0,74],wa=[0,75],xa=[0,76],ya=[0,77],za=[0,78],Aa=[0,79],Ba=[0,80],Ca=[0,81],Da=[0,82],Ea=[0,84],Fa=[0,85],Ga=[0,86],Ha=[0,87],Ia=[0,88],Ja=[0,89],Ka=[0,90],La=[0,91],Ma=[0,92],Na=[0,93],Oa=[0,94],Pa=[0,95],Qa=[0,96],Ra=[0,97],Sa=[0,98],Ta=[0,99],Ua=[0,100],Va=[0,101],Wa=[0,102],Xa=[0,103],Ya=[0,104],Za=[0,105],$a=[0,106],ab=[0,107],bb=[0,108],cb=[0,109],db=[0,110],eb=[0,111],fb=[0,112],gb=[0,113],hb=[0,114],ib=[0,115],jb=[0,116],kb=[0,117],lb=[0,118],mb=[0,119],nb=[0,120],ob=[0,121],pb=[0,122],qb=[0,123],rb=[0,124],sb=[0,125],tb=[0,126],ub=[0,127],vb=[0,128],wb=[0,129],xb=[0,130],yb=[0,131],zb=[0,132],Ab=[0,133],Bb=[0,134],Cb=[0,135],Db=[0,136],Eb=[0,137],Fb=[0,138],Gb=[0,139],Hb=[0,140],Ib=[0,141],Jb=[0,142],Kb=[0,143],Lb=[0,144],Mb=[0,145],Nb=[0,146],Ob=[0,147],Pb=[0,148],Qb=[0,149],Rb=[0,150],Sb=[0,151],Tb=[0,152],Ub=[0,153],Vb=[0,154],Wb=[0,155],Xb=[0,156],Yb=[0,157],Zb=[0,158],$b=[0,159],ac=[0,160],bc=[0,161],cc=[0,162],dc=[0,163],ec=[0,164],fc=[0,165],gc=[0,166],hc=[0,167],ic=[0,168],jc=[0,169],kc=[0,170],lc=[0,171],mc=[0,172],nc=[0,173],oc=[0,174],pc=[0,175],qc=[0,176],rc=[0,177],sc=[0,178],tc=[0,179],uc=[0,180],vc=[0,181],wc=[0,182],xc=[0,183],yc=[0,184],zc=[0,185],Ac=[0,186],Bc=[0,187],Cc=[0,188],Dc=[0,189],Ec=[0,190],Fc=[0,191],Gc=[0,192],Hc=[0,193],Ic=[0,194];f.test=a;f.mailbox=c;f.contact=d;f.appAlerts=e;f.core=b;f.stories=g;f.presence=h;f.ranking=i;f.experiment=j;f.search=k;f.securemailbox=l;f.inboxAds=m;f.sticker=n;f.omnistoreRevisionTest=o;f.frx=p;f.payments=q;f.settings=r;f.gif=s;f.arEffects=t;f.platformExtensionSdk=u;f.businessTab=v;f.composerMenus=w;f.experimentalContactPhoneNumber=x;f.forwardContents=y;f.typing=z;f.qp=A;f.inthreadbanner=B;f.logSampling=C;f.threadTheme=D;f.mediaSend=E;f.contactUpload=F;f.aloha=G;f.omnistoreSimpleTest=H;f.booking=I;f.oneTimeSyncTest=J;f.threadEmoji=K;f.universalLinks=L;f.counters=M;f.emptyTest=N;f.accountSettings=O;f.videoChatLink=P;f.zeroRating=Q;f.connectivity=R;f.switchAccountBadging=S;f.emergencyPoll=T;f.cowatch=U;f.switchAccountProfiles=V;f.$$location=W;f.syncWatchdog=X;f.bloks=Y;f.mediaEditing=Z;f.pushNotifications=$;f.switchAccountBadgingRealtime=aa;f.dasmDebug=ba;f.testTwo=ca;f.dataTrace=da;f.mediaSharing=ea;f.pluginExtensions=fa;f.localUserSettings=ga;f.groups=ha;f.dabl=ia;f.linkedGroups=ja;f.fxcal=ka;f.rooms=la;f.proactiveWarnings=ma;f.messagingAds=na;f.supportInbox=oa;f.coreClient=pa;f.threadCoPresence=qa;f.marketplace=ra;f.carrierMessaging=sa;f.notificationsClient=ta;f.cat=ua;f.composerSettings=va;f.groupThreadImage=wa;f.coplayMetadata=xa;f.searchUserGroups=ya;f.tutorial=za;f.paidAds=Aa;f.avatarsCoPresence=Ba;f.graphql=Ca;f.transcribe=Da;f.ixtServerTrigger=Ea;f.novi=Fa;f.testFramework=Ga;f.broker=Ha;f.openMessenger=Ia;f.anonymousCredentials=Ja;f.mlModel=Ka;f.localAuth=La;f.soundBite=Ma;f.encryptedBackups=Na;f.businessOrderManagement=Oa;f.e2eeMessagingMetadataMailbox=Pa;f.communitiesMailbox=Qa;f.mostLikelyToPollQuestions=Ra;f.breakoutSessions=Sa;f.messagingNotificationConfigs=Ta;f.sandboxSelector=Ua;f.gamesBotThread=Va;f.atcDaemon=Wa;f.coPresence=Xa;f.communityExclusive=Ya;f.clientOnlySample=Za;f.urlBlackhole=$a;f.sharing=ab;f.encryptedBackupsVersioning=bb;f.rpPolls=cb;f.everythingTogether=db;f.immersiveModesSpaces=eb;f.inAppPurchaseKit=fb;f.decentralizedTypes=gb;f.armadilloDevice=hb;f.staticEntryPoint=ib;f.giphyCategory=jb;f.communityMessagingPresence=kb;f.reactionsV2=lb;f.threadSubscription=mb;f.communityMessagingSearch=nb;f.communityMessagingDiscovery=ob;f.communityMessagingTrending=pb;f.widget=qb;f.messengerCallsTab=rb;f.botSuggestions=sb;f.testThree=tb;f.unifiedBusinessInboxIgdMailbox=ub;f.testOmnistoreBatchable=vb;f.contentExplorer=wb;f.unifiedBusinessInboxWaMailbox=xb;f.lsStoriesParticipantSettingsV2=yb;f.lsFeatureLimits=zb;f.lsUniversalUserPrefs=Ab;f.step=Bb;f.workroomsCoPresence=Cb;f.dummyDoNotUse=Db;f.tam=Eb;f.kfc=Fb;f.cmCategoryList=Gb;f.cmChannelList=Hb;f.cmCommunityList=Ib;f.cmFbEvents=Jb;f.cmCategoryListV2=Kb;f.act=Lb;f.familyCenterSupervision=Mb;f.highlightsTab=Nb;f.dogfoodingAssistant=Ob;f.encryptedBackupsEpochStateTrigger=Pb;f.pushToPoll=Qb;f.presenceSettings=Rb;f.pinnedThreads=Sb;f.rtcCallTransferringState=Tb;f.rtcCallEvents=Ub;f.reachabilitySettings=Vb;f.publicChatFbEvents=Wb;f.persistentMenuItems=Xb;f.storiesSettingsV2=Yb;f.selfProfile=Zb;f.notificationSettings=$b;f.threadLimits=ac;f.messengerShoppingCart=bc;f.workplaceStatusRecurring=cc;f.messagingSettings=dc;f.ixtTrigger=ec;f.gdprSettings=fc;f.familyExperiences=gc;f.epdCookieSettings=hc;f.encryptedBackupsStatusTrigger=ic;f.cowatchSessions=jc;f.contactSharingSettings=kc;f.callsTabCallReminders=lc;f.businessSayt=mc;f.businessSavedReplies=nc;f.businessCatalogProducts=oc;f.threadActionSystemStatus=pc;f.biimPageAdminSettings=qc;f.biimOrderUpsell=rc;f.activeStatusSettings=sc;f.workplaceStatusSingleEvents=tc;f.customStatusViewerCount=uc;f.threadLabels=vc;f.secureConsentFrameworkSettings=wc;f.privacyFlowTrigger=xc;f.customStatusLikeReactions=yc;f.colorFilterSettings=zc;f.businessSupportCaseDetails=Ac;f.avatarsData=Bc;f.avatarQuickReactions=Cc;f.avatarGlyphs=Dc;f.autoLoginEligibilityCheck=Ec;f.arEffectPrivacySettings=Fc;f.messagingAdsUpsell=Gc;f.workrooms=Hc;f.encryptedBackupsPakeMessages=Ic}),null);
__d("LSVec",[],(function(a,b,c,d,e,f){"use strict";var g={tag:{value:"ls-array"}};function h(a){return Object.defineProperties([].concat(a),g)}function a(a){return h(a)}function b(a){return Array.from(a)}c={from:h,make:a,toArray:b};f["default"]=c}),66);
__d("LSDict",["LSVec","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.size=0;var b=new Map(Array.from(a||[]).map(function(a){var b=a[0];a=a[1];return b==null?null:[JSON.stringify(b),a]}).filter(Boolean));this.$1=b;Object.defineProperties(this,{size:{get:function(){return b.size}}})}var b=a.prototype;b.get=function(a){return a==null?void 0:this.$1.get(JSON.stringify(a))};b.set=function(a,b){if(a==null)return this;this.$1.set(JSON.stringify(a),b);return this};b["delete"]=function(a){return a==null?!1:this.$1["delete"](JSON.stringify(a))};b.clear=function(){return this.$1.clear()};b.forEach=function(a){var b=this;this.$1.forEach(function(c,d){return a(c,JSON.parse(d),b)})};b.has=function(a){return a==null?!1:this.$1.has(JSON.stringify(a))};b.entries=function*(){for(var a of this.$1.entries()){var b=a[0],c=a[1];yield [JSON.parse(b),c]}};b.keys=function(){return c("LSVec").from(Array.from(this.$1.keys()).map(function(a){return JSON.parse(a)}))};b.values=function(){return this.$1.values()};a.fromObject=function(b){return new a(Object.entries(b))};a.shapeToRecord=function(a){return Array.from(a.entries()).reduce(function(a,b){var d=b[0];b=b[1];if(typeof d!=="string")throw c("unrecoverableViolation")("Cannot convert dicts with mixed keys to records","messenger_web_product");return babelHelpers["extends"]({},a,(a={},a[d]=b,a))},{})};return a}();g["default"]=a}),98);
__d("LSIterationHelpers",["FBLogger","LSDbKeyComparer","LSDict","ReStoreVaulting","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=[];while(a!==0)b.push(a.hd),a=a.tl;return b}function i(a){return a.reduceRight(function(a,b){return{hd:b,tl:a}},0)}function j(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=async function(){var a=await e.next();outer:while(!a.done){var f=async function(f){var g=b[f]||{},j=g.end;g=g.start;var k=h(a.value[0]),l=k.slice(0,f);if(g){var m=d("LSDbKeyComparer").compareValue(k[f],g[0]);if(m*(c==="asc"?1:-1)<g[1]){if(f===k.length-1&&m===0)a=await e.next();else{m=[].concat(l,[g[0]],g[1]&&c==="asc"||!g[1]&&c==="desc"?[d("LSDbKeyComparer").MAX_KEY]:[]);a=await e.next(i(m))}if(a.done)return{v:{done:!0}};k=h(a.value[0]);if(!l.every(function(b,a){return d("LSDbKeyComparer").compareValue(b,k[a])===0}))return"continue|outer"}}if(j&&d("LSDbKeyComparer").compareValue(j[0],k[f])*(c==="asc"?1:-1)<j[1]){a=await e.next(i([].concat(k.slice(0,f),c==="asc"?[d("LSDbKeyComparer").MAX_KEY]:[])));return"continue|outer"}};for(var g=0;g<b.length;g++){var j=await f(g);switch(j){case"continue|outer":continue outer;default:if(typeof j==="object")return j.v}}break}return a},a}return f()}function k(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=k.bind(null,a,b),c.next=async function(){var c=await a.next();while(!c.done&&!await b(c.value.item))c=await a.next();return c},c}function l(a,b,d){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=l.bind(null,a,b,d),e.next=async function(){while(f<b){var e=await a.next();e=e.done;if(e){c("FBLogger")("messenger_web_product").info("not enough iterable values to slice from %d",b);return{done:!0}}f++}if(f<d){f++;return a.next()}return{done:!0}},e}async function a(a,b){var c=await a.next(),d=[];while(!c.done)d.push(c.value),c=await a.next();for(c of d)await b(c)}async function m(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function b(a,b,c){c===void 0&&(c=[]);var e={ASC:1,DESC:-1},f=function(a,c){a=a.item;c=c.item;for(var f=0;f<b.length;f++){var g=b[f];g=g[0];var h=a[g];g=c[g];var i;h===void 0&&g===void 0?i=0:h===void 0&&g!==void 0?i=-1:h!==void 0&&g===void 0?i=1:i=d("LSDbKeyComparer").compareValue(h,g);if(i===0)continue;return i*e[b[f][1]]}return 0},g=function(){var b=babelHelpers.wrapAsyncGenerator(function*(){var b=(yield babelHelpers.awaitAsyncGenerator(a.next())),e,g=[];while(!b.done){var h=0;for(var i=c.length-1;i>=0;i--)h={hd:b.value.item[c[i]],tl:h};if(e!==void 0&&d("LSDbKeyComparer").compareKey(e,h)!==0){for(i of g.sort(f))yield i;g=[]}b.done||g.push(b.value);e=h;b=(yield babelHelpers.awaitAsyncGenerator(a.next()))}if(g.length)for(i of g.sort(f))yield i});return function(){return b.apply(this,arguments)}}();return g()}async function e(a){var b=0,d=await a.next();while(!d.done)b++,d=await a.next();return c("bs_caml_int64").of_int32(b)}function f(a,b){return{forEach:async function(d){var e=await m(a);e=e.reduce(function(c,d){d=d.item[b];var a=(c.get(d)||0)+1;return c.set(d,a)},new(c("LSDict"))());for(e of e.entries()){var f,g=e[0],h=e[1];await d((f={},f[b]=g,f.group_count=c("bs_caml_int64").of_int32(h),f))}}}}function n(a,b,c){return{delete:function(){return c.delete(a)},item:b,update:function(d){return c.upsert(a,babelHelpers.extends({},b,d))}}}function o(a,b){return p.apply(this,arguments)}function p(){p=babelHelpers.wrapAsyncGenerator(function*(a,b){var c=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(a.next()));c=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return p.apply(this,arguments)}function q(a,b,c){return r.apply(this,arguments)}function r(){r=babelHelpers.wrapAsyncGenerator(function*(a,b,c){var e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!e.done&&!f.done){var g=d("LSDbKeyComparer").compareKey(e.value[0],f.value[0]);g===0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()))):g*(c==="asc"?1:-1)<0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()))):(yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next())))}while(!e.done)yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!f.done)yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return r.apply(this,arguments)}function s(a,b,c,e,f,g){var h=new Set(),k=a.length>1,l=a.length===1&&a[0][1]===void 0,m=a.map(function(a){var h=a[0],k=a[1];return h.map(function(a){e.key_lookup===!0&&a.length!==0;e.table_scan===!0&&a.length===0;var h=a.map(function(a){return g(a,b)});a=h.length===(k===void 0?c.primaryKeyIds:c.indexes[k]).length&&h.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){a=function a(){var b,e=!1;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,b.next=async function(){if(e)return{done:!0};e=!0;var a=i(h.map(function(a){a=a.start;return a[0]})),b=await (k===void 0?f:f.index(k)).get(a);if(!b)return{done:!0};b=d("ReStoreVaulting").maybeUnvaultDbRow(b,c.name);return{done:!1,value:[a,b]}},b};return a()}return j(k===void 0?f:f.index(k),h,b)})}).flat().reduce(function(c,d){return a.length>1?o(c,d):q(c,d,b)});function p(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=p,a.next=async function(){var a,b,d,e=await m.next();while(!e.done){var g=e.value;b=g[0];d=g[1];a=l?b:c.primaryKeyIds.reduceRight(function(a,b){return{hd:d[b],tl:a}},0);if(k){g=JSON.stringify(a);if(h.has(g)){e=await m.next();continue}h.add(g)}break}return e.done||a===void 0||d===void 0?{done:!0}:{done:!1,value:n(a,d,f)}},a}return p()}g.filter=k;g.slice=l;g.forEach=a;g.toArray=m;g.sortBy=b;g.count=e;g.groupBy=f;g.fetch=s}),98);
__d("LSJson",["LSDict","bs_caml_int64","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=512;function i(a,b,e){b===void 0&&(b=0);e===void 0&&(e="");if(b>h)throw c("unrecoverableViolation")("recursion limit exceeded","messenger_comet");if(typeof a==="string"||typeof a==="number")return JSON.stringify(a);else if(typeof a==="boolean")return a?"1":"0";else if(a===void 0)return"null";else if(typeof a==="object")if(Array.isArray(a))return a.tag==="ls-array"?"["+a.map(function(a,c){return i(a,b+1,e+"/"+c.toString())}).join(",")+"]":d("bs_caml_int64").to_string(a);else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+i(a,b+1,e+"/"+d);else throw c("unrecoverableViolation")("key must be a string","messenger_comet")}).join(",")+"}";throw c("unrecoverableViolation")("type not supported: "+(a===null?"null":typeof a)+", path: "+e,"messenger_comet")}g.stringify=i}),98);
__d("LSLogHistory",["performance"],(function(a,b,c,d,e,f,g){"use strict";var h=[];function a(){return h}function b(){h=[]}function d(a,b){var d;c("performance").timing!=null?d=Math.round(c("performance").timing.navigationStart+c("performance").now()):d=Date.now();h.push([d.toString(),b,"lightspeed_log","lightspeed_log_event",a].join(" | "))}g.getEntries=a;g.clearEntries=b;g.log=d}),98);
__d("LS",["FBLogger","I64","LSDbKeyComparer","LSDict","LSIterationHelpers","LSJson","LSLogHistory","ODS","base64-js","bs_caml","bs_caml_format","bs_caml_int64","cr:3109","emptyFunction","gkx","justknobx","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}var l="LS_WEB";function m(a){return a.name.match(/secure_|inbox(?!_)/i)}var n=babelHelpers.extends({},c("bs_caml_int64"),{eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&c("bs_caml").i64_eq(a,b)},from_string:function(a){try{return c("bs_caml_format").caml_int64_of_string(a)}catch(b){throw c("unrecoverableViolation")('Unable to cast "'+a+'" to int64',"messenger_comet")}},ge:c("bs_caml").i64_ge,gt:c("bs_caml").i64_gt,le:c("bs_caml").i64_le,lt:c("bs_caml").i64_lt,max:c("bs_caml").i64_max,min:c("bs_caml").i64_min,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&c("bs_caml").i64_neq(a,b)},random:function(){var b=a.crypto||a.msCrypto;b=Array.from(b.getRandomValues(new Uint32Array(2)));b[0]>>>=1;return b},to_int32:function(a){return a==null?a:c("bs_caml_int64").to_int32(a)},to_string:function(a){return a==null?a:c("bs_caml_int64").to_string(a)}});function o(a){return c("base64-js").toByteArray(a).buffer}var p={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return p.compareTo(a,b)>=0},gt:function(a,b){return p.compareTo(a,b)>0},le:function(a,b){return p.compareTo(a,b)<=0},lt:function(a,b){return p.compareTo(a,b)<0},neq:function(a,b){return!p.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new TextEncoder();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new TextDecoder();return b.decode(a)}};function q(a){if(a.length!==1)throw c("unrecoverableViolation")("only literal strings supported","messenger_web_product");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return d("I64").asI64([a>>>1^-(b&1),((b>>>1)+(a&1)*2147483648^-(b&1))>>>0])}function r(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!==void 0)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!==void 0)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!==void 0)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!==void 0)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}function s(a,b,c){var e=a.table(b.name);return{add:function(a){return e.add(a)},fetch:function(){for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return d("LSIterationHelpers").fetch(f.length===0?[[[[]],void 0]]:f,"asc",b,c,e,r)},fetchDesc:function(){for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return d("LSIterationHelpers").fetch(f.length===0?[[[[]],void 0]]:f,"desc",b,c,e,r)},peekNextAutoIncrementId:function(){return e.peekNextAutoIncrementId()},put:function(a){return e.deleteThenInsert(a)}}}function t(a,b,d,e){return{table:function(f){f=d.tableIds[f];if(b===0&&m(f))throw c("unrecoverableViolation")("cannot access secure table from dynamic mode","messenger_web_product");return s(a,f,e)}}}function u(a){var b="unknown_sproc";a=a.displayName;var c=/\[from (.*)\]/;c=c.exec(a);c!=null&&(b=c[1]);return b}var v=function(){var a=0;function d(d){var e=d.shouldLog;d=d.sprocName;if(!e||!b("cr:3109"))return;e=++a;b("cr:3109").markerStart(c("qpl")._(25302991,"143"),e);b("cr:3109").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:3109")==null?void 0:b("cr:3109").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return c("gkx")("5983")?Math.random()*c("justknobx")._("951")<1:!1}return{call:d,logSprocDone:e,shouldLogSproc:f}}();function w(a,b,d){b=c("bs_caml_int64").to_string(b);var e=function(a){return!d?"":d[a]||""};return a(b,e).toString()}function x(a,b,d){b=c("bs_caml_int64").to_string(b);var e=function(a){return!d?"":d[a]||""};return a(b,e).toString()}function y(a,b,e,f,g,m,s,z){s===void 0&&(s={});z===void 0&&(z=void 0);var A=t(m,a,b,s),B=[];return{Map:c("LSDict"),blob:o,blobs:p,constructor:{n:q},createArray:function(){return Object.defineProperty([],"tag",{value:"ls-array"})},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return Object.defineProperty(b,"tag",{value:"ls-array"})},ct:d("LSIterationHelpers").count,db:A,fe:d("LSIterationHelpers").forEach,ftr:d("LSIterationHelpers").filter,gb:d("LSIterationHelpers").groupBy,i64:n,islc:d("LSIterationHelpers").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},localize:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return w.apply(void 0,[f].concat(b))},localizeAsync:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return Promise.resolve(w.apply(void 0,[f].concat(b)))},localizeV2:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return x.apply(void 0,[g].concat(b))},localizeV2Async:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return Promise.resolve(x.apply(void 0,[g].concat(b)))},logger:function(a){if(z)return{debug:z,info:z,mustfix:z,warn:z};var b=c("FBLogger")("messenger_web_product");if(a.startsWith("epoch mismatch")||a.startsWith("cursor mismatch")){a=function(a){d("LSLogHistory").log(a,"error");a=a!=null?a.replace(/[\s,]+/g,"_"):"epoch_or_cursor_mismatch";d("ODS").bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return d("LSLogHistory").log(a,"debug")},info:function(a){return d("LSLogHistory").log(a,"log")},mustfix:a,warn:a}}else{c("gkx")("2999")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function c(d){var e;return n.lt(d,a)?b(d).then(function(){return c(n.add(d,q(k())))}):((e=window.Promise)!=null?e:Promise).resolve()}return c(q(j()))},loopSync:function(a,b){for(var c=q(i());n.lt(c,a);c=n.add(c,q(h())))b(c)},merge:function(){function a(a,b){return d("LSDbKeyComparer").compareValue(a,b)>0?a:b}function b(a,b){return d("LSDbKeyComparer").compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,d){d=r(d,"asc");return{end:c.end&&d.end?b(d.end,c.end):d.end||c.end,start:c.start&&d.start?a(d.start,c.start):d.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:q,nop:async function(b){var d;if(typeof b==="string"){d=e[b+".bs"];if(d==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native op with id: "+b,"messenger_web_product");d.load&&(d=await d.load());d=d}else d=b;try{for(var f=arguments.length,g=new Array(f>1?f-1:0),h=1;h<f;h++)g[h-1]=arguments[h];return d.apply(void 0,[m,a].concat(g))}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(l,"NATIVE_OP_ID",b.toString()).warn("Native operation %s failed",b.toString());throw a}},notnull:function(a){if(a===null)throw c("unrecoverableViolation")("value should not be null","messenger_web_product");return a},ntop:async function(b,d){var f;if(typeof d==="string"){f=e[d.toString()];if(f==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native type op with type: "+b+" and id: "+d,"messenger_web_product");f.load&&(f=await f.load());f=f.call}else f=d.call;for(var g=arguments.length,h=new Array(g>2?g-2:0),i=2;i<g;i++)h[i-2]=arguments[i];return f.apply(void 0,[m,a].concat(h))},print:function(a){},resolve:function(a){var b;return((b=window.Promise)!=null?b:Promise).resolve(a)},rm:n.of_int32(a),sb:d("LSIterationHelpers").sortBy,seq:function(a){return a.slice(1).reduce(function(a,b){return a.then(b)},a[0]())},slc:function(a,b){return Array.prototype.slice.call(a,b)},sp:async function(d){var h;if(typeof d==="string"){h=e[d];if(h==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+d,"messenger_web_product");h.load&&(h=await h.load())}else h=d;var i=this;switch(a){case 0:i=y(2,b,e,f,g,m,s,z);break;case 2:i=y(1,b,e,f,g,m,s,z);break}var j=u(h),k=v.shouldLogSproc(j),n={shouldLog:k,sprocName:j};B.push(d);var o;try{o=v.call(n);for(var p=arguments.length,q=new Array(p>1?p-1:0),r=1;r<p;r++)q[r-1]=arguments[r];var t=await h.apply(void 0,q.concat([i]));v.logSprocDone(n,o,2);return t}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(l,"SPROC_STACK",B.join("\n")).warn("Sproc %s failed",d);v.logSprocDone(n,o,3);throw a}finally{B.pop()}},ta:d("LSIterationHelpers").toArray,throw:function(a){throw c("unrecoverableViolation")(a,"messenger_comet")},toJSON:function(a){return d("LSJson").stringify(a)}}}y.n=q;g.default=y}),98);
__d("LSStaticDependencies",["LSDeleteThenInsertContact","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSRemoveTask","LSSetRegionHint","LSTaskExists","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertSequenceId","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),removeTask:c("LSRemoveTask"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertSequenceId:c("LSUpsertSequenceId"),verifyContactRowExists:c("LSVerifyContactRowExists")};g.staticCachedModules=a}),98);
__d("LSDynamicDependencies",["Bootloader","LSStaticDependencies","Promise","SiteData","asyncToGeneratorRuntime","cr:5712","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=babelHelpers["extends"]({},d("LSStaticDependencies").staticCachedModules);function a(a){var d=new Map();for(a of a){var e=a.name;e!=null&&!(e in h)&&d.set(e,c("nullthrows")(a.value))}if(d.size===0)return b("Promise").resolve();var f=b("cr:5712")!=null?b("Promise").all(Array.from(d).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var a=c[0];c=c[1];if(a==null)return;h[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f;return h[a]});function d(){return c.apply(this,arguments)}return d}()};c=(yield b("cr:5712").load(c));h[a]=c});return function(b){return a.apply(this,arguments)}}())).then(function(a){}):new(b("Promise"))(function(a){var e={},g=[],j=function(c){var a=c[0];c=c[1];c=c==null?void 0:c.__dr;e[c]={be:1,r:[]};g.push(c);h[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f;return h[a]});function d(){return c.apply(this,arguments)}return d}()}};for(var k of d)j(k);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});i(c("Bootloader"),g,function(b){Array.from(d.entries()).forEach(function(a,c){var d=a[0];a[1];h[d]=b[c]}),a()})});return f}function i(a,b,c){a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function j(a){return a.charAt(0).toUpperCase()+a.slice(1)}function e(a,d,e){var f=new Map();for(a of(a=a)!=null?a:[]){a in h||f.set(a,"LS"+j(a))}for(d of(a=d)!=null?a:[]){a=d+".bs";a in h||f.set(a,"LS"+j(d)+".nop")}for(d of(a=e)!=null?a:[]){d in h||f.set(d,"LS"+j(d))}if(f.size===0)return b("Promise").resolve();var g=new(b("Promise"))(function(a){var d={},e=[],j=function(a){var c=a[0];a=a[1];d[a]={be:1,r:[]};e.push(a);h[c]={load:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g;return h[c]});function d(){return a.apply(this,arguments)}return d}()}};for(var k of f)j(k);c("Bootloader").handlePayload({compMap:d,consistency:{rev:c("SiteData").client_revision}});i(c("Bootloader"),e,function(b){Array.from(f.entries()).forEach(function(a,c){var d=a[0];a[1];h[d]=b[c]}),a()})});return g}g.cachedModules=h;g.downloadRelayDependencies=a;g.downloadBootloaderDependencies=e}),98);
__d("LSFactory",["LS","LSDynamicDependencies","LSLocalizedStrings","LSLocalizedStringsV2","LSMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LS")(1,d("LSMetadata").metadata,d("LSDynamicDependencies").cachedModules,c("LSLocalizedStrings"),c("LSLocalizedStringsV2"),a)}g["default"]=a}),98);
__d("LSContactBitOffset.bs",["LSBitFlag","LSBitOffset","bs_caml","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.capabilities,f=b.capabilities2;if(c("bs_caml").i64_ge(a,[0,64])){if(f===void 0)return;f=c("bs_caml_int64").sub(a,[0,64]);f=c("bs_caml_int64").lsl_(c("bs_caml_int64").one,c("bs_caml_int64").to_int32(f));return d("LSBitFlag").has(f,(f=b.capabilities2)!=null?f:d("LSBitOffset").empty)}if(e==null)return;return d("LSBitFlag").has(c("bs_caml_int64").lsl_(c("bs_caml_int64").one,c("bs_caml_int64").to_int32(a)),(f=b.capabilities)!=null?f:d("LSBitOffset").empty)}g.has=a}),98);
__d("LSContactCapabilityBitOffset.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,18],u=[0,19],v=[0,20],w=[0,21],x=[0,22],y=[0,23],z=[0,24],A=[0,25],B=[0,26],C=[0,27],D=[0,28],E=[0,29],F=[0,64],G=[0,65],H=[0,66],I=[0,67],J=[0,68],K=[0,69],L=[0,70],M=[0,71],N=[0,72],O=[0,73],P=[0,74],Q=[0,75],R=[0,76],S=[0,77],T=[0,78],U=[0,79],V=[0,80],W=[0,81],X=[0,82],Y=[0,83];f.message=a;f.replyMessage=c;f.joinGroup=d;f.block=e;f.see=b;f.seeFacebookProfile=g;f.payment=h;f.camera=i;f.mediaPicker=j;f.sticker=k;f.gif=l;f.audioClips=m;f.sharedMedia=n;f.reactions=o;f.seenHeads=p;f.threadDetails=q;f.rtcVideoCall=r;f.rtcVoiceCall=s;f.threadFeedbackAndReport=t;f.goToSecretConversation=u;f.makeAdmin=v;f.removeFromGroup=w;f.removeAsAdmin=x;f.verified=y;f.disappearingMode=z;f.seeMessage=A;f.pseudoBlock=B;f.pushable=C;f.messageBlockPlaced=D;f.facebookBlockPlaced=E;f.viewerIsUnconnected=F;f.pagePlatformBot=G;f.restrictPlaced=H;f.isXacEligible=I;f.isGroupsXacEligible=J;f.isGroupsXacCallingEligible=K;f.isE2eeOnly=L;f.isEligibleForSafetyNotice=M;f.novi=N;f.isContactShareable=O;f.isHidden=P;f.isThreadCutoverUser=Q;f.hasCutoverThread=R;f.isCommunityBotPage=S;f.isNotSearchable=T;f.canUpsellVoicemail=U;f.defaultE2eeThreads=V;f.incallCaptions=W;f.isInternal=X;f.defaultE2eeThreadOneToOne=Y}),null);
__d("ReQL.bs",["ReQL","bs_js_dict","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=function a(b){var d=b.NAME;if(d!=="range")if(d==="lessThan")return c("bs_js_dict").fromArray([["lt",b.VAL]]);else if(d==="greaterThan")return c("bs_js_dict").fromArray([["gt",b.VAL]]);else if(d==="greaterThanOrEqual")return c("bs_js_dict").fromArray([["gte",b.VAL]]);else return c("bs_js_dict").fromArray([["lte",b.VAL]]);d=b.VAL;return c("bs_js_dict").fromArray(c("bs_js_dict").entries(a(d[0])).concat(c("bs_js_dict").entries(a(d[1]))))};return a.bounds(d(b))}function b(a,b){if(!b)return c("unrecoverableViolation")("only support 5","messenger_web_product");var d=b.tl;b=b.hd;if(!d)return a.getKeyRange(b);var e=d.tl;d=d.hd;if(!e)return a.getKeyRange(b,d);var f=e.tl;e=e.hd;if(!f)return a.getKeyRange(b,d,e);var g=f.tl;f=f.hd;if(g)if(g.tl)return c("unrecoverableViolation")("only support 5","messenger_web_product");else return a.getKeyRange(b,d,e,f,g.hd);else return a.getKeyRange(b,d,e,f)}function e(a,b){return a.filter(b)}function f(a,b){return a.map(b)}function h(a){return d("ReQL").toArrayAsync(a)}function i(a,b){return d("ReQL").mergeJoin(a,b)}function j(a,b){return d("ReQL").leftJoin(a,b)}function k(a,b){return a.take(b)}function l(a){return d("ReQL").firstAsync(a)}function m(a){return d("ReQL").firstExnAsync(a)}function n(a){return d("ReQL").fromTableAscending(a)}function o(a){return d("ReQL").fromTableDescending(a)}function p(a){return d("ReQL").fromTableAscending(a)}function q(a){return d("ReQL").fromTableDescending(a)}e=e;f=f;h=h;i=i;j=j;a=a;b=b;k=k;l=l;m=m;n=n;o=o;p=p;q=q;g.filter=e;g.map=f;g.toArray=h;g.mergeJoin=i;g.leftJoin=j;g.bounds=a;g.getKeyRange=b;g.take=k;g.first=l;g.firstExn=m;g.fromTableAscending=n;g.fromTableDescending=o;g.fromIndexAscending=p;g.fromIndexDescending=q}),98);
__d("MAWVerifyThreadCutover.bs",["LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","MAWGating","Promise","ReQL.bs","bs_belt_Option","bs_caml_format"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e){if(d("MAWGating").isThreadLevelCutoverEnabled())return a.then(function(a){var f=d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("cutover_threads")),{hd:e,tl:0})).then(c("bs_belt_Option").isSome);a=d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:e,tl:0})).then(function(a){return a});return b("Promise").all([f,a]).then(function(a){var b=c("bs_belt_Option").mapWithDefault(a[1],!1,function(a){return c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").hasCutoverThread,a),!1)});if(a[0])return!0;else return b})});else return b("Promise").resolve(!1)}function a(a,d){if(d==null)return b("Promise").resolve(!1);else return h(a,c("bs_caml_format").caml_int64_of_string(d))}g.verifyThreadCutover=h;g.verifyThreadCutoverWithStringInput=a}),98);
__d("MWLSPreloadThreadForContact.bs",["LSDatabaseDeferred","LSDatabaseType.bs","LSFactory","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection.bs","LSVerifyThreadRowExists","MAWVerifyThreadCutover.bs","Promise","ReQL.bs","bs_caml_format","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var e=d("LSDatabaseDeferred").db.then(function(e){return e.runInTransaction(function(f){var g=c("bs_caml_format").caml_int64_of_string(a);return d("MAWVerifyThreadCutover.bs").verifyThreadCutover(b("Promise").resolve(e),g).then(function(a){if(a)return;else return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("messages_ranges_v2__generated")),{hd:g,tl:0})).then(function(a){if(a!==void 0)if(a.minMessageId===a.maxMessageId&&a.minMessageId!=="")return c("LSIssueMessagesRangeQuery")(g,a.minTimestampMs,d("LSMailboxMessagesRangeQueryDirection.bs").before,c("LSFactory")(f));else return;else return c("LSVerifyThreadRowExists")(g,void 0,d("LSDatabaseType.bs").mailbox,c("LSFactory")(f))})})},"readwrite")});c("promiseDone")(e)}function a(){return h}g.verifyThreadExists=h;g.usePreloaderForUser=a}),98);/*FB_PKG_DELIM*/
__d("BPlusTreeBase",["MetaConfig","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={gte:[!0,0],lt:[!0,1],gt:[!1,0],lte:[!1,1]};function* i(a){var b=(yield* a.readHeader());if(b==null||b.rootId==null||b.headId==null)return;var c=(yield* a.readExn(b.rootId));c=[{node:c,id:b.rootId}];while(c.length>0){b=c.shift();var d=b.id;b=b.node;if(!b.isLeaf)for(b of b.children){var e=(yield* a.read(b));e!=null&&c.push({node:e,id:b})}yield* a.remove(d)}yield* a.removeHeader()}function* j(a,b,c,d){var e=(yield* b.readExn(c)),f=[];e=e;c=c;var g=-1;while(!e.isLeaf)f.push([e,c,g]),g=k(a,e.keys,d,h.gt),g===-1&&(g=e.keys.length),c=e.children[g],e=(yield* b.readExn(c));return[e,c,f,g]}function k(a,b,c,d){var e=0,f=b.length-1;while(e<=f){var g=e+f>>1;(d[0]?a(b[g],c)<0:a(b[g],c)<=0)?e=g+1:f=g-1}g=[e,f][d[1]];return g===b.length?-1:g}function l(a,b,c){if(!b.length)return[0,0];var d=k(a,b,c,h.gte);if(d===-1)return[b.length,0];else if(a(b[d],c)===0)return[d,1];return[d,0]}function m(a,b,c){for(var d=arguments.length,e=new Array(d>3?d-3:0),f=3;f<d;f++)e[f-3]=arguments[f];return[].concat(a.slice(0,b),e,a.slice(b+c))}function* n(a){var b=(yield* a.readHeader());if(b==null){var c=(yield* a.writeNew({isLeaf:!0,children:[],keys:[]}));b={rootId:c,tailId:c,headId:c};yield* a.writeHeader(b)}return b}function* o(a,b,d){var e=(yield* b.readHeader());if(e==null)throw c("unrecoverableViolation")("key not found: "+String(d),"messenger_web_product");b=(yield* j(a,b,e.rootId,d));e=b[0];b=k(a,e.keys,d,h.gte);if(b===-1||a(e.keys[b],d)!==0)throw c("unrecoverableViolation")("key not found: "+String(d),"messenger_web_product");return e.children[b]}function* p(a,b,c,d){var e=(yield* b.readHeader());if(e==null)return d;b=(yield* j(a,b,e.rootId,c));e=b[0];b=k(a,e.keys,c,h.gte);return b===-1||a(e.keys[b],c)!==0?d:e.children[b]}function* q(a,b,c){var d=(yield* b.readHeader());if(d==null)return!1;b=(yield* j(a,b,d.rootId,c));d=b[0];b=k(a,d.keys,c,h.gte);return b!==-1&&a(d.keys[b],c)===0}function* r(a,b,c,d,e){var f=(yield* n(b)),g={},h=(yield* j(a,b,f.rootId,d)),i=h[0],k=h[1];h=h[2];var o=l(a,i.keys,d),p=o[0];o=o[1];for(e=babelHelpers.extends({},i,{children:m(i.children,p,o,e),keys:o===1?i.keys:m(i.keys,p,o,d)}),i=k;e.keys.length>=c;e=o,i=d){p=h.pop()||[{keys:[],children:[i],isLeaf:!1}];o=p[0];d=p[1];k=Math.floor(e.keys.length/2);p=void 0;var q=void 0;e.isLeaf?(p={isLeaf:!0,children:e.children.slice(k),keys:e.keys.slice(k),nextId:e.nextId,prevId:i},q=e.nextId=(yield* b.writeNew(p)),p.nextId?yield* b.write(p.nextId,babelHelpers.extends({},yield* b.readExn(p.nextId),{prevId:q})):g.tailId=q):(p={isLeaf:!1,children:e.children.slice(k+1),keys:e.keys.slice(k+1)},q=(yield* b.writeNew(p)));p=l(a,o.keys,e.keys[k]);p=p[0];o=babelHelpers.extends({},o,{keys:m(o.keys,p,0,e.keys[k]),children:m(o.children,p+1,0,q)});yield* b.write(i,babelHelpers.extends({},e,{keys:e.keys.slice(0,k),children:e.children.slice(0,k+(e.isLeaf?0:1))}))}i==null?g.rootId=(yield* b.writeNew(e)):yield* b.write(i,e);Object.keys(g).length&&(yield* b.writeHeader(babelHelpers.extends({},f,g)))}function* s(a,b,d,e){var f=(yield* n(b)),g={};d=Math.floor(d/2);var i=(yield* j(a,b,f.rootId,e)),l=i[0],o=i[1],p=i[2];i=i[3];var q=k(a,l.keys,e,h.gte);if(q===-1||a(l.keys[q],e)!==0)return!1;a=babelHelpers.extends({},l,{keys:m(l.keys,q,1),children:m(l.children,q,1)});e=o;yield* b.write(e,a);l=i;for(var o,i,q;a.keys.length<d&&p.length;r=[o,i,q],a=r[0],e=r[1],l=r[2],r){q=p.pop();o=q[0];i=q[1];q=q[2];var r=[[{nodeId:o.children[l-1]},{nodeId:e,node:a},l-1],[{nodeId:e,node:a},{nodeId:o.children[l+1]},l]].filter(function(a){var b=a[0];a=a[1];return b.nodeId!==void 0&&a.nodeId!==void 0});for(var s of r){var t=s[0],u=s[1],v=s[2];t.node=t.node||(yield* b.readExn(t.nodeId));u.node=u.node||(yield* b.readExn(u.nodeId));if(t.node.keys.length+u.node.keys.length>=d*2){a.isLeaf?(u.node=babelHelpers.extends({},u.node,{children:[].concat(t.node.children,u.node.children),keys:[].concat(t.node.keys,u.node.keys)}),t.node=babelHelpers.extends({},t.node,{children:u.node.children.splice(0,d),keys:u.node.keys.splice(0,d)}),o=babelHelpers.extends({},o,{keys:m(o.keys,v,1,u.node.keys[0])})):(u.node=babelHelpers.extends({},u.node,{children:[].concat(t.node.children,u.node.children),keys:[].concat(t.node.keys,[o.keys[v]],u.node.keys)}),t.node=babelHelpers.extends({},t.node,{children:u.node.children.splice(0,d+1)}),o=babelHelpers.extends({},o,{keys:m(o.keys,v,1,u.node.keys.splice(d,1)[0])}),t.node.keys=u.node.keys.splice(0,d));yield* b.write(t.nodeId,t.node);yield* b.write(u.nodeId,u.node);yield* b.write(i,o);Object.keys(g).length&&(yield* b.writeHeader(babelHelpers.extends({},f,g)));return!0}}for(v of r){t=v[0];u=v[1];s=v[2];t.node=babelHelpers.extends({},t.node,{children:[].concat(t.node.children,u.node.children)});a.isLeaf?(t.node.keys=[].concat(t.node.keys,u.node.keys),u.node.nextId?yield* b.write(u.node.nextId,babelHelpers.extends({},yield* b.readExn(u.node.nextId),{prevId:t.nodeId})):g.tailId=t.nodeId,t.node.nextId=u.node.nextId):t.node.keys=[].concat(t.node.keys,[o.keys[s]],u.node.keys);o=babelHelpers.extends({},o,{keys:m(o.keys,s,1),children:m(o.children,s+1,1)});c("MetaConfig")._("15")&&(yield* b.write(i,o));yield* b.write(t.nodeId,t.node);yield* b.remove(u.nodeId);break}}yield* b.write(e,a);s=(yield* b.readExn(f.rootId));if(!s.keys.length&&s.children.length){if(s.isLeaf)throw c("unrecoverableViolation")("cannot be leaf","messenger_web_product");yield* b.remove(f.rootId);g.rootId=s.children[0]}Object.keys(g).length&&(yield* b.writeHeader(babelHelpers.extends({},f,g)));return!0}function t(a,b,d){d=d===void 0?{}:d;var e=d.dir,f=e===void 0?"asc":e,g=babelHelpers.objectWithoutPropertiesLoose(d,["dir"]);function i(){if(f==="asc"){if(Object.prototype.hasOwnProperty.call(g,"gt"))return g.gt;else if(Object.prototype.hasOwnProperty.call(g,"gte"))return g.gte}else if(Object.prototype.hasOwnProperty.call(g,"lt"))return g.lt;else if(Object.prototype.hasOwnProperty.call(g,"lte"))return g.lte}function l(b){if(f==="asc")return Object.prototype.hasOwnProperty.call(g,"gt")?k(a,b.keys,g.gt,h.gt):Object.prototype.hasOwnProperty.call(g,"gte")?k(a,b.keys,g.gte,h.gte):0;else return Object.prototype.hasOwnProperty.call(g,"lt")?k(a,b.keys,g.lt,h.lt):Object.prototype.hasOwnProperty.call(g,"lte")?k(a,b.keys,g.lte,h.lte):b.keys.length-1}if(Object.prototype.hasOwnProperty.call(g,"gt")&&Object.prototype.hasOwnProperty.call(g,"gte"))throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","messenger_web_product");if(Object.prototype.hasOwnProperty.call(g,"lt")&&Object.prototype.hasOwnProperty.call(g,"lte"))throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","messenger_web_product");var m;return{next:function*(d){var e,n;if(m==null){var o=(yield* b.readHeader());if(o==null)return{done:!0};var p=i();if(p!=null){p=(yield* j(a,b,o.rootId,p));e=p[0];p=p[1]}else if(f==="asc"){var q=[yield* b.readExn(o.headId),o.headId];e=q[0];p=q[1]}else{q=[yield* b.readExn(o.tailId),o.tailId];e=q[0];p=q[1]}o=l(e)}else{q=m;o=q.i;n=q.key;p=q.nodeId;e=(yield* b.read(p));if(d!=null){if(a(d,n)===(f==="asc"?-1:1))throw c("unrecoverableViolation")("key must be ahead of current key","messenger_web_product");if(e==null||a(d,e.keys[0])<0||a(d,e.keys[e.keys.length-1])>0){q=(yield* b.readHeader());if(q==null)return{done:!0};q=(yield* j(a,b,q.rootId,d));e=q[0];p=q[1]}o=k(a,e.keys,d,h[f==="asc"?"gte":"lte"])}else{if(e==null||o<0||o>=e.keys.length||a(e.keys[o],n)!==0){if(e==null||!e.keys.length||a(n,e.keys[0])<0||a(n,e.keys[e.keys.length-1])>0){q=(yield* b.readHeader());if(q==null)return{done:!0};d=(yield* j(a,b,q.rootId,n));e=d[0];p=d[1]}o=k(a,e.keys,n,h[f==="asc"?"lte":"gte"])}o+=f==="asc"?1:-1}}if(o<0||o>=e.keys.length)if(f==="asc"){if(e.nextId===void 0)return{done:!0};p=e.nextId;e=(yield* b.readExn(p));o=0}else{if(e.prevId===void 0)return{done:!0};p=e.prevId;e=(yield* b.readExn(p));o=e.keys.length-1}n=e.keys[o];m={node:e,nodeId:p,key:n,i:o};if(o<0||o>=e.keys.length)return{done:!0};q=f==="asc"?Object.prototype.hasOwnProperty.call(g,"lt")&&a(n,g.lt)>=0||Object.prototype.hasOwnProperty.call(g,"lte")&&a(n,g.lte)>0:Object.prototype.hasOwnProperty.call(g,"gt")&&a(n,g.gt)<=0||Object.prototype.hasOwnProperty.call(g,"gte")&&a(n,g.gte)<0;return q?{done:!0}:{done:!1,value:[e.keys[o],e.children[o]]}}}}function a(a,b,c){b===void 0&&(b=32);return{get:function(b){return o(a,c,b)},getWithDefault:function(b,d){return p(a,c,b,d)},has:function(b){return q(a,c,b)},set:function(d,e){return r(a,c,b,d,e)},delete:function(d){return s(a,c,b,d)},entries:function(b){return t(a,c,b)},clear:function(){return i(c)}}}g.default=a}),98);
__d("BPlusTree",["BPlusTreeBase","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a={},b=void 0,d=0;return{read:function*(b){return a[b]},readExn:function*(b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b];else throw c("unrecoverableViolation")("expected key","messenger_web_product")},readHeader:function*(){return b},remove:function*(b){delete a[b]},removeHeader:function*(){b=void 0},write:function*(b,c){a[b]=c},writeHeader:function*(a){b=a},writeNew:function*(b){a[d++]=b;return d-1}}}function i(a){var b=a.next();while(!b.done)b=a.next(b.value);return b.value}function a(a,b){b===void 0&&(b=16);var d=c("BPlusTreeBase")(a,b,h()),e;return e={clear:function(){return i(d.clear())},delete:function(a){return i(d.delete(a))},entries:function(a){function b(){var c,e=d.entries(a);return c={next:function(a){return i(e.next(a))}},c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=b,c}return b()},get:function(a){return i(d.get(a))},getWithDefault:function(a,b){return i(d.getWithDefault(a,b))},has:function(a){return i(d.has(a))},set:function(a,b){i(d.set(a,b));return e}}}g.default=a}),98);
__d("LSDbKeyComparer",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=[[]];function i(a,b){var d=a===h,e=b===h;if(d&&e)return 0;if(d)return 1;if(e)return-1;if(a===void 0)return b===void 0?0:-1;else if(b===void 0)return 1;else if(Array.isArray(a)){if(!Array.isArray(b))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");d=a[0];e=b[0];if(d<e)return-1;if(d>e)return 1;d=a[1];e=b[1];if(d<e)return-1;if(d>e)return 1}else if(typeof a==="string"){if(typeof b!=="string")throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(typeof a==="number"){if(typeof b!=="number")throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(a instanceof Date){if(!(b instanceof Date))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(typeof a==="boolean"){if(typeof b!=="boolean")throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(!a&&b)return-1;if(a&&!b)return 1}else throw c("unrecoverableViolation")("Unexpected type","messenger_comet");return 0}function a(a,b){for(a=a,b=b;;a=a.tl,b=b.tl){if(a===0&&b===0)return 0;if(a===0)return-1;if(b===0)return 1;var c=i(a.hd,b.hd);if(c!==0)return c}return 0}g.MAX_KEY=h;g.compareValue=i;g.compareKey=a}),98);
__d("PromiseOrValue",["isPromise","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(c("isPromise")(a)&&c("isPromise")(b))return a.then(function(a){return b.then(function(b){return[a,b]})});if(c("isPromise")(a))return a.then(function(a){return[a,b]});return c("isPromise")(b)?b.then(function(b){return[a,b]}):[a,b]}function b(a,b){return c("isPromise")(a)?a.then(b):b(a)}function h(a,b){b=b;while(!0){var d=a(b);if(c("isPromise")(d))return d.then(function(b){return b.action==="break"?b.value:h(a,b.value)});if(d.action==="break")return d.value;b=d.value}throw c("unrecoverableViolation")("just for flow","messenger_web_product")}g.all2=a;g.map=b;g.loop=h}),98);
__d("ReQLBounds",["LSDbKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a?{hd:a.hd,tl:h(a.tl,b)}:b}function i(a){return h(a,{hd:d("LSDbKeyComparer").MAX_KEY,tl:0})}function j(a,b,c){if(a!=null&&b!=null)return d("LSDbKeyComparer").compareKey(a[1],b[1])*c>0?a[0]:b[0];if(a!=null)return a[0];if(b!=null)return b[0]}function a(a,b){return j((a==null?void 0:a.gt)!=null?[{gt:a.gt},i(a.gt)]:(a==null?void 0:a.gte)!=null?[{gte:a.gte},a.gte]:void 0,(b==null?void 0:b.gt)!=null?[{gt:b.gt},i(b.gt)]:(b==null?void 0:b.gte)!=null?[{gte:b.gte},b.gte]:void 0,1)}function b(a,b){return j((a==null?void 0:a.lt)!=null?[{lt:a.lt},a.lt]:(a==null?void 0:a.lte)!=null?[{lte:a.lte},i(a.lte)]:void 0,(b==null?void 0:b.lt)!=null?[{lt:b.lt},b.lt]:(b==null?void 0:b.lte)!=null?[{lte:b.lte},i(b.lte)]:void 0,-1)}function c(a,b,c){a.forEach(function(a){var e=a[0];a=a[1];var f=(e==null?void 0:e.gt)!=null?d("LSDbKeyComparer").compareKey(b,i(e.gt))>=0:(e==null?void 0:e.gte)!=null?d("LSDbKeyComparer").compareKey(b,e.gte)>0:!0;e=(e==null?void 0:e.lt)!=null?d("LSDbKeyComparer").compareKey(b,e.lt)<0:(e==null?void 0:e.lte)!=null?d("LSDbKeyComparer").compareKey(b,i(e.lte))<=0:!0;if(f&&e)return c(a)})}g.getLowerLimit=a;g.getUpperLimit=b;g.forEachMatchingBounds=c}),98);
__d("ReQLGlobalQueryContext",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a){if(c("gkx")("7545")){var b=a.get(h);return b==null?[]:b}else return a.get(h)}function b(a,b){a.set(h,b)}d={contents:void 0};g.getDependencies=a;g.setDependencies=b;g.globalQueryContext=d}),98);
__d("ReQL",["BPlusTree","LSDbKeyComparer","PromiseOrValue","ReQLBounds","ReQLGlobalQueryContext","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={bounds:b,filter:f,getKeyRange:m,map:o,take:s};function i(a,b){return a?{hd:a.hd,tl:i(a.tl,b)}:b}function j(a,b){b=b;a=a;while(b){if(!a)throw c("unrecoverableViolation")("unexpected end of key","messenger_web_product");b=b.tl;a=a.tl}return a}function k(a,b){try{var c=d("ReQLGlobalQueryContext").globalQueryContext.contents,e=d("ReQLGlobalQueryContext").getDependencies(b);d("ReQLGlobalQueryContext").setDependencies(b,[]);d("ReQLGlobalQueryContext").globalQueryContext.contents=b;var f,g;try{f=a(),g=d("ReQLGlobalQueryContext").getDependencies(b)||[]}finally{d("ReQLGlobalQueryContext").setDependencies(b,e),d("ReQLGlobalQueryContext").globalQueryContext.contents=c}return[f,g]}catch(c){if(c instanceof Promise)return c.then(function(){return k(a,b)});throw c}}function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.reduceRight(function(a,b){return{hd:b,tl:a}},0)}function b(a){var b=this;function c(a,b){if(b==null)return a;var c=d("ReQLBounds").getLowerLimit(b,a);b=d("ReQLBounds").getUpperLimit(b,a);if(c!=null&&b!=null)return babelHelpers.extends({},c,b);if(c!=null)return c;if(b!=null)return b}return Object.setPrototypeOf({direction:b.direction,iterator:function(d,e){return b.iterator(d,c(a,e))},keyLength:b.keyLength,subscribe:function(d,e){return b.subscribe(d,c(a,e))}},h)}var l=Object.setPrototypeOf({direction:"asc",iterator:function(){return{next:function(){return{done:!0}}}},keyLength:0,subscribe:function(){return function(){}}},h);function e(){return l}function f(a){var b=this,c=new Map();return Object.setPrototypeOf({direction:b.direction,iterator:function(e,f){var g=b.iterator(e,f);return{next:function(b){return d("PromiseOrValue").loop(function(b){return d("PromiseOrValue").map(g.next(b),function(b){if(b.done)return{action:"break",value:b};var e=b.value,f=e[0];e=e[1];if(a(e)){d("ReQLBounds").forEachMatchingBounds(c,f,function(a){a.add(JSON.stringify(f))});return{action:"break",value:b}}d("ReQLBounds").forEachMatchingBounds(c,f,function(a){a.delete(JSON.stringify(f))});return{action:"continue",value:void 0}})},b)}}},keyLength:b.keyLength,subscribe:function(d,e){var f={},g=new Set();c.set(f,[e,g]);var h=b.subscribe(async function(b,c,e){var f=JSON.stringify(b);c.operation==="add"&&a(c.value)?(g.add(f),await d(b,c,e)):c.operation==="put"&&a(c.value)?g.has(f)?await d(b,c,e):(g.add(f),await d(b,{operation:"add",value:c.value},e)):c.operation==="put"&&g.has(f)?(g.delete(f),await d(b,{operation:"delete"},e)):c.operation==="delete"&&g.has(f)&&(g.delete(f),await d(b,c,e))},e);return function(){c.delete(f);return h()}}},h)}function m(){var a=this;for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];var f=c.reduceRight(function(a,b){return{hd:b,tl:a}},0);function g(a){return a.gt!=null?{gt:i(f,a.gt)}:{gte:i(f,a.gte)}}function k(a){return a.lt!=null?{lt:i(f,a.lt)}:{lte:i(f,a.lte)}}function l(a){return a==null?{gte:f,lte:f}:babelHelpers.extends({},a.gte!=null||a.gt!=null?g(a):{gte:f},a.lte!=null||a.lt!=null?k(a):{lte:f})}return Object.setPrototypeOf({direction:a.direction,iterator:function(b,c){var e=a.iterator(b,l(c));return{next:function(a){return d("PromiseOrValue").map(e.next(a==null?a:i(f,a)),function(a){return a.done?{done:!0}:{done:!1,value:[j(a.value[0],f),a.value[1]]}})}}},keyLength:a.keyLength-c.length,subscribe:function(b,c){return a.subscribe(function(a,c,d){return b(j(a,f),c,d)},l(c))}},h)}function n(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("merge join requires iterables to be sorted in the same direction","messenger_web_product");return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g=a.iterator(e,f),h=b.iterator(e,f),i=h.next();function j(a){return d("PromiseOrValue").map(i,function(b){var c=b.done?!0:d("LSDbKeyComparer").compareKey(a,b.value[0])<=0;c=c?b:h.next(a);i=c;return c})}return{next:function(a){return d("PromiseOrValue").map(g.next(a),function(a){if(a.done)return{done:!0,value:void 0};var b=a.value;b=b[0];return d("PromiseOrValue").map(j(b),function(b){var e=a.value,f=e[0];e=e[1];if(b.done)return{done:!1,value:[f,[e,void 0]]};b=b.value;var g=b[0];b=b[1];g=d("LSDbKeyComparer").compareKey(f,g);if(g>0)throw c("unrecoverableViolation")("Right iterable should always be equal to or ahead","messenger_web_product");else if(g<0)return{done:!1,value:[f,[e,void 0]]};else return{done:!1,value:[f,[e,b]]}})})}}},keyLength:Math.max(a.keyLength,b.keyLength),subscribe:function(c,d){var e=!0,f=a.subscribe(async function(a,d,f){var g=await b.iterator(f,{gte:a,lte:a}).next();if(!e)return;await c(a,d.operation==="add"?{operation:"add",value:[d.value,(a=g.value)==null?void 0:a[1]]}:d.operation==="put"?{operation:"put",value:[d.value,(a=g.value)==null?void 0:a[1]]}:{operation:"delete"},f)},d),g=b.subscribe(async function(b,d,f){var g=await a.iterator(f,{gte:b,lte:b}).next();if(!e||g.done)return;await c(b,d.operation==="add"?{operation:"add",value:[g.value[1],d.value]}:d.operation==="put"?{operation:"put",value:[g.value[1],d.value]}:{operation:"delete"},f)},d);return function(){e=!1,f(),g()}}},h)}function o(a){var b=this,c=new Map();function e(b,c,d,e,g){var h=JSON.stringify(d),i=b.get(h);i==null&&(i=[],b.set(h,i));i.forEach(function(a){return a()});i.length=0;var j=i;g.forEach(function(g){j.push(g.subscribe(async function(g,h,i){await f(b,c,d,e,i),await c(d,{operation:"put",value:a(e)},i)}))})}function f(b,c,f,g,h){return d("PromiseOrValue").map(k(function(){return a(g)},h),function(a){var d=a[0];a=a[1];e(b,c,f,g,a);return d})}function g(a,b){var c=JSON.stringify(b);if(!a.has(c))return;b=(b=a.get(JSON.stringify(b)))!=null?b:[];b.forEach(function(a){return a()});b.length=0;a.delete(c)}return Object.setPrototypeOf({direction:b.direction,iterator:function(f,g){var h=b.iterator(f,g);return{next:function(b){return d("PromiseOrValue").map(h.next(b),function(g){if(g.done)return g;g=g.value;var b=g[0],h=g[1];return d("PromiseOrValue").map(d("PromiseOrValue").map(k(function(){return a(h)},f),function(a){var f=a[0],g=a[1];d("ReQLBounds").forEachMatchingBounds(c,b,function(a){var c=a[0];a=a[1];return e(c,a,b,h,g)});return f}),function(a){return{done:!1,value:[b,a]}})})}}},keyLength:b.keyLength,subscribe:function(d,e){var h={},i=new Map();c.set(h,[e,[i,d]]);var j=b.subscribe(async function(b,c,e){if(c.operation==="delete")g(i,b),await d(b,c,e);else if(c.operation==="add"){var h=c.value,j=await f(i,d,b,h,e);a(h);await d(b,{operation:"add",value:j},e)}else if(c.operation==="put"){h=c.value;j=await f(i,d,b,h,e);a(h);await d(b,{operation:"put",value:j},e)}},e);return function(){i.forEach(function(a){a.forEach(function(a){return a()})}),c.delete(h),j()}}},h)}function p(a,b){var c=q(a,b);for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return e.reduce(function(a,b){return q(a,b)},c)}function q(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("union requires iterables to be sorted in the same direction","messenger_web_product");var e=Math.max(a.keyLength,b.keyLength);function f(a,b){return b===0||a===0?0:{hd:a.hd,tl:f(a.tl,b-1)}}function g(a){return a.gt!=null?{gt:f(a.gt,e)}:{gte:f(a.gte,e)}}function j(a){return a.lt!=null?{lt:f(a.lt,e)}:{lte:f(a.lte,e)}}function k(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?g(a):{},a.lte!=null||a.lt!=null?j(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(c,g){var h=a.iterator(c,k(g)),j=b.iterator(c,k(g)),l=h.next(),m=j.next();return{next:function(b){b!==void 0&&(l=h.next(f(b,e)),m=j.next(f(b,e)));return d("PromiseOrValue").map(d("PromiseOrValue").all2(l,m),function(b){var c=b[0];b=b[1];function e(a,b){if(a.done)return{done:!0};a={done:!1,value:[i(a.value[0],{hd:b,tl:0}),a.value[1]]};b?l=h.next():m=j.next();return a}if(c.done)return e(b,!1);if(b.done)return e(c,!0);var f=a.direction==="asc"?[c,b]:[b,c],g=f[0];f=f[1];f=d("LSDbKeyComparer").compareKey((g=g.value)==null?void 0:g[0],(g=f.value)==null?void 0:g[0]);if(f<0)return e(c,!0);else return e(b,!1)})}}},keyLength:e+1,subscribe:function(c,d){var e=a.subscribe(function(a,b,d){return c(i(a,{hd:!0,tl:0}),b,d)},d),f=b.subscribe(function(a,b,d){return c(i(a,{hd:!1,tl:0}),b,d)},d);return function(){e(),f()}}},h)}function r(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("merge join requires iterables to be sorted in the same direction","messenger_web_product");return Object.setPrototypeOf({direction:a.direction,iterator:function(c,e){var f=a.iterator(c,e),g=b.iterator(c,e);function h(a){return d("PromiseOrValue").loop(function(a){var b=a[0];a=a[1];if(b.done||a.done)return{action:"break",value:{done:!0}};var c=b.value,e=c[0];c=c[1];var h=a.value,i=h[0];h=h[1];var j=d("LSDbKeyComparer").compareKey(e,i);if(j>0)return d("PromiseOrValue").map(d("PromiseOrValue").all2(b,g.next(e)),function(a){return{action:"continue",value:a}});else if(j<0)return d("PromiseOrValue").map(d("PromiseOrValue").all2(f.next(i),a),function(a){return{action:"continue",value:a}});return{action:"break",value:{done:!1,value:[e,[c,h]]}}},a)}return{next:function(a){return d("PromiseOrValue").map(d("PromiseOrValue").all2(f.next(a),g.next(a)),h)}}},keyLength:Math.max(a.keyLength,b.keyLength),subscribe:function(c,d){var e=!0;async function f(a,b,d,f,g){a=await a.iterator(g,{gte:d,lte:d}).next();if(a.done||!e)return;a=a.value[1];b=f.operation==="add"?{operation:"add",value:b(f.value,a)}:f.operation==="put"?{operation:"put",value:b(f.value,a)}:f;await c(d,b,g)}var g=a.subscribe(function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return f.apply(void 0,[b,function(a,b){return[a,b]}].concat(c))},d),h=b.subscribe(function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return f.apply(void 0,[a,function(a,b){return[b,a]}].concat(c))},d);return function(){e=!1,g(),h()}}},h)}function s(a){var b=this,e=new Map();return Object.setPrototypeOf({direction:b.direction,iterator:function(c,f){var g=b.iterator(c,f),h=0;return{next:function(b){if(h>=a)return{done:!0};else return d("PromiseOrValue").map(g.next(b),function(b){b.done||d("ReQLBounds").forEachMatchingBounds(e,b.value[0],function(c){var d=c[0];c=c[1];c.contents<=a&&(d.has(b.value[0])||(c.contents+=1,d.set(b.value[0],void 0)))});h+=1;return b})}}},keyLength:b.keyLength,subscribe:function(f,g){var h={},i=b.direction==="asc"?1:-1,j=c("BPlusTree")(function(a,b){return d("LSDbKeyComparer").compareKey(a,b)*-i}),k={contents:0};e.set(h,[g,[j,k]]);var l=b.subscribe(async function(c,g,l){var m;m=(m=j.entries().next().value)==null?void 0:m[0];var n=m==null?!0:d("LSDbKeyComparer").compareKey(c,m)*i<=0;if(g.operation==="delete"&&n){k.contents>0&&(j.delete(c),await f(c,g,l));var o=await b.iterator(l,m==null?void 0:i===1?{gt:m}:{lt:m}).next();!o.done&&e.has(h)?(j.set(o.value[0],void 0),await f(o.value[0],{operation:"add",value:o.value[1]},l)):k.contents>0&&(k.contents-=1)}else g.operation==="add"&&k.contents<a?(k.contents+=1,j.set(c,void 0),await f(c,g,l)):g.operation==="add"&&n?(m!=null&&(j.delete(m),await f(m,{operation:"delete"},l)),j.set(c,void 0),await f(c,g,l)):g.operation==="put"&&n&&await f(c,g,l)},g);return function(){e.delete(h);return l()}}},h)}function t(a){return Object.setPrototypeOf({direction:"asc",iterator:function(b,c){return a.entries(b,"asc",c)},keyLength:a.keyLength,subscribe:a.subscribe},h)}function u(a){return Object.setPrototypeOf({direction:"desc",iterator:function(b,c){return a.entries(b,"desc",c)},keyLength:a.keyLength,subscribe:a.subscribe},h)}async function v(a){var b=[];a=a.iterator(new WeakMap());var c=await a.next();while(!c.done)b.push(c.value[1]),c=await a.next();return b}async function w(a){a=a.iterator(new WeakMap());a=await a.next();return a.done?void 0:a.value[1]}async function x(a){a=a.iterator(new WeakMap());a=await a.next();if(a.done)throw c("unrecoverableViolation")("expected result","messenger_web_product");return a.value[1]}g.prototype=h;g.key=a;g.empty=e;g.leftJoin=n;g.union=p;g.mergeJoin=r;g.fromTableAscending=t;g.fromTableDescending=u;g.toArrayAsync=v;g.firstAsync=w;g.firstExnAsync=x}),98);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d of e)if(typeof d!=="string")return null}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b of a)if(typeof b!=="string")return null;return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string",tableName:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"?null:{data:e,indexName:a.indexName,tableName:a.tableName}}function b(a,b){if(a==null)return!0;if(a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0;return!1}function d(a){return{indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName}}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:2075")!=null?b("cr:2075").vault(a):a}function c(a){return b("cr:2075")!=null?b("cr:2075").unvault(a):a}function d(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").unvaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}function e(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").vaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}g.maybeVault=a;g.maybeUnvault=c;g.maybeUnvaultDbRow=d;g.maybeVaultDbRow=e}),98);
__d("MessengerWebEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({ADD_PARTICIPANTS:"add_participants",BIRTHDAYS:"birthdays",CHAT_HEADS:"chat_heads",CHAT_HEADS_OVERFLOW:"chat_heads_overflow",CHAT_SEARCH:"chat_search",CHAT_WITH_SIDEBAR:"chat_with_sidebar",COMMUNITY_HELP:"community_help",COMPAT:"compat",COOKIE:"cookie",CREATE_GROUP_DIALOG:"create_group_dialog",CRISIS_LISTING_ATTACHMENT:"crisis_listing_attachment",EVENTS_PERMALINK:"events_permalink",FEED_POLL:"feed_poll",FEED_STORY_CTA:"feed_story_cta",FILES_TAB:"files_tab",FRIENDS_TAB:"friends_tab",FUNDRAISER:"fundraiser",FUNDRAISER_SUPPORT_REACTIVE_FAQ:"fundraiser_support:reactive_faq",FUNDRAISER_SUPPORT_REACTIVE_MORE_MENU:"fundraiser_support:reactive_more_menu",FUNDRAISER_SUPPORTERS_LIST:"fundraiser_supporters_list",GRATITUDE:"gratitude",GROUP_CHATS:"group_chats",GROUP_EXPERTS_DISCOVERY_INVITE:"group_experts_discovery_invite",GROUP_MEMBERS_TAB:"group_members_tab",GROUP_QUALITY:"group_quality",GROUP_REMOVE_POST_TOMBSTONE:"group_remove_post_tombstone",GROUP_TAB:"group_tab",GROUP_WELCOME_POST:"group_welcome_post",HOVERCARD:"hovercard",INBOX:"inbox",INBOX_TRAY:"inbox_tray",JEWEL:"jewel",JEWEL_NEW_MESSAGE:"jewel_new_message",JEWEL_SEARCH:"jewel_search",JOBS:"jobs",LINKS_TAB:"links_tab",LOCAL_BUSINESSES_NEARBY:"local_businesses_nearby",LWI_SUPPORT_BUTTON:"lwi_support_button",MARKETPLACE:"marketplace",MEDIA_TAB:"media_tab",MEMORIES_HOME:"memories_home",MENTAL_HEALTH:"mental_health",MENTORSHIP:"mentorship",MESSAGE_RECEIVED:"message_received",MUTUAL_FRIENDS_DIALOG:"mutual_friends_dialog",NEW_MESSAGE_BUTTON:"new_msg_button",OFFER:"offer",P2P_PAYMENTS:"p2p_payments",PAGES_ABOUT:"pages_about",PAGES_ADMIN_INVITE_ITEM:"pages_admin_invite_item",PAGES_COMMENT_COMPOSER:"pages_comment_composer",PAGES_COMMUNITY_FRIENDS_DIALOG:"pages_community_friends_dialog",PAGES_CTA:"pages_cta",PAGES_DISCOVER_SUGGESTED_PAGE:"pages_discover_suggested_page",PAGES_HEADER:"pages_header",PAGES_HOME_FRIENDS_DIALOG:"pages_home_friends_dialog",PAGES_HOVERCARD:"pages_hovercard",PAGES_LIKE_INVITE_ITEM:"pages_like_invite_item",PAGES_POPUP_CHAT:"pages_popup_chat",PAGES_PRIVATE_REPLY:"pages_private_reply",POPUP_CHAT_BOX:"popup_chat_box",PROFILE_SERVICES_MENU:"profile_services_menu",REACTOR_LIST:"reactor_list",RESHARES_DIALOG:"reshares_dialog",RHC_SEARCH:"rhc_search",RHC_SEARCH_ICON:"rhc_search_icon",ROOMS_LOBBY:"rooms_lobby",ROOMS_NULL_STATE:"rooms_null_state",SEARCH:"search",SEARCH_RESULT_PAGE:"search_result_page",SHOP:"shop",SIDEBAR:"sidebar",STORIES_VIEWED_BY_LIST:"stories_viewed_by_list",STORY_AGGREGATED_USERS:"story_aggregated_users",STORY_SEEN_BY_LIST:"story_seen_by_list",THREAD_DETAILS:"thread_details",TIMELINE:"timeline",UICE:"uice",UNKNOWN:"unknown",VOLUNTEERING:"volunteering",WORK_SHIFT_SWAP:"work_shift_swap"});f["default"]=a}),66);
__d("MessengerWebEntryPointsUtil.bs",["MessengerWebEntryPoint"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==="pagesLikeInviteThem")return"pages_like_invite_item";else if(a==="pagesPrivateReply")return"pages_private_reply";else if(a==="inboxActiveContacts"||a==="inboxArchived"||a==="inboxSpam"||a==="inboxFolder"||a==="inboxThreadList"||a==="inboxRecentThreads"||a==="inboxRemainingThreads"||a==="pendingRequests"||a==="inboxRestricted"||a==="archieve"||a==="inboxInThread"||a==="inboxPendingRequests")return"inbox";else if(a==="jobs")return c("MessengerWebEntryPoint").jobs;else if(a==="storySeenByList"||a==="friendsTab")return"story_seen_by_list";else if(a==="chatParticipants")return"add_participants";else if(a==="compat")return"compat";else if(a==="cookie")return"cookie";else if(a==="pagesAdminInviteItem")return"pages_admin_invite_item";else if(a==="groupWelcomePost")return"group_welcome_post";else if(a==="sidebarContactsList"||a==="sidebarGroupsList")return"sidebar";else if(a==="jewelNestedFolder"||a==="jewel")return"jewel";else if(a==="shop")return"shop";else if(a==="pageLikeChaining")return c("MessengerWebEntryPoint").PAGE_LIKE_CHAINING;else if(a==="chatheadsOverflow")return"chat_heads_overflow";else if(a==="feedDynamicHoverCard")return"pages_hovercard";else if(a==="messengerUniversalSearch")return"search_result_page";else if(a==="mentorship")return"mentorship";else if(a==="reactorList")return"reactor_list";else if(a==="feedPoll")return"feed_poll";else if(a==="timeline"||a==="feedOrganicPost")return"timeline";else if(a==="pageResponsivenessCard"||a==="pageAboutCard")return"pages_about";else if(a==="inboxSearch"||a==="sidebarSearch"||a==="search")return"search";else if(a==="storyAggregatedUsers")return"story_aggregated_users";else if(a==="fundraiserMoreMenu")return"fundraiser_support:reactive_more_menu";else if(a==="fundraiserFaq")return"fundraiser_support:reactive_faq";else if(a==="notificationInThreadReply")return"message_received";else if(a==="roomsNullState")return"rooms_null_state";else if(a==="storyViewerSheetRow")return"stories_viewed_by_list";else if(a==="feedOrganicPostNewsfeedPagePostCta")return"pages_cta";else if(a==="chatheadsNewMessage")return"new_msg_button";else if(a==="groupExperts"||a==="groupCommunityFriendsDialog")return"group_experts_discovery_invite";else if(a==="hovercard")return"hovercard";else if(a==="crisisListingAttachment")return"crisis_listing_attachment";else if(a==="mentalHealth")return"mental_health";else if(a==="event")return"events_permalink";else if(a==="jewelSearch")return"jewel_search";else if(a==="pagePopupChat")return"pages_popup_chat";else if(a==="communityHelp")return"community_help";else if(a==="jewelNewMessage")return"jewel_new_message";else if(a==="fundraiser")return"fundraiser";else if(a==="memories")return"memories_home";else if(a==="fundraiserSupportersList")return"fundraiser_supporters_list";else if(a==="groupRemovePost")return"group_remove_post_tombstone";else if(a==="pagesHeader")return"pages_header";else if(a==="groupMembers")return"group_members_tab";else if(a==="chatheads")return"chat_heads";else if(a==="birthday")return"birthdays";else if(a==="localBusinessesNearby")return"local_businesses_nearby";else if(a==="marketplace")return"marketplace";else if(a==="mutualFriendsDialog")return"mutual_friends_dialog";else if(a==="feedOrganicPostViewAndMessage")return"feed_story_cta";else if(a==="profileServicesMenu")return"profile_services_menu";else if(a==="adsCta")return"reshares_dialog";else if(a==="offer")return"offer";else if(a==="payments")return"p2p_payments";else if(a==="groupQuality")return"group_quality";else if(a==="pagesHomeFriendsDialog")return"pages_home_friends_dialog";else if(a==="communityFriendsDialog")return"pages_community_friends_dialog";else if(a==="groupChats")return"group_chats";else if(a==="groupTab")return"group_tab";else if(a==="gratitude")return"gratitude";else return"unknown"}function b(a){switch(a){case"groupTab":case"inboxThreadList":case"jewel":return!0;default:return!1}}g.cast=a;g.getEntryPointShouldOverrideThreadSnippetRemoval=b}),98);
__d("MAWEBSwitch",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1}var b=a.prototype;b.set=function(a){this.$1=a;return this.$1};b.isEnabled=function(){return this.$1};return a}();b=new a();c=b;f["default"]=c}),66);
__d("LSPlatformErrorChannel",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h="onLSError",i=new(c("BaseEventEmitter"))();function a(a){i.emit(h,a)}function b(a){var b=i.addListener(h,a);return function(){return b.remove()}}g.emit=a;g.subscribe=b}),98);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],messages:[{indexName:"fk_messages",tableName:"attachments"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"}]};b=a;f["default"]=b}),66);
__d("LSTableSchemas",[],(function(a,b,c,d,e,f){e.exports=[[{name:"sync_groups",id:1,primary_key:["groupId"]},{name:"pending_tasks",id:2,primary_key:["taskId"],indexes:{queueNameTaskId:["queueName","taskId"]},auto_increment:!0},{name:"network_requests",id:3,primary_key:["taskQueueName","syncDatabaseId"]},{name:"_user_info",id:4,primary_key:["id"]},{name:"pending_fire_and_forget_tasks",id:5,primary_key:["taskId"],auto_increment:!0},{name:"user_visible_errors",id:6,primary_key:["errorId"],auto_increment:!0},{name:"mailbox_task_completion_notification_context",id:232,primary_key:["notificationScopeKey"]},{name:"mailbox_task_completion_api_tasks",id:233,primary_key:["taskId"]}],[{name:"contacts",id:7,primary_key:["id"],indexes:{blockedByViewerStatusId:["blockedByViewerStatus","id"]}},{name:"ig_contact_info",id:176,primary_key:["contactId"]},{name:"work_contact_info",id:210,primary_key:["id"]},{name:"contextual_profile_v1",id:216,primary_key:["ownerId","associatedEntityId"],indexes:{associatedEntityIdAndOwner:["associatedEntityId","ownerId"]}},{name:"fb_transport_contacts",id:240,primary_key:["pk"]}],[{name:"reactions",id:8,primary_key:["threadKey","messageId","actorId"]},{name:"threads",id:9,primary_key:["threadKey"],indexes:{lastActivityTimestampMs:["lastActivityTimestampMs","threadKey"],parentThreadKeyLastActivityTimestampMs:["parentThreadKey","lastActivityTimestampMs","threadKey"],clientThreadKey:["clientThreadKey","threadKey"],threadTypeLastActivityTimestampMs:["threadType","lastActivityTimestampMs","threadKey"]}},{name:"threads_ranges_v2__generated",id:10,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"]},{name:"messages",id:12,primary_key:["threadKey","timestampMs","messageId"],indexes:{optimistic:["offlineThreadingId"],messageDisplayOrder:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],messageId:["messageId"]}},{name:"messages_ranges_v2__generated",id:13,primary_key:["threadKey","minTimestampMs","minMessageId"]},{name:"participants",id:14,primary_key:["threadKey","contactId"],indexes:{threadKeyReadWatermarkTimestampMs:["threadKey","readWatermarkTimestampMs","contactId"],threadKeyDeliveredWatermarkTimestampMs:["threadKey","deliveredWatermarkTimestampMs","contactId"]}},{name:"ctas",id:15,primary_key:["ctaId"]},{name:"attachments",id:16,primary_key:["threadKey","messageId","attachmentFbid"],indexes:{fk_messages:["threadKey","timestampMs","messageId","attachmentFbid"],idx_attachments_collapsible_id:["threadKey","collapsibleId","messageId","attachmentFbid"]}},{name:"attachments_ranges_v2__generated",id:17,primary_key:["threadKey","mediaGroup","minTimestampMs"]},{name:"attachment_items",id:18,primary_key:["attachmentFbid","attachmentIndex"],indexes:{fk_attachments:["threadKey","messageId","attachmentFbid","attachmentIndex"]}},{name:"attachment_ctas",id:19,primary_key:["ctaId"],indexes:{fk_attachments:["threadKey","messageId","attachmentFbid","ctaId"]}},{name:"quick_reply_ctas",id:20,primary_key:["threadKey","messageId","ctaId"]},{name:"m_suggestions",id:21,primary_key:["threadKey","timestampMs","suggestionId"]},{name:"rtc_signals",id:22,primary_key:["timestampMs","type_"]},{name:"rtc_ongoing_calls_on_threads_v2",id:23,primary_key:["threadKey"]},{name:"rtc_multiway_call_initiation_conference_names",id:24,primary_key:["threadKey"]},{name:"mailbox_metadata",id:25,primary_key:["id"]},{name:"group_membership_approval_requests",id:26,primary_key:["threadKey","contactId"]},{name:"admin_message_ctas",id:27,primary_key:["threadKey","messageId","ctaId"],indexes:{ctaId:["ctaId"]}},{name:"thread_nullstate",id:28,primary_key:["threadKey"]},{name:"thread_nullstate_ctas",id:29,primary_key:["ctaId"],indexes:{threadKeyCtaId:["threadKey","ctaId"]}},{name:"focus_mode_ctas",id:30,primary_key:["threadKey","messageId","ctaId"]},{name:"messages_optimistic_context",id:31,primary_key:["taskId"]},{name:"threads_optimistic_context",id:32,primary_key:["taskId"]},{name:"messages_status",id:33,primary_key:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"]},{name:"message_requests",id:34,primary_key:["threadKey"]},{name:"folder_metadata",id:35,primary_key:["parentThreadKey"]},{name:"polls",id:38,primary_key:["pollId"]},{name:"poll_options_v2",id:39,primary_key:["pollId","optionId"]},{name:"poll_votes_v2",id:40,primary_key:["pollId","optionId","contactId"]},{name:"pinned_messages_v2",id:155,primary_key:["threadKey","messageId"]},{name:"filtered_threads_ranges_v3__generated",id:247,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"]},{name:"community_folders",id:162,primary_key:["folderId"]},{name:"community_members",id:170,primary_key:["communityId","contactId","source"],indexes:{communityContactId:["communityId","contactId","source"],communitySource:["communityId","source","name","contactId"]}},{name:"community_members_ranges_v2__generated",id:189,primary_key:["communityId","isAdmin","minName","source"]},{name:"attachment_conversion",id:164,primary_key:["attachmentFbid"]},{name:"saved_messages",id:165,primary_key:["threadKey","messageId"]},{name:"rtc_rooms_on_threads",id:181,primary_key:["threadKey"]},{name:"ig_thread_info",id:194,primary_key:["threadKey"],indexes:{igThreadID:["igThreadId"]}},{name:"group_invites",id:197,primary_key:["threadKey","inviterId","inviteeId"],indexes:{threadKeyInviterIDInviteeID:["threadKey","inviterId","inviteeId"]}},{name:"inbox_threads_ranges",id:198,primary_key:["syncGroup"]},{name:"community_direct_invites_presets",id:199,primary_key:["communityId","presetType","source"]},{name:"msg_pinned_messages_v2",id:205,primary_key:["threadKey","messageId","pinnedTimestampMs"],indexes:{pinnedMessageDisplayOrder:["threadKey","pinnedTimestampMs","messageId"]}},{name:"filtered_messages_ranges_v2__generated",id:211,primary_key:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"]},{name:"taken_down_threads",id:212,primary_key:["threadKey"]},{name:"participant_list_queries",id:219,primary_key:["threadKey"]},{name:"sync_group_threads_ranges",id:220,primary_key:["syncGroup","parentThreadKey"]},{name:"community_chat_message_seen_count",id:221,primary_key:["threadKey","messageId"]},{name:"community_chat_polls",id:223,primary_key:["pollId"]},{name:"community_chat_poll_options",id:224,primary_key:["pollId","optionId"]},{name:"community_chat_poll_votes",id:225,primary_key:["pollId","optionId","contactId"]},{name:"reactions_v2",id:226,primary_key:["threadKey","messageId","reactionFbid","messageTimestamp"],indexes:{optimistic:["threadKey","messageId","reactionFbid"]}},{name:"reactions_v2_details_users",id:227,primary_key:["reactorId","reactionFbid"]},{name:"reactions_v2_details_users_ranges_v2__generated",id:228,primary_key:["reactorId","reactionFbid","minTimestampMs"]},{name:"reaction_v2_types",id:229,primary_key:["reactionFbid","reactionEncodingHexV2"]},{name:"bots",id:230,primary_key:["threadKey","botId"]},{name:"business_comm_items",id:234,primary_key:["threadKey","entId"]},{name:"group_invitations_pending",id:235,primary_key:["linkHash"]},{name:"business_support_notification_settings",id:236,primary_key:["userId"]},{name:"thread_label_mappings",id:237,primary_key:["threadKey","labelId"]},{name:"audio_channel_events",id:238,primary_key:["eventId","roomId"]},{name:"reactions_v2_details",id:239,primary_key:["threadId","messageId","reactorId","reactionFbid"]},{name:"reactions_v2_details_ranges_v2__generated",id:243,primary_key:["threadId","messageId","reactionFbid","minTimestampMs"]},{name:"community_chat_poll_votes_ranges_v2__generated",id:244,primary_key:["pollId","optionId","minTimestampMs"]},{name:"discoverable_chat_participants",id:248,primary_key:["threadId","contactId","source"]},{name:"discoverable_chat_participants_ranges_v2__generated",id:249,primary_key:["threadId","source","minName"]},{name:"roll_calls",id:250,primary_key:["rollCallId","threadKey"]}],[{name:"media_send_jobs",id:51,primary_key:["offlineAttachmentId"]}],[{name:"typing_indicator",id:52,primary_key:["threadKey","senderId"]}],[{name:"server_search_results",id:65,primary_key:["query","resultId","globalIndex"]},{name:"server_search_sections",id:66,primary_key:["query","globalIndex"]},{name:"search_queries",id:67,primary_key:["query"]},{name:"universal_search_recent_searches",id:68,primary_key:["resultId"]},{name:"message_search_results",id:69,primary_key:["type_","query","threadKey","globalIndex"]},{name:"message_search_queries",id:70,primary_key:["type_","query","threadKeyV2"]},{name:"participant_search_queries",id:214,primary_key:["query","threadKey"]}],[{name:"contact_upload_settings",id:74,primary_key:["userid"]},{name:"gdpr_settings",id:75,primary_key:["userid"]},{name:"presence_settings",id:187,primary_key:["userId"]},{name:"persistent_menu_items",id:77,primary_key:["threadKey","ctaId"]},{name:"video_chat_links_joining",id:78,primary_key:["url","optimisticClientToken"],indexes:{optimistic:["optimisticClientToken"]}},{name:"video_chat_links_attempted_joiners",id:79,primary_key:["userId","url"]},{name:"cowatch_sessions",id:80,primary_key:["cowatchSessionId"]},{name:"self_profile",id:81,primary_key:["userId"]},{name:"pinned_threads",id:82,primary_key:["threadKey"],indexes:{pinnedTimestamp:["pinnedTimestamp","threadKey"]}},{name:"messaging_settings",id:83,primary_key:["id"]},{name:"reachability_settings",id:148,primary_key:["audience"]},{name:"feature_limits",id:150,primary_key:["type_"]},{name:"emoji_sets",id:151,primary_key:["categoryIdx","emojiIdx","type_"]},{name:"epd_cookie_settings",id:163,primary_key:[]},{name:"cm_community_list",id:166,primary_key:["communityId"]},{name:"cm_channel_list",id:167,primary_key:["communityId","threadId"]},{name:"cm_category_list",id:182,primary_key:["communityId","categoryId"]},{name:"notification_settings",id:175,primary_key:["id"]},{name:"encrypted_backups_status_trigger",id:195,primary_key:["pk"],auto_increment:!0},{name:"fb_events",id:200,primary_key:["eventId"]},{name:"cm_channel_events",id:201,primary_key:["eventId","threadId"],indexes:{eventsInThread:["threadId","eventId"]}},{name:"community_events",id:202,primary_key:["eventId","communityId"]},{name:"avatar_settings",id:209,primary_key:["threadId"]},{name:"thread_labels",id:215,primary_key:["labelId"],indexes:{sortKey:["sortKey"]}},{name:"business_support_case_details",id:222,primary_key:["threadId"]},{name:"rtc_call_events",id:245,primary_key:["pk"],auto_increment:!0}],[{name:"payment_type_paypal",id:85,primary_key:["paymentCredentialId"]},{name:"payment_type_card",id:86,primary_key:["paymentCredentialId"]},{name:"payment_type_bank_v2",id:88,primary_key:["paymentMethodId"]},{name:"payment_method",id:89,primary_key:["paymentMethodId"]},{name:"new_payment_credential_option",id:90,primary_key:["credentialType"]},{name:"paypal_funding_options",id:91,primary_key:["optionId"]},{name:"payments_eligibility",id:92,primary_key:["userId"]},{name:"payments_ofac_blacklisted_countries",id:93,primary_key:["isoCountryCode"]},{name:"p2m_invoice",id:94,primary_key:["orderId"]},{name:"p2m_invoice_attachment",id:95,primary_key:["orderId","productItemId"]},{name:"payment_price_list_item",id:96,primary_key:["orderId","id"]},{name:"p2m_charge",id:97,primary_key:["orderId"]},{name:"payment_p2p_risk_verification",id:98,primary_key:["requestId","transactionId"]},{name:"payment_transaction_v2",id:99,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"p2p_request_v2",id:100,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"p2p_transfer_v2",id:101,primary_key:["timestampMs","transactionId"],indexes:{optimistic:["optimisticTransactionId"]}},{name:"transaction_history",id:102,primary_key:["transactionId"]},{name:"payments_transaction_details_core",id:103,primary_key:["transactionId"]},{name:"payments_transaction_details_ctas",id:104,primary_key:["transactionId","ctaId"]},{name:"payments_transaction_details_rows",id:105,primary_key:["transactionId","rowOrder"]},{name:"payment_user_auth",id:106,primary_key:["userId"]},{name:"payment_client_auth_token",id:107,primary_key:["userId","deviceId","appId"]},{name:"payment_auth_request_results",id:108,primary_key:["requestId"]},{name:"payment_server_request_results",id:109,primary_key:["requestId"]},{name:"payment_pin_verification_results",id:113,primary_key:["requestId"]}],[{name:"connectivity_status",id:114,primary_key:["statusId"],auto_increment:!0},{name:"user_visible_network_connectivity_error",id:115,primary_key:["statusId"],auto_increment:!0}],[{name:"thread_themes",id:116,primary_key:["fbid"]},{name:"gradient_colors",id:117,primary_key:["themeFbid","gradientIndex"]}],[{name:"in_thread_banner",id:118,primary_key:["threadKey","bannerId"]},{name:"in_thread_banner_ctas",id:119,primary_key:["bannerId","ctaId"]},{name:"in_thread_banner_overflow_menu",id:120,primary_key:["threadKey","bannerId"]}],[{name:"stickers",id:121,primary_key:["stickerId"],indexes:{stickerPackId:["stickerPackId","stickerId"]}},{name:"sticker_packs",id:122,primary_key:["packId"]},{name:"sticker_search_results",id:123,primary_key:["resultIndex","query","type_"]},{name:"sticker_search_queries",id:124,primary_key:["query"]},{name:"sticker_search_featured_tags",id:125,primary_key:["tagIndex"]},{name:"sticker_to_collection",id:126,primary_key:["stickerId","collectionId"]},{name:"sticker_pack_details",id:127,primary_key:["packId"]},{name:"sticker_store_pack_indices",id:128,primary_key:["packId"]}],[{name:"forward_content",id:129,primary_key:["value","type_"]}],[{name:"linked_groups",id:130,primary_key:["id"],indexes:{threadKey:["threadKey"]}}],[{name:"ranking_scores",id:134,primary_key:["contactId","scoreType"],indexes:{scoreTypeContactId:["scoreType","contactId"]}},{name:"ranking_requests",id:135,primary_key:["scoreType"]},{name:"value_model_rules",id:136,primary_key:["product","ruleIndex"]},{name:"value_model_features",id:137,primary_key:["feature"]},{name:"value_model_output",id:138,primary_key:["product","contactId"]}],[{name:"story_buckets",id:53,primary_key:["bucketId"],indexes:{optimistic:["ownerId","bucketType"]}},{name:"stories",id:54,primary_key:["storyId"],indexes:{optimistic:["optimisticClientId"]}},{name:"story_viewers",id:55,primary_key:["storyId","viewerContactId","interactionType"]},{name:"story_reactions",id:56,primary_key:["reactionId"],indexes:{optimistic:["optimisticClientId"]}},{name:"story_ad_unit",id:57,primary_key:["adPosition","clientToken"]},{name:"story_ad_card",id:58,primary_key:["adPosition","clientToken","cardId"]},{name:"story_ad_ctas",id:59,primary_key:["ctaId"]},{name:"story_overlays",id:60,primary_key:["storyId","storyOverlayId"]},{name:"story_buckets_paginated_queries",id:61,primary_key:["queryId"]},{name:"status",id:62,primary_key:["statusId"],indexes:{optimistic:["optimisticClientId"]}},{name:"rooms",id:63,primary_key:["roomId"],indexes:{optimistic:["optimisticClientToken"]}},{name:"room_participants",id:64,primary_key:["roomId","participantId","type_"],indexes:{optimistic:["roomId","participantId"]}}],[{name:"live_location_sharers",id:149,primary_key:["threadKey","userId"]}],[{name:"mi_act_mapping_table",id:173,primary_key:["serverThreadKey","clientThreadPk","jid"],indexes:{fk_threads:["serverThreadKey"],chat_id:["clientThreadPk"],jid:["jid"]}},{name:"media_staging",id:161,primary_key:["offlineAttachmentId"]}],[{name:"data_trace_meta",id:153,primary_key:["traceId"],indexes:{shouldFlushInitTimestampMsTraceId:["shouldFlush","initTimestampMs","traceId"]}},{name:"data_trace_addon",id:154,primary_key:["addonId"],indexes:{traceIdAddonId:["traceId","addonId"]},auto_increment:!0}],[{name:"ad_context",id:160,primary_key:["adId"]}],[{name:"thread_proactive_warning_settings",id:183,primary_key:["threadKey"]},{name:"client_thread_proactive_warning_settings",id:241,primary_key:["threadPk"]}],[{name:"presence_states",id:186,primary_key:["contactId"],indexes:{statusContactId:["status","contactId"]}}],[{name:"available_reactions",id:188,primary_key:["emojiIdx"]}],[{name:"pending_backups_context_v2",id:177,primary_key:["pk"],indexes:{fk_pending_tasks:["pendingBackupTaskId"]},auto_increment:!0},{name:"secure_encrypted_backups_client_state",id:168,primary_key:["backupId"]},{name:"encrypted_backups_debug_metadata",id:206,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata",id:207,primary_key:["epochId"]},{name:"encrypted_backups_debug_metadata_v2",id:217,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata_v2",id:218,primary_key:["epochId"]},{name:"secure_encrypted_backups_epochs",id:169,primary_key:["epochId"],indexes:{fk_secure_encrypted_backups_client_state:["backupId","epochId"]}},{name:"encrypted_backups",id:172,primary_key:["pk"],auto_increment:!0},{name:"secure_encrypted_backups_generated_recovery_code",id:174,primary_key:["pk"]},{name:"secure_encrypted_backups_recovery_code_status",id:178,primary_key:["pk"]},{name:"secure_recovery_code_data",id:179,primary_key:["taskId"],indexes:{fk_pending_tasks:["taskId"]}},{name:"secure_encrypted_backups_message_thread_id_context",id:180,primary_key:["taskId","listId"],indexes:{fk_pending_tasks:["taskId"]}},{name:"encrypted_backups_virtual_devices",id:184,primary_key:["pk"],auto_increment:!0},{name:"encrypted_backups_metadata",id:196,primary_key:["backupId"]},{name:"device_metadata",id:185,primary_key:["pk"]},{name:"encrypted_backup_restore_task_payload_context",id:190,primary_key:["taskId"]},{name:"encrypted_backups_dyi_backup_restore_status",id:208,primary_key:["pk"]},{name:"encrypted_backups_message_backup_status",id:213,primary_key:["messagePk"]},{name:"encrypted_backups_client_restore_status",id:231,primary_key:["threadId"]},{name:"third_party_id_store",id:242,primary_key:["platform"]}],[{name:"secure_encrypted_backups_devices",id:191,primary_key:["deviceId"]},{name:"secure_encrypted_backups_device_supported_versions",id:192,primary_key:["deviceId","supportedVersion"],indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:["deviceId","supportedVersion"]}}],[{name:"e2ee_dummy_table_for_sync",id:171,primary_key:["placeholder"]},{name:"cutover_threads",id:193,primary_key:["openThreadId"]}],[{name:"community_messaging_aggregated_user_presence_counts_for_community",id:203,primary_key:["folderId"]},{name:"community_messaging_aggregated_copresence_counts_for_chat",id:204,primary_key:["threadId"]}],[{name:"workrooms_co_presence_states",id:246,primary_key:["userId"],indexes:{userCoPresence:["userId","coPresenceObjectId"]}}],[{name:"persistent_menu_ctas",id:251,primary_key:["threadKey","ctaId"]}],[{name:"workroom_creation_requests",id:252,primary_key:["creationId"]}]]}),null);
__d("LSMetadata",["LSDbForeignKeys","LSTableSchemas","ReStoreDefaultValuesMetadata","ReStoreIndexMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b={},e={},f=-1;for(a of a)for(var g of a){var h;h={autoIncrement:(h=g.auto_increment)!=null?h:!1,cascadeUpdates:(h=c("LSDbForeignKeys")[g.name])!=null?h:[],id:parseInt(g.id,10),indexes:(h=g.indexes)!=null?h:{},name:g.name,primaryKeyIds:g.primary_key};b[h.id]=h;e[h.name]=h;h.id>f&&(f=h.id)}h={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]};b[h.id]=h;e[h.name]=h;g={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]};b[g.id]=g;e[g.name]=g;return{tableIds:b,tableNames:e}}function a(a){a=h(a);var b=a.tableIds;a=a.tableNames;return{tableIds:b,tableNames:a}}b=a(c("LSTableSchemas"));g.buildTableData=h;g.buildMetadata=a;g.metadata=b}),98);
__d("LSMailboxMessagesRangeQueryDirection.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").neg_one;c=b("bs_caml_int64").zero;d=b("bs_caml_int64").one;f.beforeLegacy=a;f.before=c;f.after=d}),null);
__d("LSIntEnum",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("I64").of_float(a)}function b(a){return d("I64").to_float(a)}g.ofNumber=a;g.toNumber=b}),98);
__d("bs_js_dict",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(c in a)return b("bs_caml_option").some(a[c])}var g=function(a,b){delete a[b]};function c(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0;e<c;++e){var f=b[e];d[e]=[f,a[f]]}return d}function d(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0;e<c;++e)d[e]=a[b[e]];return d}function e(a){var b={};a=a;while(!0){var c=a;if(!c)return b;var d=c.hd;b[d[0]]=d[1];a=c.tl;continue}}function h(a){var b={},c=a.length;for(var d=0;d<c;++d){var e=a[d];b[e[0]]=e[1]}return b}function i(a,b){var c={},d=Object.keys(b),e=d.length;for(var f=0;f<e;++f){var g=d[f];c[g]=a(b[g])}return c}f.get=a;f.unsafeDeleteKey=g;f.entries=c;f.values=d;f.fromList=e;f.fromArray=h;f.map=i}),null);/*FB_PKG_DELIM*/
__d("WAResultOrError",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){function g(a,b){if(b!=null)return{success:!1,error:a,payload:b};else return{success:!1,error:a}}function h(a){return{success:!0,value:a}}function a(a,b){return!a.success?a:h(b(a.value))}function c(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a);return!a.success?a:h(b(a.value))});return i.apply(this,arguments)}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!a.success)return a;b=(yield b(a.value));return h(b)});return k.apply(this,arguments)}function d(a,b){return a.success?h(a.value):g(b(a.error),a.payload)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a.success)return h(a.value);b=(yield b(a.error));return g(b,a.payload)});return m.apply(this,arguments)}function e(a,b){return a.success?b(a.value):a}function n(a,c){return a.success?c(a.value):b("Promise").resolve(a)}function o(a){return function(b){return j(b,a)}}function p(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield l(b,a)});return function(a){return c.apply(this,arguments)}}()}f.makeError=g;f.makeResult=h;f.mapResult=a;f.mapAsyncResult=c;f.asyncMapResult=j;f.mapError=d;f.asyncMapError=l;f.chain=e;f.asyncChain=n;f.onResult=o;f.catchError=p}),66);
__d("LocalStorageWrapper",["CurrentUser","WAResultOrError","isQuotaExceededError","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("PersistedQueue").__setRef("LocalStorageWrapper");function i(a){var b=null;try{b=window.localStorage;if(b!=null&&typeof b.setItem==="function"&&typeof b.removeItem==="function"){var c="__test__"+Date.now();b.setItem(c,"");b.removeItem(c)}else return null}catch(c){if(d("isQuotaExceededError").isStorageQuotaExceededError(b,c)===!1){a("Failed to get localstorage");return null}}return b}function a(a){try{a=i(a);return a!=null}catch(a){return!1}}function j(a){try{var b=0,c={};for(var d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;var e=(a[d].length+d.length)*2;b+=e;e/1024>1e3&&(c[d.substr(0,50)]=(e/1024).toFixed(2))}c.total=(b/1024).toFixed(2);return JSON.stringify(c)}catch(a){return"Can't calculate localStorage"}}function b(a,b,c,e,f){if(a==null)return d("WAResultOrError").makeError("null-storage");try{a.setItem(b,c)}catch(i){f!=null&&f(i);if(d("CurrentUser").isEmployee()){var g=j(a);h.onReady(function(a){a=a.isQueueActivateExperiment().toString();e(i+" - Storage quota exceeded while setting "+b+":"+c+", queueActivateExp:"+a+" "+g)})}else e(i+" - Storage quota exceeded while setting "+b+":"+c);return d("WAResultOrError").makeError("quota-exceeded")}return d("WAResultOrError").makeResult()}function e(a,b,c){a==null?c("not storage found"):a.removeItem(b)}function f(a,b,c){if(a==null){c("not storage found");return null}else return a.getItem(b)}g.getStorage=i;g.isLocalStorageAvailable=a;g.setItemGuarded=b;g.removeItemGuarded=e;g.getItemGuarded=f}),98);
__d("MWLocalStorageErrorHandler",["cr:3449","cr:529"],(function(a,b,c,d,e,f,g){"use strict";function a(a){b("cr:529")&&b("cr:3449")&&b("cr:529").emit(new(b("cr:3449").ReStoreLocalStorageQuotaExceed)(a.message))}g.onQuotaExceeded=a}),98);
__d("MAWLocalStorage",["LocalStorageWrapper","MWLocalStorageErrorHandler","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["not storage found"]);h=function(){return a};return a}function i(a){d("WALogger").LOG([a])}function j(a){d("WALogger").ERROR([a])}function a(){return d("LocalStorageWrapper").getStorage(i)}function b(){return d("LocalStorageWrapper").isLocalStorageAvailable(i)}function c(a,b,c){return d("LocalStorageWrapper").setItemGuarded(a,b,c,j,d("MWLocalStorageErrorHandler").onQuotaExceeded)}function e(a,b){a==null?d("WALogger").ERROR(h()):a.removeItem(b)}g.getStorage=a;g.isLocalStorageAvailable=b;g.setItemGuarded=c;g.removeItemGuarded=e}),98);
__d("WAArrayBufferUtils",["Promise","WAErr"],(function(a,b,c,d,e,f,g){function a(a){var b=new ArrayBuffer(a.length);b=new Uint8Array(b);var c,d;for(c=0,d=a.length;c<d;c++)b[c]=a.charCodeAt(c);return b.buffer}function d(a,c){c===void 0&&(c=5e5);return new(b("Promise"))(function(b,d){var e=a.length,f=new ArrayBuffer(e),g=new Uint8Array(f),h=0;setTimeout(i,0);function i(){var d=Math.min(h+c,e);while(h<d)g[h]=a.charCodeAt(h),h++;if(h===e){b(f);return}setTimeout(i,16)}})}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var h=8388607;function f(a,b){a=new Uint8Array(a);if(b>h)throw c("WAErr")("Divisor is too big");var d=0;for(var e=0;e<a.length;++e)d=((d<<8)+a[e])%b;return d}function i(a){a=a.map(function(a){return new Uint8Array(a)});var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength},0);return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}function j(a,b){a=new Uint8Array(a);b=new Uint8Array(b);return k(a,b)}function k(a,b){if(a.byteLength!==b.byteLength)return!1;for(var c=0;c!==a.byteLength;c++)if(a[c]!==b[c])return!1;return!0}g.stringToArrayBuffer=a;g.largeStringToArrayBuffer=d;g.arrayBufferToString=e;g.arrayBufferMod=f;g.concatBuffers=i;g.arrayBuffersEqualUNSAFE=j;g.uint8ArraysEqualUNSAFE=k}),98);
/**
 * License: https://www.facebook.com/legal/license/OKBVmODmb-W/
 */
__d("tweetnacl-1.0.3",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(a){var b=function(a){var b,c=new Float64Array(16);if(a)for(b=0;b<a.length;b++)c[b]=a[b];return c},c=function(){throw new Error("no PRNG")},d=new Uint8Array(16),e=new Uint8Array(32);e[0]=9;var f=b(),g=b([1]),h=b([56129,1]),i=b([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),j=b([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=b([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=b([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=b([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function n(a,b,c,d){a[b]=c>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=c&255,a[b+4]=d>>24&255,a[b+5]=d>>16&255,a[b+6]=d>>8&255,a[b+7]=d&255}function o(a,b,c,d,e){var f,g=0;for(f=0;f<e;f++)g|=a[b+f]^c[d+f];return(1&g-1>>>8)-1}function p(a,b,c,d){return o(a,b,c,d,16)}function q(a,b,c,d){return o(a,b,c,d,32)}function r(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;var r=e,s=f,t=g,u=h,v=i,w=j,x=k,y=l,z=m,A=b,B=n,C=o,D=p,E=q,F=c,G=d,H;for(var I=0;I<20;I+=2)H=r+D|0,v^=H<<7|H>>>32-7,H=v+r|0,z^=H<<9|H>>>32-9,H=z+v|0,D^=H<<13|H>>>32-13,H=D+z|0,r^=H<<18|H>>>32-18,H=w+s|0,A^=H<<7|H>>>32-7,H=A+w|0,E^=H<<9|H>>>32-9,H=E+A|0,s^=H<<13|H>>>32-13,H=s+E|0,w^=H<<18|H>>>32-18,H=B+x|0,F^=H<<7|H>>>32-7,H=F+B|0,t^=H<<9|H>>>32-9,H=t+F|0,x^=H<<13|H>>>32-13,H=x+t|0,B^=H<<18|H>>>32-18,H=G+C|0,u^=H<<7|H>>>32-7,H=u+G|0,y^=H<<9|H>>>32-9,H=y+u|0,C^=H<<13|H>>>32-13,H=C+y|0,G^=H<<18|H>>>32-18,H=r+u|0,s^=H<<7|H>>>32-7,H=s+r|0,t^=H<<9|H>>>32-9,H=t+s|0,u^=H<<13|H>>>32-13,H=u+t|0,r^=H<<18|H>>>32-18,H=w+v|0,x^=H<<7|H>>>32-7,H=x+w|0,y^=H<<9|H>>>32-9,H=y+x|0,v^=H<<13|H>>>32-13,H=v+y|0,w^=H<<18|H>>>32-18,H=B+A|0,C^=H<<7|H>>>32-7,H=C+B|0,z^=H<<9|H>>>32-9,H=z+C|0,A^=H<<13|H>>>32-13,H=A+z|0,B^=H<<18|H>>>32-18,H=G+F|0,D^=H<<7|H>>>32-7,H=D+G|0,E^=H<<9|H>>>32-9,H=E+D|0,F^=H<<13|H>>>32-13,H=F+E|0,G^=H<<18|H>>>32-18;r=r+e|0;s=s+f|0;t=t+g|0;u=u+h|0;v=v+i|0;w=w+j|0;x=x+k|0;y=y+l|0;z=z+m|0;A=A+b|0;B=B+n|0;C=C+o|0;D=D+p|0;E=E+q|0;F=F+c|0;G=G+d|0;a[0]=r>>>0&255;a[1]=r>>>8&255;a[2]=r>>>16&255;a[3]=r>>>24&255;a[4]=s>>>0&255;a[5]=s>>>8&255;a[6]=s>>>16&255;a[7]=s>>>24&255;a[8]=t>>>0&255;a[9]=t>>>8&255;a[10]=t>>>16&255;a[11]=t>>>24&255;a[12]=u>>>0&255;a[13]=u>>>8&255;a[14]=u>>>16&255;a[15]=u>>>24&255;a[16]=v>>>0&255;a[17]=v>>>8&255;a[18]=v>>>16&255;a[19]=v>>>24&255;a[20]=w>>>0&255;a[21]=w>>>8&255;a[22]=w>>>16&255;a[23]=w>>>24&255;a[24]=x>>>0&255;a[25]=x>>>8&255;a[26]=x>>>16&255;a[27]=x>>>24&255;a[28]=y>>>0&255;a[29]=y>>>8&255;a[30]=y>>>16&255;a[31]=y>>>24&255;a[32]=z>>>0&255;a[33]=z>>>8&255;a[34]=z>>>16&255;a[35]=z>>>24&255;a[36]=A>>>0&255;a[37]=A>>>8&255;a[38]=A>>>16&255;a[39]=A>>>24&255;a[40]=B>>>0&255;a[41]=B>>>8&255;a[42]=B>>>16&255;a[43]=B>>>24&255;a[44]=C>>>0&255;a[45]=C>>>8&255;a[46]=C>>>16&255;a[47]=C>>>24&255;a[48]=D>>>0&255;a[49]=D>>>8&255;a[50]=D>>>16&255;a[51]=D>>>24&255;a[52]=E>>>0&255;a[53]=E>>>8&255;a[54]=E>>>16&255;a[55]=E>>>24&255;a[56]=F>>>0&255;a[57]=F>>>8&255;a[58]=F>>>16&255;a[59]=F>>>24&255;a[60]=G>>>0&255;a[61]=G>>>8&255;a[62]=G>>>16&255;a[63]=G>>>24&255}function s(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;e=e;f=f;g=g;h=h;i=i;j=j;k=k;l=l;m=m;b=b;n=n;o=o;p=p;q=q;c=c;d=d;var r;for(var s=0;s<20;s+=2)r=e+p|0,i^=r<<7|r>>>32-7,r=i+e|0,m^=r<<9|r>>>32-9,r=m+i|0,p^=r<<13|r>>>32-13,r=p+m|0,e^=r<<18|r>>>32-18,r=j+f|0,b^=r<<7|r>>>32-7,r=b+j|0,q^=r<<9|r>>>32-9,r=q+b|0,f^=r<<13|r>>>32-13,r=f+q|0,j^=r<<18|r>>>32-18,r=n+k|0,c^=r<<7|r>>>32-7,r=c+n|0,g^=r<<9|r>>>32-9,r=g+c|0,k^=r<<13|r>>>32-13,r=k+g|0,n^=r<<18|r>>>32-18,r=d+o|0,h^=r<<7|r>>>32-7,r=h+d|0,l^=r<<9|r>>>32-9,r=l+h|0,o^=r<<13|r>>>32-13,r=o+l|0,d^=r<<18|r>>>32-18,r=e+h|0,f^=r<<7|r>>>32-7,r=f+e|0,g^=r<<9|r>>>32-9,r=g+f|0,h^=r<<13|r>>>32-13,r=h+g|0,e^=r<<18|r>>>32-18,r=j+i|0,k^=r<<7|r>>>32-7,r=k+j|0,l^=r<<9|r>>>32-9,r=l+k|0,i^=r<<13|r>>>32-13,r=i+l|0,j^=r<<18|r>>>32-18,r=n+b|0,o^=r<<7|r>>>32-7,r=o+n|0,m^=r<<9|r>>>32-9,r=m+o|0,b^=r<<13|r>>>32-13,r=b+m|0,n^=r<<18|r>>>32-18,r=d+c|0,p^=r<<7|r>>>32-7,r=p+d|0,q^=r<<9|r>>>32-9,r=q+p|0,c^=r<<13|r>>>32-13,r=c+q|0,d^=r<<18|r>>>32-18;a[0]=e>>>0&255;a[1]=e>>>8&255;a[2]=e>>>16&255;a[3]=e>>>24&255;a[4]=j>>>0&255;a[5]=j>>>8&255;a[6]=j>>>16&255;a[7]=j>>>24&255;a[8]=n>>>0&255;a[9]=n>>>8&255;a[10]=n>>>16&255;a[11]=n>>>24&255;a[12]=d>>>0&255;a[13]=d>>>8&255;a[14]=d>>>16&255;a[15]=d>>>24&255;a[16]=k>>>0&255;a[17]=k>>>8&255;a[18]=k>>>16&255;a[19]=k>>>24&255;a[20]=l>>>0&255;a[21]=l>>>8&255;a[22]=l>>>16&255;a[23]=l>>>24&255;a[24]=m>>>0&255;a[25]=m>>>8&255;a[26]=m>>>16&255;a[27]=m>>>24&255;a[28]=b>>>0&255;a[29]=b>>>8&255;a[30]=b>>>16&255;a[31]=b>>>24&255}function t(a,b,c,d){r(a,b,c,d)}function u(a,b,c,d){s(a,b,c,d)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(a,b,c,d,e,f,g){var h=new Uint8Array(16),i=new Uint8Array(64),j;for(j=0;j<16;j++)h[j]=0;for(j=0;j<8;j++)h[j]=f[j];while(e>=64){t(i,h,g,v);for(j=0;j<64;j++)a[b+j]=c[d+j]^i[j];f=1;for(j=8;j<16;j++)f=f+(h[j]&255)|0,h[j]=f&255,f>>>=8;e-=64;b+=64;d+=64}if(e>0){t(i,h,g,v);for(j=0;j<e;j++)a[b+j]=c[d+j]^i[j]}return 0}function x(a,b,c,d,e){var f=new Uint8Array(16),g=new Uint8Array(64),h;for(h=0;h<16;h++)f[h]=0;for(h=0;h<8;h++)f[h]=d[h];while(c>=64){t(g,f,e,v);for(h=0;h<64;h++)a[b+h]=g[h];d=1;for(h=8;h<16;h++)d=d+(f[h]&255)|0,f[h]=d&255,d>>>=8;c-=64;b+=64}if(c>0){t(g,f,e,v);for(h=0;h<c;h++)a[b+h]=g[h]}return 0}function y(a,b,c,d,e){var f=new Uint8Array(32);u(f,d,e,v);e=new Uint8Array(8);for(var g=0;g<8;g++)e[g]=d[g+16];return x(a,b,c,e,f)}function z(a,b,c,d,e,f,g){var h=new Uint8Array(32);u(h,f,g,v);g=new Uint8Array(8);for(var i=0;i<8;i++)g[i]=f[i+16];return w(a,b,c,d,e,g,h)}var A=function(a){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var b,c;b=a[0]&255|(a[1]&255)<<8;this.r[0]=b&8191;c=a[2]&255|(a[3]&255)<<8;this.r[1]=(b>>>13|c<<3)&8191;b=a[4]&255|(a[5]&255)<<8;this.r[2]=(c>>>10|b<<6)&7939;c=a[6]&255|(a[7]&255)<<8;this.r[3]=(b>>>7|c<<9)&8191;b=a[8]&255|(a[9]&255)<<8;this.r[4]=(c>>>4|b<<12)&255;this.r[5]=b>>>1&8190;c=a[10]&255|(a[11]&255)<<8;this.r[6]=(b>>>14|c<<2)&8191;b=a[12]&255|(a[13]&255)<<8;this.r[7]=(c>>>11|b<<5)&8065;c=a[14]&255|(a[15]&255)<<8;this.r[8]=(b>>>8|c<<8)&8191;this.r[9]=c>>>5&127;this.pad[0]=a[16]&255|(a[17]&255)<<8;this.pad[1]=a[18]&255|(a[19]&255)<<8;this.pad[2]=a[20]&255|(a[21]&255)<<8;this.pad[3]=a[22]&255|(a[23]&255)<<8;this.pad[4]=a[24]&255|(a[25]&255)<<8;this.pad[5]=a[26]&255|(a[27]&255)<<8;this.pad[6]=a[28]&255|(a[29]&255)<<8;this.pad[7]=a[30]&255|(a[31]&255)<<8};A.prototype.blocks=function(a,b,c){var d=this.fin?0:1<<11,e,f,g,h,i,j,k,l,m,n,o,p=this.h[0],q=this.h[1],r=this.h[2],s=this.h[3],t=this.h[4],u=this.h[5],v=this.h[6],w=this.h[7],x=this.h[8],y=this.h[9],z=this.r[0],A=this.r[1],B=this.r[2],C=this.r[3],D=this.r[4],E=this.r[5],F=this.r[6],G=this.r[7],H=this.r[8],I=this.r[9];while(c>=16)e=a[b+0]&255|(a[b+1]&255)<<8,p+=e&8191,f=a[b+2]&255|(a[b+3]&255)<<8,q+=(e>>>13|f<<3)&8191,e=a[b+4]&255|(a[b+5]&255)<<8,r+=(f>>>10|e<<6)&8191,f=a[b+6]&255|(a[b+7]&255)<<8,s+=(e>>>7|f<<9)&8191,e=a[b+8]&255|(a[b+9]&255)<<8,t+=(f>>>4|e<<12)&8191,u+=e>>>1&8191,f=a[b+10]&255|(a[b+11]&255)<<8,v+=(e>>>14|f<<2)&8191,e=a[b+12]&255|(a[b+13]&255)<<8,w+=(f>>>11|e<<5)&8191,f=a[b+14]&255|(a[b+15]&255)<<8,x+=(e>>>8|f<<8)&8191,y+=f>>>5|d,e=0,f=e,f+=p*z,f+=q*(5*I),f+=r*(5*H),f+=s*(5*G),f+=t*(5*F),e=f>>>13,f&=8191,f+=u*(5*E),f+=v*(5*D),f+=w*(5*C),f+=x*(5*B),f+=y*(5*A),e+=f>>>13,f&=8191,g=e,g+=p*A,g+=q*z,g+=r*(5*I),g+=s*(5*H),g+=t*(5*G),e=g>>>13,g&=8191,g+=u*(5*F),g+=v*(5*E),g+=w*(5*D),g+=x*(5*C),g+=y*(5*B),e+=g>>>13,g&=8191,h=e,h+=p*B,h+=q*A,h+=r*z,h+=s*(5*I),h+=t*(5*H),e=h>>>13,h&=8191,h+=u*(5*G),h+=v*(5*F),h+=w*(5*E),h+=x*(5*D),h+=y*(5*C),e+=h>>>13,h&=8191,i=e,i+=p*C,i+=q*B,i+=r*A,i+=s*z,i+=t*(5*I),e=i>>>13,i&=8191,i+=u*(5*H),i+=v*(5*G),i+=w*(5*F),i+=x*(5*E),i+=y*(5*D),e+=i>>>13,i&=8191,j=e,j+=p*D,j+=q*C,j+=r*B,j+=s*A,j+=t*z,e=j>>>13,j&=8191,j+=u*(5*I),j+=v*(5*H),j+=w*(5*G),j+=x*(5*F),j+=y*(5*E),e+=j>>>13,j&=8191,k=e,k+=p*E,k+=q*D,k+=r*C,k+=s*B,k+=t*A,e=k>>>13,k&=8191,k+=u*z,k+=v*(5*I),k+=w*(5*H),k+=x*(5*G),k+=y*(5*F),e+=k>>>13,k&=8191,l=e,l+=p*F,l+=q*E,l+=r*D,l+=s*C,l+=t*B,e=l>>>13,l&=8191,l+=u*A,l+=v*z,l+=w*(5*I),l+=x*(5*H),l+=y*(5*G),e+=l>>>13,l&=8191,m=e,m+=p*G,m+=q*F,m+=r*E,m+=s*D,m+=t*C,e=m>>>13,m&=8191,m+=u*B,m+=v*A,m+=w*z,m+=x*(5*I),m+=y*(5*H),e+=m>>>13,m&=8191,n=e,n+=p*H,n+=q*G,n+=r*F,n+=s*E,n+=t*D,e=n>>>13,n&=8191,n+=u*C,n+=v*B,n+=w*A,n+=x*z,n+=y*(5*I),e+=n>>>13,n&=8191,o=e,o+=p*I,o+=q*H,o+=r*G,o+=s*F,o+=t*E,e=o>>>13,o&=8191,o+=u*D,o+=v*C,o+=w*B,o+=x*A,o+=y*z,e+=o>>>13,o&=8191,e=(e<<2)+e|0,e=e+f|0,f=e&8191,e=e>>>13,g+=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=m,x=n,y=o,b+=16,c-=16;this.h[0]=p;this.h[1]=q;this.h[2]=r;this.h[3]=s;this.h[4]=t;this.h[5]=u;this.h[6]=v;this.h[7]=w;this.h[8]=x;this.h[9]=y};A.prototype.finish=function(a,b){var c=new Uint16Array(10),d,e;if(this.leftover){e=this.leftover;this.buffer[e++]=1;for(;e<16;e++)this.buffer[e]=0;this.fin=1;this.blocks(this.buffer,0,16)}d=this.h[1]>>>13;this.h[1]&=8191;for(e=2;e<10;e++)this.h[e]+=d,d=this.h[e]>>>13,this.h[e]&=8191;this.h[0]+=d*5;d=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=d;d=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=d;c[0]=this.h[0]+5;d=c[0]>>>13;c[0]&=8191;for(e=1;e<10;e++)c[e]=this.h[e]+d,d=c[e]>>>13,c[e]&=8191;c[9]-=1<<13;d=(d^1)-1;for(e=0;e<10;e++)c[e]&=d;d=~d;for(e=0;e<10;e++)this.h[e]=this.h[e]&d|c[e];this.h[0]=(this.h[0]|this.h[1]<<13)&65535;this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535;this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535;this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535;this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535;this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535;this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535;this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;c=this.h[0]+this.pad[0];this.h[0]=c&65535;for(e=1;e<8;e++)c=(this.h[e]+this.pad[e]|0)+(c>>>16)|0,this.h[e]=c&65535;a[b+0]=this.h[0]>>>0&255;a[b+1]=this.h[0]>>>8&255;a[b+2]=this.h[1]>>>0&255;a[b+3]=this.h[1]>>>8&255;a[b+4]=this.h[2]>>>0&255;a[b+5]=this.h[2]>>>8&255;a[b+6]=this.h[3]>>>0&255;a[b+7]=this.h[3]>>>8&255;a[b+8]=this.h[4]>>>0&255;a[b+9]=this.h[4]>>>8&255;a[b+10]=this.h[5]>>>0&255;a[b+11]=this.h[5]>>>8&255;a[b+12]=this.h[6]>>>0&255;a[b+13]=this.h[6]>>>8&255;a[b+14]=this.h[7]>>>0&255;a[b+15]=this.h[7]>>>8&255};A.prototype.update=function(a,b,c){var d,e;if(this.leftover){e=16-this.leftover;e>c&&(e=c);for(d=0;d<e;d++)this.buffer[this.leftover+d]=a[b+d];c-=e;b+=e;this.leftover+=e;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}c>=16&&(e=c-c%16,this.blocks(a,b,e),b+=e,c-=e);if(c){for(d=0;d<c;d++)this.buffer[this.leftover+d]=a[b+d];this.leftover+=c}};function B(a,b,c,d,e,f){f=new A(f);f.update(c,d,e);f.finish(a,b);return 0}function C(a,b,c,d,e,f){var g=new Uint8Array(16);B(g,0,c,d,e,f);return p(a,b,g,0)}function D(a,b,c,d,e){if(c<32)return-1;z(a,0,b,0,c,d,e);B(a,16,a,32,c-32,a);for(b=0;b<16;b++)a[b]=0;return 0}function E(a,b,c,d,e){var f=new Uint8Array(32);if(c<32)return-1;y(f,0,32,d,e);if(C(b,16,b,32,c-32,f)!==0)return-1;z(a,0,b,0,c,d,e);for(f=0;f<32;f++)a[f]=0;return 0}function F(a,b){var c;for(c=0;c<16;c++)a[c]=b[c]|0}function G(a){var b,c,d=1;for(b=0;b<16;b++)c=a[b]+d+65535,d=Math.floor(c/65536),a[b]=c-d*65536;a[0]+=d-1+37*(d-1)}function H(a,b,c){var d;c=~(c-1);for(var e=0;e<16;e++)d=c&(a[e]^b[e]),a[e]^=d,b[e]^=d}function I(a,c){var d,e,f=b(),g=b();for(d=0;d<16;d++)g[d]=c[d];G(g);G(g);G(g);for(c=0;c<2;c++){f[0]=g[0]-65517;for(d=1;d<15;d++)f[d]=g[d]-65535-(f[d-1]>>16&1),f[d-1]&=65535;f[15]=g[15]-32767-(f[14]>>16&1);e=f[15]>>16&1;f[14]&=65535;H(g,f,1-e)}for(d=0;d<16;d++)a[2*d]=g[d]&255,a[2*d+1]=g[d]>>8}function J(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);I(c,a);I(d,b);return q(c,0,d,0)}function K(a){var b=new Uint8Array(32);I(b,a);return b[0]&1}function L(a,b){var c;for(c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function M(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]+c[d]}function N(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]-c[d]}function O(a,b,c){var d,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=c[0],K=c[1],L=c[2],M=c[3],N=c[4],O=c[5],P=c[6],Q=c[7],R=c[8],S=c[9],T=c[10],U=c[11],V=c[12],W=c[13],X=c[14];c=c[15];d=b[0];e+=d*J;f+=d*K;g+=d*L;h+=d*M;i+=d*N;j+=d*O;k+=d*P;l+=d*Q;m+=d*R;n+=d*S;o+=d*T;p+=d*U;q+=d*V;r+=d*W;s+=d*X;t+=d*c;d=b[1];f+=d*J;g+=d*K;h+=d*L;i+=d*M;j+=d*N;k+=d*O;l+=d*P;m+=d*Q;n+=d*R;o+=d*S;p+=d*T;q+=d*U;r+=d*V;s+=d*W;t+=d*X;u+=d*c;d=b[2];g+=d*J;h+=d*K;i+=d*L;j+=d*M;k+=d*N;l+=d*O;m+=d*P;n+=d*Q;o+=d*R;p+=d*S;q+=d*T;r+=d*U;s+=d*V;t+=d*W;u+=d*X;v+=d*c;d=b[3];h+=d*J;i+=d*K;j+=d*L;k+=d*M;l+=d*N;m+=d*O;n+=d*P;o+=d*Q;p+=d*R;q+=d*S;r+=d*T;s+=d*U;t+=d*V;u+=d*W;v+=d*X;w+=d*c;d=b[4];i+=d*J;j+=d*K;k+=d*L;l+=d*M;m+=d*N;n+=d*O;o+=d*P;p+=d*Q;q+=d*R;r+=d*S;s+=d*T;t+=d*U;u+=d*V;v+=d*W;w+=d*X;x+=d*c;d=b[5];j+=d*J;k+=d*K;l+=d*L;m+=d*M;n+=d*N;o+=d*O;p+=d*P;q+=d*Q;r+=d*R;s+=d*S;t+=d*T;u+=d*U;v+=d*V;w+=d*W;x+=d*X;y+=d*c;d=b[6];k+=d*J;l+=d*K;m+=d*L;n+=d*M;o+=d*N;p+=d*O;q+=d*P;r+=d*Q;s+=d*R;t+=d*S;u+=d*T;v+=d*U;w+=d*V;x+=d*W;y+=d*X;z+=d*c;d=b[7];l+=d*J;m+=d*K;n+=d*L;o+=d*M;p+=d*N;q+=d*O;r+=d*P;s+=d*Q;t+=d*R;u+=d*S;v+=d*T;w+=d*U;x+=d*V;y+=d*W;z+=d*X;A+=d*c;d=b[8];m+=d*J;n+=d*K;o+=d*L;p+=d*M;q+=d*N;r+=d*O;s+=d*P;t+=d*Q;u+=d*R;v+=d*S;w+=d*T;x+=d*U;y+=d*V;z+=d*W;A+=d*X;B+=d*c;d=b[9];n+=d*J;o+=d*K;p+=d*L;q+=d*M;r+=d*N;s+=d*O;t+=d*P;u+=d*Q;v+=d*R;w+=d*S;x+=d*T;y+=d*U;z+=d*V;A+=d*W;B+=d*X;C+=d*c;d=b[10];o+=d*J;p+=d*K;q+=d*L;r+=d*M;s+=d*N;t+=d*O;u+=d*P;v+=d*Q;w+=d*R;x+=d*S;y+=d*T;z+=d*U;A+=d*V;B+=d*W;C+=d*X;D+=d*c;d=b[11];p+=d*J;q+=d*K;r+=d*L;s+=d*M;t+=d*N;u+=d*O;v+=d*P;w+=d*Q;x+=d*R;y+=d*S;z+=d*T;A+=d*U;B+=d*V;C+=d*W;D+=d*X;E+=d*c;d=b[12];q+=d*J;r+=d*K;s+=d*L;t+=d*M;u+=d*N;v+=d*O;w+=d*P;x+=d*Q;y+=d*R;z+=d*S;A+=d*T;B+=d*U;C+=d*V;D+=d*W;E+=d*X;F+=d*c;d=b[13];r+=d*J;s+=d*K;t+=d*L;u+=d*M;v+=d*N;w+=d*O;x+=d*P;y+=d*Q;z+=d*R;A+=d*S;B+=d*T;C+=d*U;D+=d*V;E+=d*W;F+=d*X;G+=d*c;d=b[14];s+=d*J;t+=d*K;u+=d*L;v+=d*M;w+=d*N;x+=d*O;y+=d*P;z+=d*Q;A+=d*R;B+=d*S;C+=d*T;D+=d*U;E+=d*V;F+=d*W;G+=d*X;H+=d*c;d=b[15];t+=d*J;u+=d*K;v+=d*L;w+=d*M;x+=d*N;y+=d*O;z+=d*P;A+=d*Q;B+=d*R;C+=d*S;D+=d*T;E+=d*U;F+=d*V;G+=d*W;H+=d*X;I+=d*c;e+=38*u;f+=38*v;g+=38*w;h+=38*x;i+=38*y;j+=38*z;k+=38*A;l+=38*B;m+=38*C;n+=38*D;o+=38*E;p+=38*F;q+=38*G;r+=38*H;s+=38*I;b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);a[0]=e;a[1]=f;a[2]=g;a[3]=h;a[4]=i;a[5]=j;a[6]=k;a[7]=l;a[8]=m;a[9]=n;a[10]=o;a[11]=p;a[12]=q;a[13]=r;a[14]=s;a[15]=t}function P(a,b){O(a,b,b)}function Q(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=253;e>=0;e--)P(d,d),e!==2&&e!==4&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function R(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=250;e>=0;e--)P(d,d),e!==1&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function S(a,c,d){var e=new Uint8Array(32),f=new Float64Array(80),g,i=b(),j=b(),k=b(),l=b(),m=b(),n=b();for(g=0;g<31;g++)e[g]=c[g];e[31]=c[31]&127|64;e[0]&=248;L(f,d);for(g=0;g<16;g++)j[g]=f[g],l[g]=i[g]=k[g]=0;i[0]=l[0]=1;for(g=254;g>=0;--g)c=e[g>>>3]>>>(g&7)&1,H(i,j,c),H(k,l,c),M(m,i,k),N(i,i,k),M(k,j,l),N(j,j,l),P(l,m),P(n,i),O(i,k,i),O(k,j,m),M(m,i,k),N(i,i,k),P(j,i),N(k,l,n),O(i,k,h),M(i,i,l),O(k,k,i),O(i,l,n),O(l,j,f),P(j,m),H(i,j,c),H(k,l,c);for(g=0;g<16;g++)f[g+16]=i[g],f[g+32]=k[g],f[g+48]=j[g],f[g+64]=l[g];d=f.subarray(32);c=f.subarray(16);Q(d,d);O(c,c,d);I(a,c);return 0}function T(a,b){return S(a,b,e)}function U(a,b){c(b,32);return T(a,b)}function V(a,b,c){var e=new Uint8Array(32);S(e,c,b);return u(a,d,e,v)}var W=D,X=E;function aa(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return W(a,b,c,d,g)}function ba(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return X(a,b,c,d,g)}var ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function da(a,b,c,d){var e=new Int32Array(16),f=new Int32Array(16),g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=a[0],H=a[1],I=a[2],J=a[3],K=a[4],L=a[5],M=a[6],N=a[7],O=b[0],P=b[1],Q=b[2],R=b[3],S=b[4],T=b[5],U=b[6],V=b[7],W=0;while(d>=128){for(y=0;y<16;y++)z=8*y+W,e[y]=c[z+0]<<24|c[z+1]<<16|c[z+2]<<8|c[z+3],f[y]=c[z+4]<<24|c[z+5]<<16|c[z+6]<<8|c[z+7];for(y=0;y<80;y++){g=G;h=H;i=I;j=J;k=K;l=L;m=M;N;o=O;p=P;q=Q;r=R;s=S;t=T;u=U;V;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(K>>>14|S<<32-14)^(K>>>18|S<<32-18)^(S>>>41-32|K<<32-(41-32));B=(S>>>14|K<<32-14)^(S>>>18|K<<32-18)^(K>>>41-32|S<<32-(41-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=K&L^~K&M;B=S&T^~S&U;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=ca[y*2];B=ca[y*2+1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=e[y%16];B=f[y%16];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;w=E&65535|F<<16;x=C&65535|D<<16;A=w;B=x;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(G>>>28|O<<32-28)^(O>>>34-32|G<<32-(34-32))^(O>>>39-32|G<<32-(39-32));B=(O>>>28|G<<32-28)^(G>>>34-32|O<<32-(34-32))^(G>>>39-32|O<<32-(39-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=G&H^G&I^H&I;B=O&P^O&Q^P&Q;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;n=E&65535|F<<16;v=C&65535|D<<16;A=j;B=r;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=w;B=x;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;j=E&65535|F<<16;r=C&65535|D<<16;H=g;I=h;J=i;K=j;L=k;M=l;N=m;G=n;P=o;Q=p;R=q;S=r;T=s;U=t;V=u;O=v;if(y%16===15)for(z=0;z<16;z++)A=e[z],B=f[z],C=B&65535,D=B>>>16,E=A&65535,F=A>>>16,A=e[(z+9)%16],B=f[(z+9)%16],C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+1)%16],x=f[(z+1)%16],A=(w>>>1|x<<32-1)^(w>>>8|x<<32-8)^w>>>7,B=(x>>>1|w<<32-1)^(x>>>8|w<<32-8)^(x>>>7|w<<32-7),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+14)%16],x=f[(z+14)%16],A=(w>>>19|x<<32-19)^(x>>>61-32|w<<32-(61-32))^w>>>6,B=(x>>>19|w<<32-19)^(w>>>61-32|x<<32-(61-32))^(x>>>6|w<<32-6),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,D+=C>>>16,E+=D>>>16,F+=E>>>16,e[z]=E&65535|F<<16,f[z]=C&65535|D<<16}A=G;B=O;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[0];B=b[0];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[0]=G=E&65535|F<<16;b[0]=O=C&65535|D<<16;A=H;B=P;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[1];B=b[1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[1]=H=E&65535|F<<16;b[1]=P=C&65535|D<<16;A=I;B=Q;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[2];B=b[2];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[2]=I=E&65535|F<<16;b[2]=Q=C&65535|D<<16;A=J;B=R;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[3];B=b[3];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[3]=J=E&65535|F<<16;b[3]=R=C&65535|D<<16;A=K;B=S;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[4];B=b[4];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[4]=K=E&65535|F<<16;b[4]=S=C&65535|D<<16;A=L;B=T;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[5];B=b[5];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[5]=L=E&65535|F<<16;b[5]=T=C&65535|D<<16;A=M;B=U;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[6];B=b[6];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[6]=M=E&65535|F<<16;b[6]=U=C&65535|D<<16;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[7];B=b[7];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[7]=N=E&65535|F<<16;b[7]=V=C&65535|D<<16;W+=128;d-=128}return d}function Y(a,b,c){var d=new Int32Array(8),e=new Int32Array(8),f=new Uint8Array(256),g,h=c;d[0]=1779033703;d[1]=3144134277;d[2]=1013904242;d[3]=2773480762;d[4]=1359893119;d[5]=2600822924;d[6]=528734635;d[7]=1541459225;e[0]=4089235720;e[1]=2227873595;e[2]=4271175723;e[3]=1595750129;e[4]=2917565137;e[5]=725511199;e[6]=4215389547;e[7]=327033209;da(d,e,b,c);c%=128;for(g=0;g<c;g++)f[g]=b[h-c+g];f[c]=128;c=256-128*(c<112?1:0);f[c-9]=0;n(f,c-8,h/536870912|0,h<<3);da(d,e,f,c);for(g=0;g<8;g++)n(a,8*g,d[g],e[g]);return 0}function ea(a,c){var d=b(),e=b(),f=b(),g=b(),h=b(),i=b(),k=b(),l=b(),m=b();N(d,a[1],a[0]);N(m,c[1],c[0]);O(d,d,m);M(e,a[0],a[1]);M(m,c[0],c[1]);O(e,e,m);O(f,a[3],c[3]);O(f,f,j);O(g,a[2],c[2]);M(g,g,g);N(h,e,d);N(i,g,f);M(k,g,f);M(l,e,d);O(a[0],h,i);O(a[1],l,k);O(a[2],k,i);O(a[3],h,l)}function fa(a,b,c){var d;for(d=0;d<4;d++)H(a[d],b[d],c)}function ga(a,c){var d=b(),e=b(),f=b();Q(f,c[2]);O(d,c[0],f);O(e,c[1],f);I(a,e);a[31]^=K(d)<<7}function ha(a,b,c){var d,e;F(a[0],f);F(a[1],g);F(a[2],g);F(a[3],f);for(e=255;e>=0;--e)d=c[e/8|0]>>(e&7)&1,fa(a,b,d),ea(b,a),ea(a,a),fa(a,b,d)}function ia(a,c){var d=[b(),b(),b(),b()];F(d[0],k);F(d[1],l);F(d[2],g);O(d[3],k,l);ha(a,d,c)}function ja(a,d,e){var f=new Uint8Array(64),g=[b(),b(),b(),b()];e||c(d,32);Y(f,d,32);f[0]&=248;f[31]&=127;f[31]|=64;ia(g,f);ga(a,g);for(e=0;e<32;e++)d[e+32]=a[e];return 0}var ka=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function la(a,b){var c,d,e,f;for(d=63;d>=32;--d){c=0;for(e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*ka[e-(d-32)],c=Math.floor((b[e]+128)/256),b[e]-=c*256;b[e]+=c;b[d]=0}c=0;for(e=0;e<32;e++)b[e]+=c-(b[31]>>4)*ka[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*ka[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=b[d]&255}function ma(a){var b=new Float64Array(64),c;for(c=0;c<64;c++)b[c]=a[c];for(c=0;c<64;c++)a[c]=0;la(a,b)}function na(a,c,d,e){var f=new Uint8Array(64),g=new Uint8Array(64),h=new Uint8Array(64),i,j=new Float64Array(64),k=[b(),b(),b(),b()];Y(f,e,32);f[0]&=248;f[31]&=127;f[31]|=64;var l=d+64;for(i=0;i<d;i++)a[64+i]=c[i];for(i=0;i<32;i++)a[32+i]=f[32+i];Y(h,a.subarray(32),d+32);ma(h);ia(k,h);ga(a,k);for(i=32;i<64;i++)a[i]=e[i];Y(g,a,d+64);ma(g);for(i=0;i<64;i++)j[i]=0;for(i=0;i<32;i++)j[i]=h[i];for(i=0;i<32;i++)for(c=0;c<32;c++)j[i+c]+=g[i]*f[c];la(a.subarray(32),j);return l}function oa(a,c){var d=b(),e=b(),h=b(),j=b(),k=b(),l=b(),n=b();F(a[2],g);L(a[1],c);P(h,a[1]);O(j,h,i);N(h,h,a[2]);M(j,a[2],j);P(k,j);P(l,k);O(n,l,k);O(d,n,h);O(d,d,j);R(d,d);O(d,d,h);O(d,d,j);O(d,d,j);O(a[0],d,j);P(e,a[0]);O(e,e,j);J(e,h)&&O(a[0],a[0],m);P(e,a[0]);O(e,e,j);if(J(e,h))return-1;K(a[0])===c[31]>>7&&N(a[0],f,a[0]);O(a[3],a[0],a[1]);return 0}function pa(a,c,d,e){var f,g=new Uint8Array(32),h=new Uint8Array(64),i=[b(),b(),b(),b()],j=[b(),b(),b(),b()];if(d<64)return-1;if(oa(j,e))return-1;for(f=0;f<d;f++)a[f]=c[f];for(f=0;f<32;f++)a[f+32]=e[f];Y(h,a,d);ma(h);ha(i,j,h);ia(j,c.subarray(32));ea(i,j);ga(g,i);d-=64;if(q(c,0,g,0)){for(f=0;f<d;f++)a[f]=0;return-1}for(f=0;f<d;f++)a[f]=c[f+64];return d}var qa=32,ra=24,sa=32,ta=16,ua=32,va=32,wa=32,xa=32,ya=32,za=ra,Aa=sa,Ba=ta,Z=64,Ca=32,Da=64,Ea=32,Fa=64;a.lowlevel={crypto_core_hsalsa20:u,crypto_stream_xor:z,crypto_stream:y,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:B,crypto_onetimeauth_verify:C,crypto_verify_16:p,crypto_verify_32:q,crypto_secretbox:D,crypto_secretbox_open:E,crypto_scalarmult:S,crypto_scalarmult_base:T,crypto_box_beforenm:V,crypto_box_afternm:W,crypto_box:aa,crypto_box_open:ba,crypto_box_keypair:U,crypto_hash:Y,crypto_sign:na,crypto_sign_keypair:ja,crypto_sign_open:pa,crypto_secretbox_KEYBYTES:qa,crypto_secretbox_NONCEBYTES:ra,crypto_secretbox_ZEROBYTES:sa,crypto_secretbox_BOXZEROBYTES:ta,crypto_scalarmult_BYTES:ua,crypto_scalarmult_SCALARBYTES:va,crypto_box_PUBLICKEYBYTES:wa,crypto_box_SECRETKEYBYTES:xa,crypto_box_BEFORENMBYTES:ya,crypto_box_NONCEBYTES:za,crypto_box_ZEROBYTES:Aa,crypto_box_BOXZEROBYTES:Ba,crypto_sign_BYTES:Z,crypto_sign_PUBLICKEYBYTES:Ca,crypto_sign_SECRETKEYBYTES:Da,crypto_sign_SEEDBYTES:Ea,crypto_hash_BYTES:Fa,gf:b,D:i,L:ka,pack25519:I,unpack25519:L,M:O,A:M,S:P,Z:N,pow2523:R,add:ea,set25519:F,modL:la,scalarmult:ha,scalarbase:ia};function Ga(a,b){if(a.length!==qa)throw new Error("bad key size");if(b.length!==ra)throw new Error("bad nonce size")}function Ha(a,b){if(a.length!==wa)throw new Error("bad public key size");if(b.length!==xa)throw new Error("bad secret key size")}function $(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ia(a){for(var b=0;b<a.length;b++)a[b]=0}a.randomBytes=function(a){var b=new Uint8Array(a);c(b,a);return b};a.secretbox=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(sa+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+sa]=a[f];D(e,d,d.length,b,c);return e.subarray(ta)};a.secretbox.open=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(ta+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+ta]=a[f];if(d.length<32)return null;return E(e,d,d.length,b,c)!==0?null:e.subarray(sa)};a.secretbox.keyLength=qa;a.secretbox.nonceLength=ra;a.secretbox.overheadLength=ta;a.scalarMult=function(a,b){$(a,b);if(a.length!==va)throw new Error("bad n size");if(b.length!==ua)throw new Error("bad p size");var c=new Uint8Array(ua);S(c,a,b);return c};a.scalarMult.base=function(a){$(a);if(a.length!==va)throw new Error("bad n size");var b=new Uint8Array(ua);T(b,a);return b};a.scalarMult.scalarLength=va;a.scalarMult.groupElementLength=ua;a.box=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox(b,c,d)};a.box.before=function(a,b){$(a,b);Ha(a,b);var c=new Uint8Array(ya);V(c,a,b);return c};a.box.after=a.secretbox;a.box.open=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox.open(b,c,d)};a.box.open.after=a.secretbox.open;a.box.keyPair=function(){var a=new Uint8Array(wa),b=new Uint8Array(xa);U(a,b);return{publicKey:a,secretKey:b}};a.box.keyPair.fromSecretKey=function(a){$(a);if(a.length!==xa)throw new Error("bad secret key size");var b=new Uint8Array(wa);T(b,a);return{publicKey:b,secretKey:new Uint8Array(a)}};a.box.publicKeyLength=wa;a.box.secretKeyLength=xa;a.box.sharedKeyLength=ya;a.box.nonceLength=za;a.box.overheadLength=a.secretbox.overheadLength;a.sign=function(a,b){$(a,b);if(b.length!==Da)throw new Error("bad secret key size");var c=new Uint8Array(Z+a.length);na(c,a,a.length,b);return c};a.sign.open=function(a,b){$(a,b);if(b.length!==Ca)throw new Error("bad public key size");var c=new Uint8Array(a.length);a=pa(c,a,a.length,b);if(a<0)return null;b=new Uint8Array(a);for(a=0;a<b.length;a++)b[a]=c[a];return b};a.sign.detached=function(b,c){b=a.sign(b,c);c=new Uint8Array(Z);for(var d=0;d<c.length;d++)c[d]=b[d];return c};a.sign.detached.verify=function(a,b,c){$(a,b,c);if(b.length!==Z)throw new Error("bad signature size");if(c.length!==Ca)throw new Error("bad public key size");var d=new Uint8Array(Z+a.length),e=new Uint8Array(Z+a.length),f;for(f=0;f<Z;f++)d[f]=b[f];for(f=0;f<a.length;f++)d[f+Z]=a[f];return pa(e,d,d.length,c)>=0};a.sign.keyPair=function(){var a=new Uint8Array(Ca),b=new Uint8Array(Da);ja(a,b);return{publicKey:a,secretKey:b}};a.sign.keyPair.fromSecretKey=function(a){$(a);if(a.length!==Da)throw new Error("bad secret key size");var b=new Uint8Array(Ca);for(var c=0;c<b.length;c++)b[c]=a[32+c];return{publicKey:b,secretKey:new Uint8Array(a)}};a.sign.keyPair.fromSeed=function(a){$(a);if(a.length!==Ea)throw new Error("bad seed size");var b=new Uint8Array(Ca),c=new Uint8Array(Da);for(var d=0;d<32;d++)c[d]=a[d];ja(b,c,!0);return{publicKey:b,secretKey:c}};a.sign.publicKeyLength=Ca;a.sign.secretKeyLength=Da;a.sign.seedLength=Ea;a.sign.signatureLength=Z;a.hash=function(a){$(a);var b=new Uint8Array(Fa);Y(b,a,a.length);return b};a.hash.hashLength=Fa;a.verify=function(a,b){$(a,b);if(a.length===0||b.length===0)return!1;return a.length!==b.length?!1:o(a,0,b,0,a.length)===0?!0:!1};a.setPRNG=function(a){c=a};(function(){var b=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(b&&b.getRandomValues){var c=65536;a.setPRNG(function(a,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=c)b.getRandomValues(f.subarray(e,e+Math.min(d-e,c)));for(e=0;e<d;e++)a[e]=f[e];Ia(f)})}else b&&b.randomBytes&&a.setPRNG(function(a,c){var d,e=b.randomBytes(c);for(d=0;d<c;d++)a[d]=e[d];Ia(e)})})()})(typeof g!=="undefined"&&g.exports?g.exports:self.nacl=self.nacl||{})}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("tweetnacl",["tweetnacl-1.0.3"],(function(a,b,c,d,e,f){e.exports=b("tweetnacl-1.0.3")()}),null);
__d("MAWVaultMaterials",["FBLogger","WAArrayBufferUtils","randomInt","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h={encryptionKey:null,prefixAndSuffix:null};function i(a){h.prefixAndSuffix=a}function j(){return h.encryptionKey}function k(a){h.encryptionKey=a}function a(){h.encryptionKey=null,h.prefixAndSuffix=null}function l(){return n()!=null&&j()!=null}function m(){var a=1e9,b=9999999999;return c("randomInt")(a,b)+"##"+c("randomInt")(a,b)}function n(){return h.prefixAndSuffix}function o(){if(!l())throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Vault materials are null");return babelHelpers["extends"]({},h)}function b(a){var b=l();c("FBLogger")("messenger_e2ee_web").debug("Setting vault materials -- vaultMaterials=%s, previouslySetup=%s",Boolean(a).toString(),b);if(!b){p((b=a)!=null?b:{encryptionKey:d("tweetnacl").randomBytes(32).buffer,prefixAndSuffix:m()})}return o()}function p(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(b==null||a==null)throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Cannot set null values for encryption key and prefix");k(b);i(a)}function e(){return q(o())}function q(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(a!=null&&b!=null){b=d("WAArrayBufferUtils").arrayBufferToString(b);return JSON.stringify({encryptionKey:b,prefixAndSuffix:a})}else return""}function f(a){if(a==="")return null;else{a=JSON.parse(a);if(a.encryptionKey==null||a.prefixAndSuffix==null)throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Vault materials were not in correct format");var b=d("WAArrayBufferUtils").stringToArrayBuffer(a.encryptionKey);a=a.prefixAndSuffix;return{encryptionKey:b,prefixAndSuffix:a}}}g.TEST_ONLY_clearVaultMaterials=a;g.hasVaultBeenSetup=l;g.getVaultPrefixAndSuffix=n;g.getVaultMaterials=o;g.initializeVaultMaterials=b;g.materialsToString=e;g.fromMaterialsToString=q;g.fromStringToMaterials=f}),98);
__d("MWTabCommunicationChannel",["MAWLocalStorage"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=d("MAWLocalStorage").getStorage(),c=function(c){d("MAWLocalStorage").setItemGuarded(b,a,JSON.stringify(c))},e=function(c){window.removeEventListener("storage",c),d("MAWLocalStorage").removeItemGuarded(b,a)},f=function(a){window.addEventListener("storage",a)},g=function(b){return b!=null&&b.key===a&&typeof b.newValue==="string"?JSON.parse(b.newValue):null};return{getMessage:g,onRequestReceived:function(a){var b=function(b){b=g(b);b!=null&&a(b)};f(b);return{release:function(){e(b)}}},sendMessage:c,stopWaitingForReply:e,waitForReply:f}}function i(a){var b=new window.BroadcastChannel(a),c=new Set();b.addEventListener("message",function(a){c.forEach(function(b){b(a)})});var d=function(a){c.add(a)},e=function(a){c["delete"](a)};a=function(a){b.postMessage(JSON.stringify(a))};var f=function(a){return a!=null&&typeof a.data==="string"?JSON.parse(a.data):null};return{getMessage:f,onRequestReceived:function(a){var b=function(b){b=f(b);b!=null&&a(b)};d(b);return{release:function(){e(b)}}},sendMessage:a,stopWaitingForReply:e,waitForReply:d}}function a(a){return window.BroadcastChannel!=null?i(a):h(a)}g.getChannel=a}),98);
__d("MWTabCommunication",["MWTabCommunicationChannel","Promise","clearTimeout","pageID","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var c=this;this.$5=function(a){a=c.$4.getMessage(a);a!=null&&a.a==="sb"&&a.t!==c.tabID()&&a.r===c.tabID()&&a.k!=null&&(c.$2&&c.$2(a.k),c.$4.stopWaitingForReply(c.$5),c.$2=null)};this.$1=a;this.$3=b!=null?b:500;this.$4=d("MWTabCommunicationChannel").getChannel(a)}var e=a.prototype;e.tabID=function(){return c("pageID")};e.$6=function(){var a={a:"r",t:this.tabID()};this.$4.sendMessage(a)};e.listenToRequest=function(a){var b=this,c=function(c){if(c.a==="r"&&c.t!==b.tabID()){c={a:"sb",k:a(),r:c.t,t:b.tabID()};b.$4.sendMessage(c)}};return this.$4.onRequestReceived(c)};e.$7=function(){var a=this;return new(b("Promise"))(function(b){a.$2=b,a.$4.waitForReply(a.$5),a.$6()})};e.request=function(a,d){var e=this,f,g=function(){f!=null&&c("clearTimeout")(f)};return b("Promise").race([this.$7().then(function(b){e.$4.stopWaitingForReply(e.$5);return a(b)}),new(b("Promise"))(function(a){f=c("setTimeout")(function(){a(d()),e.$4.stopWaitingForReply(e.$5)},e.$3)})]).then(function(a){g();return a})};return a}();g.MWTabCommunication=a}),98);
__d("MAWVaultMaterialsStorage",["MAWVaultMaterials","MWTabCommunication","Promise"],(function(a,b,c,d,e,f,g){"use strict";e="mw_exchange_vm";var h=new(d("MWTabCommunication").MWTabCommunication)(e);function a(){return h.listenToRequest(d("MAWVaultMaterials").materialsToString)}function c(){if(d("MAWVaultMaterials").hasVaultBeenSetup())return b("Promise").resolve(d("MAWVaultMaterials").getVaultMaterials());else{var a=function(a){return d("MAWVaultMaterials").fromStringToMaterials(a)};return h.request(a,function(){}).then(function(a){return d("MAWVaultMaterials").initializeVaultMaterials(a)})}}g.listenToVaultMaterialsRequest=a;g.setupVaultMaterials=c}),98);/*FB_PKG_DELIM*/
__d("LSStorage",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){a=a.tableNames[b];b=a.indexes;a=a.primaryKeyIds;a=e==null?a:b[e];return a.reduceRight(function(a,b){if(d[b]!==void 0||e!=null)return{hd:d[b],tl:a};throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")},0)}function b(a,b){while(a!==0&&b!==0){if(a.hd!==b.hd&&!(Array.isArray(a.hd)&&Array.isArray(b.hd)&&a.hd.length===b.hd.length&&a.hd.every(function(a,c){return a===b.hd[c]})))return!1;a=a.tl;b=b.tl}return a===0&&b===0}g.searchKey=a;g.areKeysEqual=b}),98);
__d("ReStorePersistence",["FBLogger","MetaConfig","PromiseOrValue","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h={SENTINEL_DELETED:1};function i(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function j(b){if(b==null)return b;var c=Object.getOwnPropertyNames(b),a={},d,e;for(d=0;d<c.length;d++)e=b[c[d]],a[c[d]]=Array.isArray(e)?[].concat(e):e;return a}function k(a,b){b===void 0&&(b=h);if(c("MetaConfig")._("8")){if(a===b)return!0;return a!=null&&typeof a==="object"&&Object.prototype.hasOwnProperty.call(a,"SENTINEL_DELETED")?!0:!1}return a===b}function a(a){return{clearCache:a.clearCache,close:a.close,createTransaction:function(b,e){e===void 0&&(e=new Map());var f=!1;function g(){if(f)throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed")}return{close:function(){f=!0},flush:async function(b){b===void 0&&(b={upgrade:!1}),await a.flush(e,b),f=!0},table:function(f){function l(c,d){g();var e=n.get(d);if(k(e))return void 0;return e!==void 0?e:a.get(c,f,d,b)}function m(e,g){return d("PromiseOrValue").map(l(e,g),function(d){if(d===void 0){var e=n.get(g),h=a.types.indexOf("indexeddb")===-1?"false":"true";throw c("FBLogger")("messenger_web_product").mustfixThrow("Got unexpected undefined, pdb: %s, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",h,b,f,JSON.stringify(g)||"",k(e)?"true":"false")}return d})}var n=i(e,f,function(){return new Map()});function o(a,b){return{read:function*(b){b=l(a,b);return c("isPromise")(b)?yield b:b},readExn:function*(b){b=m(a,b);return c("isPromise")(b)?yield b:b},readHeader:function*(){var d=l(a,b);return c("isPromise")(d)?yield d:d},remove:function*(a){g(),n.set(a,h)},removeHeader:function*(){g(),n.set(b,h)},write:function*(a,b){g(),n.set(a,b)},writeHeader:function*(a){g(),n.set(b,a)},writeNew:function*(b){var e=d("PromiseOrValue").map(l(a,"nextId"),function(a){a===void 0&&(a=0);n.set("nextId",a+1);n.set(a,b);return a});return c("isPromise")(e)?yield e:e}}}return{getBPlusTreeStore:o,incrementSeed:function(a,b){return d("PromiseOrValue").map(l(a,"seed"),function(a){a===void 0&&(a=0);n.set("seed",Math.max(a,b||0)+1);return b===void 0?a:b})},readData:function*(a,b){a=l(a,b);return c("isPromise")(a)?yield a:a},readDataExn:function*(a,b){a=m(a,b);return c("isPromise")(a)?yield a:a},readSeed:function(a){return d("PromiseOrValue").map(l(a,"seed"),function(a){a===void 0&&(a=0);return a})},remove:function(a,b){g(),n.set(b,h)},writeData:function(a,b,c){g(),n.set(b,j(c))},writeNewData:function(a,b){return d("PromiseOrValue").map(l(a,"nextId"),function(a){a===void 0&&(a=0);n.set("nextId",a+1);n.set(a,j(b));return a})}}},types:a.types}},runExclusively:a.runExclusively}}g.sentinelDeleted=h;g.isDeletedValue=k;g.createDbStore=a}),98);
__d("ReStoreTransactionLock",["isPromise"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.waitFor=null;a!=null&&(this.waitFor=a.then(function(a){return b.waitFor=null}))}var b=a.prototype;b.chainPromiseOrValue=function(a){if(this.waitFor!=null)return this.waitFor.then(function(){return a("\ud83d\udd12")});else return a("\ud83d\udd12")};return a}();b=function(){function a(){this.lock=null}var b=a.prototype;b.chainPromiseOrValue=function(a){var b=this,d=this.lock;if(d==null){var e=a("\ud83d\udd12");if(c("isPromise")(e))d=e;else return e}else d=d.then(function(){return a("\ud83d\udd12")});var f=d.then(function(a){b.lock===f&&(b.lock=null);return a}).finally(function(a){b.lock===f&&(b.lock=null)});this.lock=f;return f};return a}();g.WaitForPromiseLock=a;g.ReStoreTransactionLock=b}),98);
__d("LSTableDefaults",[],(function(a,b,c,d,e,f){e.exports={sync_groups:{syncStatus:[0,0],sendSyncParams:!1,minTimeToSyncTimestampMs:[0,0],canIgnoreTimestamp:!1,priority:[0,0],lastSyncRequestTimestampMs:[0,0],lastSyncCompletedTimestampMs:[0,0],syncChannel:[0,1]},pending_tasks:{enqueueTimestampMs:[0,0],firstExecutedTimestampMs:[0,0],failureCount:[0,0],minTimeToSyncTimestampMs:[0,0],pluginType:[0,0],priority:[0,0]},pending_fire_and_forget_tasks:{enqueueTimestampMs:[0,0],priority:[0,0]},contacts:{isMessengerUser:!1,isMemorialized:!1,blockedByViewerStatus:[0,0],rank:[0,0],contactType:[0,0],contactTypeExact:[0,0],canViewerMessage:!0,gender:[0,0],authorityLevel:[0,0],optimisticBlockedByViewerStatus:[0,0],optimisticBlockedByViewerStatusTimestampMs:[0,0],contactReachabilityStatusType:[0,0],restrictionType:[0,0],waConnectStatus:[0,0],capabilities2:[0,0]},ig_contact_info:{e2eeEligibility:[0,0]},reactions:{timestampMs:[0,0],authorityLevel:[0,0]},threads:{lastActivityTimestampMs:[0,0],lastReadWatermarkTimestampMs:[0,0],removeWatermarkTimestampMs:[0,0],muteExpireTimeMs:[0,0],isAdminSnippet:!1,ongoingCallState:[0,0],snippetHasEmoji:!1,hasPersistentMenu:!1,disableComposerInput:!1,capabilities:[0,0],isCustomThreadPicture:!1,isDisappearingMode:!1,unreadDisappearingMessageCount:[0,0],authorityLevel:[0,0],capabilities2:[0,0],muteCallsExpireTimeMs:[0,0],unsendLimitMs:[0,0],threadInvitesEnabled:[0,0],threadInvitesEnabledV2:[0,0],capabilities3:[0,0],muteMentionExpireTimeMs:[0,0]},threads_ranges_v2__generated:{minThreadKey:[0,0],minLastActivityTimestampMs:[0,0],maxThreadKey:[0,0],maxLastActivityTimestampMs:[0,0],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},messages:{timestampMs:[0,0],primarySortKey:[0,0],secondarySortKey:[0,0],isAdminMessage:!1,sendStatus:[0,0],sendStatusV2:[0,0],isUnsent:!1,replyStatus:[0,0],replyAttachmentType:[0,0],hasQuickReplies:!1,textHasLinks:!1,viewFlags:[0,0],displayedContentTypes:[0,1],quickReplyType:[0,0],authorityLevel:[0,0],unsentTimestampMs:[0,0],isCollapsed:!1},messages_ranges_v2__generated:{isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},participants:{readWatermarkTimestampMs:[0,0],deliveredWatermarkTimestampMs:[0,0],authorityLevel:[0,0],readActionTimestampMs:[0,0],groupParticipantJoinState:[0,0]},attachments:{timestampMs:[0,0],attachmentType:[0,0],hasMedia:!1,isSharable:!1,hasXma:!1,attachmentIndex:[0,0],authorityLevel:[0,0]},attachments_ranges_v2__generated:{mediaGroup:[0,0],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},attachment_items:{attachmentIndex:[0,0]},group_membership_approval_requests:{authorityLevel:[0,0]},admin_message_ctas:{timestampMs:[0,0],showAdChoiceIcon:!1},thread_nullstate:{ctaType:[0,0],privacyTextCtaType:[0,0]},messages_status:{timestampMs:[0,0]},polls:{pollType:[0,0]},poll_options_v2:{voteCount:[0,0],sortKeyVotingTimestamp:[0,0],sortKeyCreationTimestamp:[0,0]},filtered_threads_ranges_v3__generated:{minThreadKey:[0,0],minLastActivityTimestampMs:[0,0],maxThreadKey:[0,0],maxLastActivityTimestampMs:[0,0],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,folderName:"inbox",secondaryThreadRangeFilter:[0,0],threadRangeFilterValue:""},community_folders:{capabilities:[0,0],notificationMutedUntil:[0,0],inviteStatus:[0,0],capabilities2:[0,0],capabilities3:[0,0]},community_members:{source:[0,0],adminActions:[0,0],contactCapabilities:[0,0]},inbox_threads_ranges:{minThreadKey:[0,0],minLastActivityTimestampMs:[0,0],isLoadingBefore:!1,hasMoreBefore:!1},community_direct_invites_presets:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:[0,0],pictureUrlExpirationTimestampMs2:[0,0],presetTypeV2:"ALL_MEMBERS"},sync_group_threads_ranges:{minThreadKey:[0,0],minLastActivityTimestampMs:[0,0],isLoadingBefore:!1,hasMoreBefore:!1},community_chat_polls:{pollType:[0,0]},community_chat_poll_options:{voteCount:[0,0],sortKeyVotingTimestamp:[0,0],sortKeyCreationTimestamp:[0,0]},reactions_v2:{viewerReactionTimestampMs:[0,0],lastUpdatedTimestampMs:[0,0]},group_invitations_pending:{communityJoinRequestStatus:[0,0],communityParticipationControlRequestStatus:[0,0],communityParticipationControlSetting:[0,0]},thread_label_mappings:{sortKey:[0,0]},discoverable_chat_participants:{source:[0,0]},roll_calls:{viewerHasContributed:!1,viewerCanEditPrompt:!1,isBlurred:!1},universal_search_recent_searches:{lastAccessedTimestampMs:[0,0]},contact_upload_settings:{authorityLevel:[0,0]},presence_settings:{isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1,hasConvertedToViewSideSettings:!1},video_chat_links_joining:{canAnonymousUsersJoin:[0,0]},notification_settings:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},avatar_settings:{enableAvatarHotlike:!1},rtc_call_events:{isProcessed:!1},transaction_history:{timestampMs:[0,0]},thread_themes:{isDeprecated:!1},ranking_scores:{score:[0,0],scoreIndex:[0,0]},story_buckets:{pageNum:[0,0],readState:[0,0]},stories:{authorityLevel:[0,0]},story_viewers:{interactionType:[0,1],authorityLevel:[0,0]},story_reactions:{authorityLevel:[0,0]},story_ad_unit:{shouldShowAdChoice:!1},story_overlays:{authorityLevel:[0,0]},rooms:{notificationMutedUntilMs:[0,0]},media_staging:{progress:[0,0]},data_trace_meta:{initTimestampMs:[0,0],foregroundTimestampMs:[0,0],traceType:[0,0],shouldFlush:!1},data_trace_addon:{timestampMs:[0,0]},secure_encrypted_backups_client_state:{authorityLevel:[0,0],encryptionVersion:[0,0],revisionVersion:[0,0]},secure_encrypted_backups_epochs:{authorityLevel:[0,0]},encrypted_backups:{authorityLevel:[0,0]},secure_encrypted_backups_generated_recovery_code:{virtualDeviceType:[0,1]},encrypted_backups_virtual_devices:{virtualDeviceType:[0,1],removalStatus:[0,1]},encrypted_backups_metadata:{authorityLevel:[0,0]},cutover_threads:{isMigrated:!1,showOpenMessageHistory:!1},persistent_menu_ctas:{ctaType:"fallback"}}}),null);
__d("ReStoreUtils",["LSTableDefaults"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function b(a,b){var d=c("LSTableDefaults")[b];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers.extends({},a))}g.collectIterator=a;g.appendDefaultValues=b}),98);
__d("UserTimingUtils",["performance"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof c("performance").mark==="function"&&typeof c("performance").clearMarks==="function"&&typeof c("performance").measure==="function"&&typeof c("performance").clearMeasures==="function",i=!1;if(h&&c("performance").mark!=null){var j="__v3",k={};Object.defineProperty(k,"startTime",{get:function(){i=!0}});try{c("performance").mark(j,k)}catch(a){}finally{c("performance").clearMarks(j)}}function a(a){h&&c("performance").mark(a)}function b(a,b,d){d===void 0&&(d=!0);if(h){try{c("performance").measure(a,b)}catch(a){}d&&c("performance").clearMarks(b);c("performance").clearMeasures(a)}}function d(a){if(h){try{a=c("performance").getEntriesByName(a,"mark");if(a!=null&&a.length>0)return!0}catch(a){}return!1}}function e(a){if(h)try{c("performance").clearMarks(a)}catch(a){}}function f(a,b){if(i)try{c("performance").measure(a,b),c("performance").clearMeasures(a)}catch(a){}}function l(a,b){i&&(c("performance").mark(a,b),c("performance").clearMarks(a))}g.measureStart=a;g.measureEnd=b;g.hasMark=d;g.clearMarks=e;g.measureModern=f;g.markModern=l}),98);
__d("ReStore",["BPlusTreeBase","ExecutionEnvironment","FBLogger","I64","LSDbKeyComparer","LSStorage","PromiseOrValue","ReStorePersistence","ReStoreTransactionLock","ReStoreUtils","ReStoreVaulting","UserTimingUtils","clearTimeout","cr:1265","cr:2917","cr:2921","cr:2922","cr:4935","emptyFunction","err","gkx","isPromise","performanceNow","setImmediate","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["threads","messages","pending_tasks","network_requests"]);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"Transaction has finished")||this}return b}(babelHelpers.wrapNativeSuper(Error));function i(a){a=d("I64").cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return d("I64").to_float(a)}function j(a,b){function d(b){if(b.done)return b.value;if(!c("isPromise")(b.value))throw c("unrecoverableViolation")("expected promise","messenger_web_product");return b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}function k(a,b){return{next:function(c){return b.chainPromiseOrValue(function(b){return a.next(b,c)})}}}function l(a,b,e){return c("BPlusTreeBase")(d("LSDbKeyComparer").compareKey,16,b.getBPlusTreeStore(a,e==null?"root":"index("+e+")"))}function m(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,e,f){var g=d("ReStorePersistence").createDbStore(a),o=f||(b("cr:2922")!=null?b("cr:2922")(e,a.shouldSync):null);o==null&&c("FBLogger")("messenger_web_product").warn("ReStore created without subscription manager");var p=b("LSStorage").searchKey.bind(null,e),q={background:{first:null,last:null},ui:{first:null,last:null}},r=new(d("ReStoreTransactionLock").WaitForPromiseLock)(g.runExclusively(async function(){var a=new Map(),c=g.createTransaction("readwrite"),f=J(c,a);try{b("cr:2917")!=null&&await b("cr:2917").runMigrationForTableDefaultValuesIfNeeded(f,e),b("cr:2921")!=null&&await b("cr:2921").runMigrationForIndicesIfNeeded(f,e,function(b,e){return new(d("ReStoreTransactionLock").ReStoreTransactionLock)().chainPromiseOrValue(function(d){return I(a,c,new WeakMap(),b,e,d)})}),await c.flush({upgrade:!0})}catch(a){c.close();throw a}})),s=new Map();function t(a,b,c){return!b||a<=0?c:{hd:b.hd,tl:a===1?0:t(a-1,b.tl,c)}}function u(a,b){if(a==null)return void 0;a=babelHelpers.extends({},a);a.gt!=null&&(a.gt=t(b,a.gt,{hd:d("LSDbKeyComparer").MAX_KEY,tl:0}));a.lte!=null&&(a.lte=t(b,a.lte,{hd:d("LSDbKeyComparer").MAX_KEY,tl:0}));return a}function v(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);a.set(b,[c==null?d:c[0],e])}async function w(a,b,c,e,f,g){g=a.table(c);a=l(b,g,e);e=await j(a.getWithDefault(f,void 0));if(e===void 0)return void 0;a=j(g.readDataExn(b,e));f=d("ReStoreVaulting").maybeVaultDbRow(a,c);return f}async function x(a,b,c,d,e,f){a=await w(a,b,c,d,e,f);return a===void 0?void 0:p(c,a)}function y(a,b,f,g,i,k){function m(){var o=0,p=a.table(f),q=l(b,p,g),n=q.entries(babelHelpers.extends({},u(k,(g===void 0?e.tableNames[f].primaryKeyIds:e.tableNames[f].indexes[g]).length),{dir:i}));return q={next:function(a,e){c("gkx")("3827")&&(o++,o===20&&!h.has(f)&&c("FBLogger")("messenger_web_product").catching(c("err")("ReStore overfetch")).warn('ReStore fetched 20 or more rows from "%s" table',f));return d("PromiseOrValue").map(j(n.next(e)),function(a){return a.done?{done:!0}:d("PromiseOrValue").map(j(p.readDataExn(b,a.value[1])),function(b){b=d("ReStoreVaulting").maybeVaultDbRow(b,f);return{done:!1,value:[a.value[0],b]}})})}},q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=m,q}return m()}async function z(a,b,c,f,g,h,i){function j(a,b){var c=[],e=a;while(e!==0)c.push(e.hd),e=e.tl;return c.length>=b?a:c.reduceRight(function(a,b){return{hd:b,tl:a}},{hd:d("LSDbKeyComparer").MAX_KEY,tl:0})}if(h!=null&&d("LSDbKeyComparer").compareKey(g,h)===0)return;f=e.tableNames[f];var k=f.cascadeUpdates,l=f.primaryKeyIds;f=async function(d){var f=d.indexName;d=d.tableName;var k=e.tableNames[d],m=k.indexes;k=k.primaryKeyIds;var n=f==null?k:m[f];k={gte:g,lte:j(g,n.length)};m=y(b,c,d,f,"asc",k);f=[];k=await m.next(i);while(!k.done)f.push(k.value),k=await m.next(i);for(m of f){m[0];k=m[1];f=p(d,k);if(h===void 0)await D(a,b,c,d,f,i),await z(a,b,c,d,f,void 0,i);else{k=l.reduce(function(a,b,c){b=a[0];a=a[1];if(!a)return[b,a];b[n[c]]=a.hd;return[b,a.tl]},[babelHelpers.extends({},k),h])[0];await C(a,b,c,d,f,k,i);await z(a,b,c,d,f,p(d,k),i)}}};for(k of k)await f(k)}async function A(a,b,f,g){g=e.tableNames[f].autoIncrement;if(!g)throw c("unrecoverableViolation")("only supported for auto-incrementing tables","messenger_web_product");g=await a.table(f).readSeed(b);if(g===void 0)throw c("unrecoverableViolation")("unexpected undefined autoIncrementSeed","messenger_web_product");return d("I64").of_float(g)}async function B(a,b,f,g,h,i){var k=b.table(g),m=l(f,k),n=e.tableNames[g],o=p(g,h),q={},r=await j(m.getWithDefault(o,void 0)),s,t=h;if(r!==void 0){s=await j(k.readDataExn(f,r));q=E(Object.keys(n.indexes),g,s);var u=d("ReStoreVaulting").maybeUnvaultDbRow(h,g);k.writeData(f,r,u)}else{if(n.autoIncrement)throw c("unrecoverableViolation")("Id must not be specified for new record when table has an autoincrementing primary key","messenger_web_product");t=d("ReStoreUtils").appendDefaultValues(h,n.name);u=d("ReStoreVaulting").maybeUnvaultDbRow(t,g);r=await k.writeNewData(f,u);await j(m.set(o,r))}h=E(Object.keys(n.indexes),g,t);for(u of Object.keys(h))q[u]!==void 0&&d("LSDbKeyComparer").compareKey(q[u],h[u])===0&&(delete h[u],delete q[u]);await F(a,b,f,g,h,i);await G(b,f,g,r,h);for(m of Object.keys(q)){n=l(f,k,m);await j(n.delete(q[m]))}v(a,g,o,s,t)}async function C(a,b,c,e,f,g,h){var i=p(e,g);d("LSStorage").areKeysEqual(f,i)||await D(a,b,c,e,f,h);await B(a,b,c,e,g,h)}async function D(a,b,c,d,f,g){g=b.table(d);b=l(c,g);var h=e.tableNames[d],i=await j(b.getWithDefault(f,void 0)),k;if(i!==void 0){k=await j(g.readDataExn(c,i));if(Object.keys(h.indexes).length)for(h of Object.keys(h.indexes)){var m=p(d,k,h);if(m!=null){var n=l(c,g,h);await j(n.delete(m))}}await j(b.delete(f));g.remove(c,i);v(a,d,f,k,void 0)}}function E(a,b,c){return a.reduce(function(a,d){var e=p(b,c,d);a[d]=e;return a},{})}async function F(a,b,c,d,e,f){var g=b.table(d),h=new Set();for(var i of Object.keys(e)){var k=l(c,g,i),m=e[i];k=await j(k.getWithDefault(m));if(k!=null&&!h.has(k)){m=p(d,await j(g.readDataExn(c,k)));await D(a,b,c,d,m,f);await z(a,b,c,d,m,void 0,f);h.add(k)}}}async function G(a,b,c,d,e){a=a.table(c);for(c of Object.keys(e)){var f=l(b,a,c),g=e[c];await j(f.set(g,d))}}async function H(a,b,c,f,g,h){var k=b.table(f),m=l(c,k),n=e.tableNames[f];if(n.autoIncrement){var o=g[e.tableNames[f].primaryKeyIds[0]];o=d("I64").of_float(await k.incrementSeed(c,o===void 0?o:i(o)));g[e.tableNames[f].primaryKeyIds[0]]=o}o=d("ReStoreUtils").appendDefaultValues(g,n.name);g=p(f,o);if(g==null)throw new Error("Evaluating the object store's key path did not yield a value");if(!await j(m.has(g))){n=E(Object.keys(n.indexes),f,o);await F(a,b,c,f,n,h);h=d("ReStoreVaulting").maybeUnvaultDbRow(o,f);k=await k.writeNewData(c,h);await j(m.set(g,k));await G(b,c,f,k,n);v(a,f,g,void 0,o)}}async function I(a,b,c,d,f,g){var h=b.table(d),i=f.map(function(a){return l(c,h,a)});for(i of i)await j(i.clear());i=f.filter(function(a){var b;return((b=e.tableNames[d])==null?void 0:b.indexes[a])!=null});if(i.length===0)return;f=l(c,h);var k=y(b,c,d,void 0,"asc",void 0),m=[],n=await k.next(g);while(!n.done)m.push(n.value),n=await k.next(g);for(k of m){n=k[0];m=k[1];m=E(i,d,m);await F(a,b,c,d,m,g);n=await j(f.get(n));await G(b,c,d,n,m)}}function J(a,c,f){var g=new(d("ReStoreTransactionLock").ReStoreTransactionLock)(),h=new WeakMap(),i=f==null?void 0:f.instanceKey;return{table:function(f){return{add:function(d){return g.chainPromiseOrValue(async function(e){b("cr:4935")==null?void 0:b("cr:4935").recordLogicalWrite(i),await H(c,a,h,f,d,e)})},delete:function(d){return g.chainPromiseOrValue(async function(e){b("cr:4935")==null?void 0:b("cr:4935").recordLogicalWrite(i),await D(c,a,h,f,d,e),await z(c,a,h,f,d,void 0,e)})},deleteThenInsert:function(e){return g.chainPromiseOrValue(async function(g){b("cr:4935")==null?void 0:b("cr:4935").recordLogicalWrite(i);var j=d("ReStoreUtils").appendDefaultValues(e,f);await B(c,a,h,f,j,g);await z(c,a,h,f,p(f,j),void 0,g)})},entries:function(b,c,d){c===void 0&&(c="asc");return k(y(a,h,f,void 0,c,d),g)},get:function(b){return g.chainPromiseOrValue(function(c){return w(a,h,f,void 0,b,c)})},index:function(b){return{entries:function(c,d,e){d===void 0&&(d="asc");return k(y(a,h,f,b,d,e),g)},get:function(c){return g.chainPromiseOrValue(function(d){return w(a,h,f,b,c,d)})},getKey:function(c){return g.chainPromiseOrValue(function(d){return x(a,h,f,b,c,d)})},keyLength:e.tableNames[f].indexes[b].length}},keyLength:e.tableNames[f].primaryKeyIds.length,peekNextAutoIncrementId:function(){return g.chainPromiseOrValue(function(b){return A(a,h,f,b)})},put:function(d){return g.chainPromiseOrValue(async function(e){b("cr:4935")==null?void 0:b("cr:4935").recordLogicalWrite(i),await B(c,a,h,f,d,e)})},upsert:function(d,e){return g.chainPromiseOrValue(async function(g){b("cr:4935")==null?void 0:b("cr:4935").recordLogicalWrite(i),await C(c,a,h,f,d,e,g),await z(c,a,h,f,d,p(f,e),g)})}}}}}function K(a,b){return new Promise(async function(d,e){q[b].last==null?q[b].first=q[b].last={value:function(){return a().then(d,e)}}:q[b].last=q[b].last.next={value:function(){return a().then(d,e)}};try{var f=q.ui.first==null?q.background:q.ui;if(f.first==null){c("FBLogger")("messenger_web_product").mustfix("Expected work is missing");return}var g=f.first;f.first===f.last&&(f.last=null);f.first=f.first.next;await g.value()}catch(a){e(a)}})}function L(a,b){a.clear(),b.forEach(function(b,c){return a.set(c,b)})}function M(e,f,h){h===void 0&&(h="background");var i,j,k,l,m,p,q,r=b("cr:4935")==null?void 0:b("cr:4935").startTracking(a.types,h);(c("gkx")("3827")||c("gkx")("3648")||b("cr:1265"))&&(i=c("err")("Transaction timeout"));b("cr:1265")&&(k=c("performanceNow")(),l=Date.now());async function s(){b("cr:4935")==null?void 0:b("cr:4935").mark(r,"execute_start");b("cr:1265")&&(d("UserTimingUtils").measureModern("Restore Queue",{end:c("performanceNow")(),start:k}),j=c("performanceNow")(),m=Date.now());var a={ref:void 0},h=new Map(),s=new Map(),t=function(){return{changedKeys:h,changeSet:s}},u=function(a){L(h,a.changedKeys),L(s,a.changeSet)},v=g.createTransaction("readwrite",s),w;try{var x=J(v,h,{instanceKey:r});w=await Promise.race([e(x,t,u),n(i,a)]);a.ref!=null&&c("clearTimeout")(a.ref);b("cr:1265")&&(p=Date.now());b("cr:4935")==null?void 0:b("cr:4935").mark(r,"execute_end");b("cr:4935")==null?void 0:b("cr:4935").mark(r,"flush_start");await v.flush({instanceKey:r});b("cr:4935")==null?void 0:b("cr:4935").mark(r,"flush_end")}catch(d){a.ref!=null&&c("clearTimeout")(a.ref);v.close();b("cr:4935")==null?void 0:b("cr:4935").fail(r);throw d}b("cr:1265")&&(q=Date.now());b("cr:4935")==null?void 0:b("cr:4935").mark(r,"broadcast_start");x=new WeakMap();for(t of h){u=t[0];a=t[1];v=a[0];a=a[1];u=JSON.parse(u);var y=u[0];u[1];await (o==null?void 0:o.notifyTableAndIndexSubscribers(y,v,a,x))}o==null?void 0:o.notifyTableV2(!0,h);o==null?void 0:o.notifyCommit();if(b("cr:1265")){f=Date.now();u={broadcast:f,complete:p,flush:q,queue:l,start:m};b("cr:1265").recordRestoreTransaction(i,u,{changedKeys:h,changeSet:s})}b("cr:4935")==null?void 0:b("cr:4935").mark(r,"broadcast_end");b("cr:4935")==null?void 0:b("cr:4935").mark(r,"post_commit_start");c("setImmediate")(function(){b("cr:4935")==null?void 0:b("cr:4935").mark(r,"post_commit_end"),b("cr:4935")==null?void 0:b("cr:4935").end(r)});if(b("cr:1265")){var z=c("performanceNow")();d("UserTimingUtils").measureModern("Restore Transact",{end:z,start:j});c("setImmediate")(function(){d("UserTimingUtils").measureModern("Restore Post-Commit",{end:c("performanceNow")(),start:z})})}return w}if(c("gkx")("3447"))return K(function(){return g.runExclusively(s)},h);else return g.runExclusively(function(){return K(s,h)})}return{clearCacheIfSupported:function(){var a=g;a instanceof Object&&a.clearCache!==void 0&&a.clearCache instanceof Function&&a.clearCache()},closeDb:function(){var a=g;a instanceof Object&&a.close!==void 0&&a.close()},getTableData:function(){return e},persistenceTypes:a.types,runInTransaction:M,subscribeToCommit:function(a){return(o==null?void 0:o.subscribeToCommit(a))||c("emptyFunction")},subscriptionManager:o,table:function(a){return m(s,a,function(){var b=new Map();return{entries:function(b,c,d){c===void 0&&(c="asc");return k(y(g.createTransaction("readonly"),b,a,void 0,c,d),r)},get:function(b,c){c===void 0&&(c=new WeakMap());return r.chainPromiseOrValue(function(d){return w(g.createTransaction("readonly"),c,a,void 0,b,d)})},index:function(d){return m(b,d,function(){return{entries:function(b,c,e){c===void 0&&(c="asc");return k(y(g.createTransaction("readonly"),b,a,d,c,e),r)},get:function(b,c){c===void 0&&(c=new WeakMap());return r.chainPromiseOrValue(function(e){return w(g.createTransaction("readonly"),c,a,d,b,e)})},getKey:function(b){return r.chainPromiseOrValue(function(c){return x(g.createTransaction("readonly"),new WeakMap(),a,d,b,c)})},keyLength:e.tableNames[a].indexes[d].length,subscribe:function(b,f){return(o==null?void 0:o.subscribeIndex(a,d,b,u(f,e.tableNames[a].indexes[d])))||c("emptyFunction")}}})},keyLength:e.tableNames[a].primaryKeyIds.length,peekNextAutoIncrementId:function(){return r.chainPromiseOrValue(function(b){return A(g.createTransaction("readonly"),new WeakMap(),a,b)})},subscribe:function(b,d){return(o==null?void 0:o.subscribeTable(a,b,u(d,e.tableNames[a].primaryKeyIds.length)))||c("emptyFunction")}}})}}}function n(a,b){return c("ExecutionEnvironment").canUseDOM&&c("gkx")("3648")?new Promise(function(d,e){var f=5e3;b.ref=c("setTimeout")(function(){c("FBLogger")("messenger_web_product").catching(a).blameToPreviousFrame().mustfix("ReStore transaction took longer than %s ms to execute",f.toString()),e(a)},f)}):new Promise(function(){})}a.TransactionClosedError=e;g.default=a}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","LSTableDefaults","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b.table(d("ReStoreDefaultValuesMetadata").defaultValuesTableName).entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){a=(yield h(a,b));b={};for(d in d.tableNames){var e=c("LSTableDefaults")[d];if(e!=null)for(var f in e){var g;g=(g=a[d])==null?void 0:g.has(f);if(!g){b[d]=(g=b[d])!=null?g:{};b[d][f]=e[f]}}}return b});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(b in b){var e=Object.keys(c("LSTableDefaults")[b]||{});e={columns:e,tableName:b};yield a.table(d("ReStoreDefaultValuesMetadata").defaultValuesTableName).put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}});return m.apply(this,arguments)}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=new WeakMap(),e=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=(yield j(c,a,b));try{for(var f in b){var g=a.table(f).entries(c),h=(yield g.next());while(!h.done){var i=babelHelpers["extends"]({},h.value[1]);i=d("ReStoreUtils").appendDefaultValues(i,f);yield a.table(f).put(i);h=(yield g.next())}}yield l(a,b);d("LSPlatformLsInitLog").addPoint("default_values_update_end_success")}catch(a){e(a,"setDefaultValues")}}catch(a){e(a,"findDefaultValuesToUpdate")}});return n.apply(this,arguments)}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreIndexMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b.table(d("ReStoreIndexMetadata").indicesTableName).entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]={index:e.data,key:b}}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield h(a,b));b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j=f.indexes[g];i=(i=a[e])==null?void 0:i[g];if(d("ReStoreIndexMetadata").indicesDiffer(i==null?void 0:i.index,j)){b[e]=(i=b[e])!=null?i:{};b[e][g]=j}}}i={};for(j in a){g=a[j];for(f in g){var k;e=g[f];k=(k=c.tableNames[j])==null?void 0:(k=k.indexes)==null?void 0:k[f];if(k==null){i[j]=(k=i[j])!=null?k:{};i[j][f]=e}}}return{toRemove:i,toUpdate:b}});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f];g={data:g,indexName:f,tableName:c};yield a.table(d("ReStoreIndexMetadata").indicesTableName).put(d("ReStoreIndexMetadata").indexDataToValue(g))}}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f].key;yield a.table(d("ReStoreIndexMetadata").indicesTableName)["delete"](g)}}});return o.apply(this,arguments)}function a(a,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_started");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return j(f,a,c).then(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=b.toRemove;b=b.toUpdate;var g=Array.from(new Set([].concat(Object.keys(b),Object.keys(f))));d("LSPlatformLsInitLog").addAnnotations({"int":{index_migration_rebuild_tables_count:g.length},string_array:{index_migration_rebuilt_tables:g}});for(g of g)if(c.tableNames[g]!=null){var h;h=Array.from(new Set([].concat(Object.keys((h=b[g])!=null?h:{}),Object.keys((h=f[g])!=null?h:{}))));yield e(g,h)}yield l(a,b);yield n(a,f);d("LSPlatformLsInitLog").addPoint("index_migration_end_success")});return function(a){return f.apply(this,arguments)}}(),function(a){return g(a,"findIndicesToUpdateOrRemove")})["catch"](function(a){return g(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("createReStoreEphemeralPersistence",["Promise","ReStorePersistence","asyncToGeneratorRuntime","gkx","pageID"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a){var e,f=b("Promise").resolve(),g=new Map(),i=(e=window)==null?void 0:(e=e.navigator)==null?void 0:e.locks;function j(a){return h(g,a,function(){return new Map()})}return{flush:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){if(a!=null){var e=a();yield e(b,c);return}b.forEach(function(a,b){var c=j(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a)?c["delete"](b):c.set(b,a)})})});function e(a,b){return c.apply(this,arguments)}return e}(),get:function(a,b,c){a=j(b);return a.get(c)},runExclusively:function(a){if(i!=null&&c("gkx")("2538"))return new(b("Promise"))(function(d,e){i.request("edbLock_"+c("pageID"),b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d(yield a())}catch(a){e(a)}}))});else return new(b("Promise"))(function(c,d){f=f.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{c(yield a())}catch(a){d(a)}}))})},shouldSync:function(){return!1},types:["ephemeral"]}}g["default"]=a}),98);
__d("ReQLBounds.bs",["LSDbKeyComparer","bs_js_dict","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){if(!b)return c;if(a<=0)return c;var d=b.hd;if(a===1)return{hd:d,tl:0};else return{hd:d,tl:h(a-1|0,b.tl,c)}}function a(a,b){return h(a,b,{hd:d("LSDbKeyComparer").MAX_KEY,tl:0})}function b(a,b){a=function(a){var b=a.NAME;if(b==="lessThan")return["lt",a.VAL];else if(b==="greaterThan")return["gt",a.VAL];else if(b==="greaterThanOrEqual")return["gte",a.VAL];else return["lte",a.VAL]};var d=b.NAME;if(d!=="range")if(d==="greaterThanOrEqual"||d==="greaterThan")return c("bs_js_dict").fromArray([a(b)]);else return c("bs_js_dict").fromArray([a(b)]);d=b.VAL;return c("bs_js_dict").fromArray([a(d[0]),a(d[1])])}function e(a){var b=a.operation;switch(b){case"add":return{_0:a.value,TAG:0};case"delete":return{_0:void 0,TAG:2};case"put":return{_0:a.value,TAG:1};default:return c("unrecoverableViolation")("Unexpected operation","messenger_web_product")}}f=h;g.nextKey=a;g.mapBounds=b;g.mapEventToOperation=e;g.concat=f}),98);
__d("IntervalList",["FBLogger","LSDbKeyComparer","ReQLBounds.bs"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("must not be null");return a}function a(a,b){var c=new Map(),e=new Map(),f=new Map();function g(b,c){return c==null?!0:(c.gt!==void 0?a(b,c.gt)>0:c.gte!==void 0?a(b,c.gte)>=0:!0)&&(c.lt!==void 0?a(b,c.lt)<0:c.lte!==void 0?a(b,c.lte)<=0:!0)}function* i(a){var f=a,h={hd:d("LSDbKeyComparer").MAX_KEY,tl:0},i=0;while(f!==0&&e.size){i++;var j=f,k=f.tl;f.tl=i<b?h:0;try{var l=e.get(JSON.stringify(a));if(l!=null)for(l of l)yield l}finally{j.tl=k}f=j.tl}for(l of c.entries()){k=l[0];j=l[1];c.has(k)&&g(a,j)&&(yield k)}}function j(a){var b=f.get(a);if(b!=null){f["delete"](a);var d=h(e.get(b));d["delete"](a);d.size===0&&e["delete"](b)}else c["delete"](a)}function k(a,g){var h;if(a&&a.gte!=null&&a.lte!=null&&(h=JSON.stringify(d("ReQLBounds.bs").nextKey(b,a.gte)))===JSON.stringify(a.lte)){var i=e.get(h);i==null&&(i=new Set(),e.set(h,i));i.add(g);f.set(g,h)}else c.set(g,a)}return{"delete":j,findIntersecting:i,set:k}}g["default"]=a}),98);
__d("createReStoreSubscriptionManager",["FBLogger","IntervalList","LSDatabaseProviderType","LSDbKeyComparer","LSPersistedDbGating","LSStorage","Promise","asyncToGeneratorRuntime","cr:3107","killswitch","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){var f=new Map(),g=new Map();function h(a,c,d,e){return b("Promise").all(Array.from(a.findIntersecting(d)).map(function(a){return a(d,e,c)}))}function i(b){return c("nullthrows")((f.has(b)?f:f.set(b,[c("IntervalList")(d("LSDbKeyComparer").compareKey,a.tableNames[b].primaryKeyIds.length),new Map()])).get(b))}function j(b,e){var f=i(b);f[0];f=f[1];return c("nullthrows")((f.has(e)?f:f.set(e,c("IntervalList")(d("LSDbKeyComparer").compareKey,a.tableNames[b].indexes[e].length))).get(e))}function k(e,f,g,i,j,k){var l=function(a,b){return h(e,k,a,b)},m=g==null?void 0:d("LSStorage").searchKey(a,f,g,j),n=i==null?void 0:d("LSStorage").searchKey(a,f,i,j);if(n==null&&m!=null)return l(m,{operation:"delete",prevValue:g});if(m==null&&n!=null)return l(n,{operation:"add",value:c("nullthrows")(i)});return m!=null&&n!=null?d("LSDbKeyComparer").compareKey(m,n)===0?l(m,{operation:"put",prevValue:g,value:c("nullthrows")(i)}):l(m,{operation:"delete",prevValue:g}).then(function(){return l(n,{operation:"add",value:c("nullthrows")(i)})}):b("Promise").resolve()}function l(a,c,d,e){var f=i(a),g=f[0],h=f[1];return k(g,a,c,d,null,e).then(function(){return b("Promise").all(Array.from(h.entries()).map(function(b){var f=b[0];b=b[1];return k(b,a,c,d,f,e)}).filter(function(a){return a!=null}))})}function m(){g.forEach(function(a){return a()})}function n(a,f){a===void 0&&(a=!1);function g(){var a=new Map();try{for(var b of f){var d=b[0],g=b[1];d=JSON.parse(d);var h=d[0];d[1];if(e(h)){d=a.get(h)||[];a.set(h,[].concat(d,[g]))}}}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Couldnot format changes to broadcast")}return Array.from(a)}if(!c("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&a&&b("cr:3107")!=null&&d("LSDatabaseProviderType").isProviderPersisted()&&!d("LSPersistedDbGating").singleTabEnabled){a=g();b("cr:3107").postMessage("notifyTableV2",a)}}!c("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&b("cr:3107")!=null&&d("LSDatabaseProviderType").isProviderPersisted()&&!d("LSPersistedDbGating").singleTabEnabled&&b("cr:3107").onEventReceive("notifyTableV2",function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=new WeakMap();for(var c of a){var d=c[0],e=c[1];for(e of e){var f=e[0],g=e[1];yield l(d,f,g,b)}}m()})())});return{dispose:function(){f.clear(),g.clear()},notifyCommit:m,notifyTableAndIndexSubscribers:l,notifyTableV2:n,subscribeIndex:function(a,c,d,e){var f=j(a,c),g=!1,h=function(a,c,e){return g?b("Promise").resolve():d(a,c,e)};f.set(e,h);return function(){g=!0,f["delete"](h)}},subscribeTable:function(a,c,d){a=i(a);var e=a[0],f=!1,g=function(a,d,e){return f?b("Promise").resolve():c(a,d,e)};e.set(d,g);return function(){f=!0,e["delete"](g)}},subscribeToCommit:function(a){g.set(a,a);return function(){g["delete"](a)}}}}g["default"]=a}),98);
__d("MWChatTabEntryPoints.bs",[],(function(a,b,c,d,e,f){"use strict";a={};f.tabEntryPoints=a}),66);
__d("MWChatLogOpenChatTab.bs",["MWChatTabEntryPoints.bs","MessengerWebEntryPointsUtil.bs","MessengerWebEventsFalcoEvent","ODS"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=a!==void 0?a:!1;d("ODS").bumpEntityKey(3185,"mwchat_tab","open_user");var h=d("MessengerWebEntryPointsUtil.bs").cast(e);d("MWChatTabEntryPoints.bs").tabEntryPoints[b]=h;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:h,event_name:"open_chat_tab",is_secured:g,other_user_fbid:g?null:b}})}function b(a,b,e){var f=a!==void 0?a:!1;d("ODS").bumpEntityKey(3185,"mwchat_tab","open_group");var g=d("MessengerWebEntryPointsUtil.bs").cast(e);d("MWChatTabEntryPoints.bs").tabEntryPoints[b]=g;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:g,event_name:"open_chat_tab",is_secured:f,thread_fbid:f?null:b}})}function e(a,b,e,f){var g=a!==void 0?a:!1;d("ODS").bumpEntityKey(3185,"mwchat_tab","open_page");var h=d("MessengerWebEntryPointsUtil.bs").cast(e);d("MWChatTabEntryPoints.bs").tabEntryPoints[b]=h;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:h,event_name:"open_chat_tab",is_secured:g,other_user_fbid:g?null:b}})}g.logOpenUserTab=a;g.logOpenGroupTab=b;g.logOpenPageTab=e}),98);
__d("LSMailboxInitialSyncCursor",["I64","LSPlatformMessengerSyncParams","LSPlatformWorkplaceSyncParams","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("1224637")?c("LSPlatformWorkplaceSyncParams").mailbox:c("LSPlatformMessengerSyncParams").mailbox;b=d("I64").of_int32(c("qex")._("461")===!0?3:1);e=d("I64").of_int32(0);g.syncParams=a;g.syncChannel=b;g.lastSyncTimestampMs=e}),98);
__d("LSDatabase",[],(function(a,b,c,d,e,f){}),null);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";a={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:d("LSIntEnum").ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:d("LSIntEnum").ofNumber(0),minTimeToSyncTimestampMs:d("LSIntEnum").ofNumber(-1),priority:d("LSIntEnum").ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:d("LSIntEnum").ofNumber(1),syncParams:JSON.stringify({locale:c("CurrentLocale").get()}),syncStatus:d("LSIntEnum").ofNumber(0)};b={epochId:void 0,failureCount:d("LSIntEnum").ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:d("LSIntEnum").ofNumber(0),lastSyncRequestTimestampMs:d("LSIntEnum").ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:d("LSIntEnum").ofNumber(0),taskQueueName:""};e=d("LSIntEnum").ofNumber(0);f=d("LSIntEnum").ofNumber(9999999999999);g.defaultSyncGroup=a;g.defaultNetworkRequest=b;g.initialEpochId=e;g.neverSyncTimestamp=f}),98);
__d("MNetRankType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45,BROADCAST_FLOW_TOP_THREADS_FB_SHARE:46,FB_H_SCROLL_RANKING:47,FB_MESSAGING_USER_SEARCH:48,FB_MESSAGING_USER_SEARCH_NULLSTATE:49,MESSENGER_ACTIVE_NOW_TRAY_ACTIVE_CC:50});f["default"]=a}),66);
__d("LSDefaultSyncGroups",["CurrentEnvironment","CurrentUser","I64","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","MAWGating","MNetRankType","Promise","ReQL","asyncToGeneratorRuntime","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();d("MAWGating").isArmadillo()&&d("MAWGating").isOccamadillo()&&!d("MAWGating").isOccamadilloResumeSyncEnabled()&&h.add(95);e=d("MAWGating").isArmadillo()&&d("MAWGating").isOccamadillo()?{groupId:95}:null;var i=[{groupId:1},{groupId:2},{groupId:6},{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},{groupId:16},{groupId:28},{groupId:24},c("qex")._("923")?{groupId:95}:null],j=[{groupId:1,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:d("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel},{groupId:7,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").MESSENGER_USER_SEARCH,c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,c("MNetRankType").INBOX_ACTIVE_NOW,c("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE]})},{groupId:15,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:12,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:16},{groupId:26},{groupId:5},{groupId:28},{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},e,c("qex")._("274")||c("gkx")("6543")||c("gkx")("5849")?{groupId:6,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}:null,c("gkx")("2250")?{groupId:108}:null,c("gkx")("5849")?{groupId:135}:null];function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("network_requests")).getKeyRange(""))),f=e.map(function(a){a=a.syncDatabaseId;return d("LSIntEnum").toNumber(a)});return b("Promise").all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b!=null&&(!f.includes(b.groupId)||h.has(b.groupId))&&(yield a.table("network_requests").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:d("LSIntEnum").ofNumber(b.groupId)})))});return function(a){return c.apply(this,arguments)}}()))});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("sync_groups")))),f=e.map(function(a){a=a.groupId;return d("LSIntEnum").toNumber(a)});function g(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.groupId;b=babelHelpers.objectWithoutPropertiesLoose(b,["groupId"]);(!f.includes(c)||h.has(c))&&(yield a.table("sync_groups").put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,b,{groupId:d("LSIntEnum").ofNumber(c)})))});return i.apply(this,arguments)}yield b("Promise").all(c.map(function(a){return a&&g(a)}))});return n.apply(this,arguments)}function o(a){var b=c("CurrentEnvironment").instagramdotcom?c("CurrentUser").getEIMU():c("CurrentUser").getID();return a.table("_user_info").put({facebookUserId:d("I64").of_string(b),id:d("LSIntEnum").ofNumber(1)})}function p(a){return a!=null?a:c("CurrentEnvironment").instagramdotcom?i:j}function a(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=p(b);d("LSPlatformLsInitLog").addPoint(c?c+"_db_seed_starts":"db_seed_starts");yield o(a);yield k(a,b);yield m(a,b);d("LSPlatformLsInitLog").addPoint(c?c+"_success_db_seed":"success_db_seed")});return q.apply(this,arguments)}g.e2eeMetadataSyncGroup=e;g.igdSyncGroups=i;g.defaultSyncGroups=j;g.seedDb=a}),98);
__d("MWLSSchemaEphemeral",["LSDefaultSyncGroups","LSJSInMemoryStorage.bs","LSMetadata","LSPlatformLsInitLog","MWDetectDbSupport","Promise","asyncToGeneratorRuntime","cr:4489","cr:5502"],(function(a,b,c,d,e,f,g){"use strict";function h(){return b("cr:4489")!=null?b("cr:4489").setupVaultMaterials().then(function(){b("cr:4489").listenToVaultMaterialsRequest()}):b("Promise").resolve()}function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addPoint("edb_init_starts");yield h();var a;b("cr:5502")!=null&&(yield d("MWDetectDbSupport").isIndexedDbSupportedNoTabRestrictions())?a=(yield b("cr:5502").makeEBStateDB()):a=d("LSJSInMemoryStorage.bs").make(d("LSMetadata").metadata);d("LSPlatformLsInitLog").addPoint("success_edb_init");yield a.runInTransaction(function(a){return d("LSDefaultSyncGroups").seedDb(a,void 0,"ephemeral")},"readwrite");return a});return i.apply(this,arguments)}g.createDB=a}),98);/*FB_PKG_DELIM*/
__d("GroupsCometChatsBlockedUsersInChatWarningViewerThreadDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4441460415958655"}),null);
__d("GroupsCometChatsBlockedUsersInChatWarningViewerThreadDialogQuery$Parameters",["GroupsCometChatsBlockedUsersInChatWarningViewerThreadDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatsBlockedUsersInChatWarningViewerThreadDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatsBlockedUsersInChatWarningViewerThreadDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometChatsListCellUnjoinedChatBody_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],b=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometChatsListCellUnjoinedChatBody_thread",selections:[{alias:null,args:null,kind:"ScalarField",name:"last_message_snippet",storageKey:null},{alias:null,args:null,concreteType:"GroupHashtag",kind:"LinkedField",name:"group_hashtag",plural:!1,selections:a,storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"SharedByConnection",kind:"LinkedField",name:"shared_by",plural:!1,selections:[{alias:null,args:null,concreteType:"SharedByEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:a,storageKey:null}],storageKey:null}],storageKey:"shared_by(first:1)"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"associated_object.id"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_rooms_and_chats_with_hashtag",plural:!1,selections:b,storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"if_viewer_can_see_chat_full_experience_v2",plural:!1,selections:b,storageKey:null}],storageKey:null},action:"THROW",path:"associated_object.community"}],type:"Group",abstractKey:null}],storageKey:null},action:"THROW",path:"associated_object"},{alias:null,args:null,concreteType:"FBGroupChatInvite",kind:"LinkedField",name:"direct_invite",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"invited_by_message",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_taken_down",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_thread_full",storageKey:null}],type:"MessengerGlobalFBGroupChat",abstractKey:null}}();e.exports=a}),null);
__d("GroupsCometOpenAdmodChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7153807358024345"}),null);
__d("GroupsCometOpenAdmodChatDialogQuery$Parameters",["GroupsCometOpenAdmodChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometOpenAdmodChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometOpenAdmodChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometFollowGroupAndJoinChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6067176843300629"}),null);
__d("GroupsCometFollowGroupAndJoinChatDialogQuery$Parameters",["GroupsCometFollowGroupAndJoinChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometFollowGroupAndJoinChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometFollowGroupAndJoinChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useGroupsCometChatDeleteSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5113343175389018"}),null);
__d("useGroupsCometChatDeleteSubscription.graphql",["useGroupsCometChatDeleteSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"GroupChatDeleteSubscribeResponsePayload",kind:"LinkedField",name:"group_chat_delete_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delete_thread_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useGroupsCometChatDeleteSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useGroupsCometChatDeleteSubscription",selections:c},params:{id:b("useGroupsCometChatDeleteSubscription_facebookRelayOperation"),metadata:{subscriptionName:"group_chat_delete_subscribe"},name:"useGroupsCometChatDeleteSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("useGroupsCometChatDirectInviteSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5709849072459105"}),null);
__d("useGroupsCometChatDirectInviteSubscription.graphql",["GroupsCometDelayCheckBlockedUsers.relayprovider","useGroupsCometChatDirectInviteSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";var g={__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider:b("GroupsCometDelayCheckBlockedUsers.relayprovider")};a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f=[e,d],h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:[a],kind:"Fragment",metadata:null,name:"useGroupsCometChatDirectInviteSubscription",selections:[{alias:null,args:c,concreteType:"GroupChatDirectInviteSubscribeResponsePayload",kind:"LinkedField",name:"group_chat_direct_invite_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometChatsListCellGlobalChat_thread"}],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider"}],kind:"Operation",name:"useGroupsCometChatDirectInviteSubscription",selections:[{alias:null,args:c,concreteType:"GroupChatDirectInviteSubscribeResponsePayload",kind:"LinkedField",name:"group_chat_direct_invite_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"active_participants_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},d,{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"image(height:40,width:40)"},{alias:null,args:null,kind:"ScalarField",name:"channel_category_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[e,d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_community_messaging",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_request_to_participate_in_forum",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_forum_participant_experience",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_cm_offboarding_banner",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_follow_forum_and_join_chat_interstitial",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_chat_in_forum",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"if_viewer_can_see_admod_chat",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"admod_only_chat",plural:!1,selections:f,storageKey:null},{alias:"open_admod_chat_nux",args:[{kind:"Literal",name:"nux_id",value:10032}],concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null}],type:"DefaultNUX",abstractKey:null},d],storageKey:"nux(nux_id:10032)"},d],storageKey:null},d,{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"if_viewer_can_see_chat_full_experience_v2",plural:!1,selections:f,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_cm_offboarding_content",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_rooms_and_chats_with_hashtag",plural:!1,selections:f,storageKey:null}],type:"Group",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_taken_down",storageKey:null},{alias:null,args:null,concreteType:"FBGroupChatInvite",kind:"LinkedField",name:"direct_invite",plural:!1,selections:[d,{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[d,{args:null,documentName:"GroupsCometChatsListCellGlobalChat_thread",fragmentName:"GroupsCometChatRespondToInvite_thread",fragmentPropName:"thread",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"invited_by_message",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_message_snippet",storageKey:null},{alias:null,args:null,concreteType:"GroupHashtag",kind:"LinkedField",name:"group_hashtag",plural:!1,selections:[h,d],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"SharedByConnection",kind:"LinkedField",name:"shared_by",plural:!1,selections:[{alias:null,args:null,concreteType:"SharedByEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e,h,d],storageKey:null}],storageKey:null}],storageKey:"shared_by(first:1)"},{alias:null,args:null,kind:"ScalarField",name:"is_thread_full",storageKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"if_viewer_can_see_join_interstitial",plural:!1,selections:f,storageKey:null}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[{condition:"__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"MessengerViewerFBGroupChat",kind:"LinkedField",name:"if_viewer_can_see_blocked_users",plural:!1,selections:f,storageKey:null}]}],type:"MessengerViewerFBGroupChat",abstractKey:null}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"}],storageKey:null}],storageKey:null}]},params:{id:b("useGroupsCometChatDirectInviteSubscription_facebookRelayOperation"),metadata:{subscriptionName:"group_chat_direct_invite_subscribe"},name:"useGroupsCometChatDirectInviteSubscription",operationKind:"subscription",text:null,providedVariables:g}}}();e.exports=a}),null);
__d("useGroupsCometChatEditSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6452923681408907"}),null);
__d("useGroupsCometChatEditSubscription.graphql",["GroupsCometDelayCheckBlockedUsers.relayprovider","useGroupsCometChatEditSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";var g={__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider:b("GroupsCometDelayCheckBlockedUsers.relayprovider")};a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h=[{alias:null,args:null,kind:"ScalarField",name:"is_unread",storageKey:null}];return{fragment:{argumentDefinitions:[a],kind:"Fragment",metadata:null,name:"useGroupsCometChatEditSubscription",selections:[{alias:null,args:c,concreteType:"GroupChatEditSubscribeResponsePayload",kind:"LinkedField",name:"group_chat_edit_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerViewerFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometChatsListCell_groupChatInboxRow"},{args:null,kind:"FragmentSpread",name:"GroupsCometChatEditChatDialog_image"},{args:null,kind:"FragmentSpread",name:"EventCometCommunityMessagingCardBody_chat"}],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider"}],kind:"Operation",name:"useGroupsCometChatEditSubscription",selections:[{alias:null,args:c,concreteType:"GroupChatEditSubscribeResponsePayload",kind:"LinkedField",name:"group_chat_edit_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerViewerFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsListCell_groupChatInboxRow",fragmentName:"GroupsCometChatsListCellGlobalChat_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsListCell_groupChatInboxRow",fragmentName:"GroupsCometChatsListCellViewerChat_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerViewerFBGroupChat",abstractKey:null}],type:"FBGroupChatInboxRow",abstractKey:"__isFBGroupChatInboxRow"},{kind:"InlineFragment",selections:[{alias:"image80x80",args:[{kind:"Literal",name:"height",value:80},{kind:"Literal",name:"width",value:80}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},d,e,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:"image(height:80,width:80)"}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,concreteType:"MessageThreadJoinableMode",kind:"LinkedField",name:"joinable_mode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[f,d],storageKey:null}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[e],storageKey:"profile_picture(height:24,width:24)"},d],storageKey:null},d],storageKey:null}],storageKey:null}],storageKey:null}],type:"MessengerThread",abstractKey:"__isMessengerThread"},{kind:"InlineFragment",selections:h,type:"MessengerViewerFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:h,type:"XFBMessengerViewerGroupDiscoverablePublicChatThread",abstractKey:null}],type:"MessengerGroupThread",abstractKey:"__isMessengerGroupThread"}],storageKey:null}],storageKey:null}]},params:{id:b("useGroupsCometChatEditSubscription_facebookRelayOperation"),metadata:{subscriptionName:"group_chat_edit_subscribe"},name:"useGroupsCometChatEditSubscription",operationKind:"subscription",text:null,providedVariables:g}}}();e.exports=a}),null);
__d("useGroupsCometChatJoinSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6180830745270279"}),null);
__d("useGroupsCometChatJoinSubscription.graphql",["GroupsCometDelayCheckBlockedUsers.relayprovider","useGroupsCometChatJoinSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";var g={__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider:b("GroupsCometDelayCheckBlockedUsers.relayprovider")};a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[d,e],h={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_cm_offboarding_banner",plural:!1,selections:f,storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"is_taken_down",storageKey:null},k={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_rooms_and_chats_with_hashtag",plural:!1,selections:f,storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"last_message_snippet",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,concreteType:"GroupHashtag",kind:"LinkedField",name:"group_hashtag",plural:!1,selections:[m,e],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"fb_group_chat_privacy",storageKey:null},p={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"GroupPrivacyInfo",kind:"LinkedField",name:"privacy_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null}],storageKey:null}],type:"Group",abstractKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"is_unread",storageKey:null},r=[q];return{fragment:{argumentDefinitions:[a],kind:"Fragment",metadata:null,name:"useGroupsCometChatJoinSubscription",selections:[{alias:null,args:c,concreteType:"GroupChatJoinSubscribeResponsePayload",kind:"LinkedField",name:"group_chat_join_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerViewerFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometChatsJoinOrChatButton_thread"},{args:null,kind:"FragmentSpread",name:"GroupsCometChatsListCell_groupChatInboxRow"},{args:null,kind:"FragmentSpread",name:"EventCometCommunityMessagingCardBody_chat"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometAdminToolsLeftRailChatItem_group"},{args:null,kind:"FragmentSpread",name:"GroupsCometQuickPromotionTopOfMallGroupsChatsNUXCMAdmodCreateOrGoToChatContent_group"},{args:null,kind:"FragmentSpread",name:"GroupsCometEntityMenuLeftRailChannels_group"}],type:"Group",abstractKey:null}],storageKey:null}],storageKey:null},{alias:"attachment",args:null,concreteType:"MessengerViewerFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometChatsJoinOrChatAttachment_thread"}],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider"}],kind:"Operation",name:"useGroupsCometChatJoinSubscription",selections:[{alias:null,args:c,concreteType:"GroupChatJoinSubscribeResponsePayload",kind:"LinkedField",name:"group_chat_join_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerViewerFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"admod_only_chat",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometAdminToolsLeftRailChatItem_group",fragmentName:"GroupsCometAdminToolsLeftRailJoinChatItem_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometAdminToolsLeftRailChatItem_group",fragmentName:"GroupsCometAdminToolsLeftRailOpenChatItem_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerViewerFBGroupChat",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"admod_channels_count",storageKey:null},e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_address",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_rooms_and_chats_tab",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"GroupLeadersEngagementLoggingSettings",kind:"LinkedField",name:"leaders_engagement_logging_settings",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_surface_mappings",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"surface",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"trace_policy",storageKey:null}],type:"GroupLeadersEngagementLoggingExactCometSurfaceMapping",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"prefixes",storageKey:null}],type:"GroupLeadersEngagementLoggingPrefixCometSurfaceMapping",abstractKey:null}],storageKey:null}],storageKey:null},h,{alias:"admod_chat",args:null,concreteType:null,kind:"LinkedField",name:"admod_only_chat",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometQuickPromotionTopOfMallGroupsChatsNUXCMAdmodCreateOrGoToChatContent_group",fragmentName:"GroupsCometQuickPromotionTopOfMallGroupsChatsNUXJoinAdmodChatBase_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometQuickPromotionTopOfMallGroupsChatsNUXCMAdmodCreateOrGoToChatContent_group",fragmentName:"GroupsCometQuickPromotionTopOfMallGroupsChatsNUXOpenAdmodChatBase_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerViewerFBGroupChat",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_community_messaging",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1e3}],concreteType:"GroupGroupChatsInboxConnection",kind:"LinkedField",name:"group_chats_inbox",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[d,{kind:"InlineFragment",selections:[e,i,j,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_request_to_participate_in_forum",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_forum_participant_experience",plural:!1,selections:f,storageKey:null},h,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_follow_forum_and_join_chat_interstitial",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_chat_in_forum",plural:!1,selections:f,storageKey:null},k,{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"if_viewer_can_see_chat_full_experience_v2",plural:!1,selections:f,storageKey:null},e],storageKey:null}],type:"Group",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FBGroupChatInvite",kind:"LinkedField",name:"direct_invite",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[e,{args:null,documentName:"GroupsCometEntityMenuChatsGlobalChat_thread",fragmentName:"GroupsCometChatRespondToInvite_thread",fragmentPropName:"thread",kind:"ModuleImport"}],storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"invited_by_message",storageKey:null}],storageKey:null},l,n,{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"SharedByConnection",kind:"LinkedField",name:"shared_by",plural:!1,selections:[{alias:null,args:null,concreteType:"SharedByEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,m,e],storageKey:null}],storageKey:null}],storageKey:"shared_by(first:1)"},{alias:null,args:null,kind:"ScalarField",name:"is_thread_full",storageKey:null},{kind:"InlineFragment",selections:[o,p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"if_viewer_can_see_join_interstitial",plural:!1,selections:f,storageKey:null}],type:"MessengerGlobalFBGroupChat",abstractKey:null}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[e,i,q,j,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_community_messaging",storageKey:null},{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"if_viewer_can_see_admod_chat",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"admod_only_chat",plural:!1,selections:f,storageKey:null},{alias:"open_admod_chat_nux",args:[{kind:"Literal",name:"nux_id",value:10032}],concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null}],type:"DefaultNUX",abstractKey:null},e],storageKey:"nux(nux_id:10032)"},e],storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_cm_offboarding_content",plural:!1,selections:f,storageKey:null},k],type:"Group",abstractKey:null}],storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"updated_time_string",storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"thread_wrapper",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null},e],storageKey:null},n,{kind:"InlineFragment",selections:[o,p,{kind:"InlineFragment",selections:[{condition:"__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"MessengerViewerFBGroupChat",kind:"LinkedField",name:"if_viewer_can_see_blocked_users",plural:!1,selections:f,storageKey:null}]}],type:"MessengerViewerFBGroupChat",abstractKey:null}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"}],type:"MessengerViewerFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[e],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"group_chats_inbox(first:1000)"},e],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_audio_channels_in_channel_list",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupGroupAudioChannelsConnection",kind:"LinkedField",name:"group_audio_channels",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"nodes",plural:!0,selections:[e,m,{args:null,documentName:"useGroupsCometEntityMenuSortableAudioChannels_group",fragmentName:"GroupsCometEntityMenuAudioChannel_channel",fragmentPropName:"channel",kind:"ModuleImport"}],storageKey:null}],storageKey:null},e],storageKey:null}],type:"Group",abstractKey:null}],storageKey:null},e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsJoinOrChatButton_thread",fragmentName:"GroupsCometChatsJoinChatButton_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsJoinOrChatButton_thread",fragmentName:"GroupsCometChatsOpenChatButton_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerViewerFBGroupChat",abstractKey:null}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsListCell_groupChatInboxRow",fragmentName:"GroupsCometChatsListCellGlobalChat_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsListCell_groupChatInboxRow",fragmentName:"GroupsCometChatsListCellViewerChat_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerViewerFBGroupChat",abstractKey:null}],type:"FBGroupChatInboxRow",abstractKey:"__isFBGroupChatInboxRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},i,{alias:null,args:null,concreteType:"MessageThreadJoinableMode",kind:"LinkedField",name:"joinable_mode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[d,m,{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:24,width:24)"},e],storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:null}],type:"MessengerThread",abstractKey:"__isMessengerThread"},{kind:"InlineFragment",selections:r,type:"MessengerViewerFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:r,type:"XFBMessengerViewerGroupDiscoverablePublicChatThread",abstractKey:null}],type:"MessengerGroupThread",abstractKey:"__isMessengerGroupThread"}],storageKey:null},{alias:"attachment",args:null,concreteType:"MessengerViewerFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsJoinOrChatAttachment_thread",fragmentName:"GroupsCometChatsJoinChatAttachment_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsJoinOrChatAttachment_thread",fragmentName:"GroupsCometChatsOpenChatAttachment_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerViewerFBGroupChat",abstractKey:null}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"}],storageKey:null}],storageKey:null}]},params:{id:b("useGroupsCometChatJoinSubscription_facebookRelayOperation"),metadata:{subscriptionName:"group_chat_join_subscribe"},name:"useGroupsCometChatJoinSubscription",operationKind:"subscription",text:null,providedVariables:g}}}();e.exports=a}),null);
__d("useGroupsCometChatLeaveSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5924001887688837"}),null);
__d("useGroupsCometChatLeaveSubscription.graphql",["GroupsCometDelayCheckBlockedUsers.relayprovider","useGroupsCometChatLeaveSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";var g={__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider:b("GroupsCometDelayCheckBlockedUsers.relayprovider")};a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[d,e],h={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_cm_offboarding_banner",plural:!1,selections:f,storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"is_taken_down",storageKey:null},k={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_rooms_and_chats_with_hashtag",plural:!1,selections:f,storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"last_message_snippet",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,concreteType:"GroupHashtag",kind:"LinkedField",name:"group_hashtag",plural:!1,selections:[m,e],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"fb_group_chat_privacy",storageKey:null},p={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"GroupPrivacyInfo",kind:"LinkedField",name:"privacy_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null}],storageKey:null}],type:"Group",abstractKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"is_unread",storageKey:null},r=[q];return{fragment:{argumentDefinitions:[a],kind:"Fragment",metadata:null,name:"useGroupsCometChatLeaveSubscription",selections:[{alias:null,args:c,concreteType:"GroupChatLeaveSubscribeResponsePayload",kind:"LinkedField",name:"group_chat_leave_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometChatsJoinOrChatButton_thread"},{args:null,kind:"FragmentSpread",name:"GroupsCometChatsListCell_groupChatInboxRow"},{args:null,kind:"FragmentSpread",name:"EventCometCommunityMessagingCardBody_chat"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometAdminToolsLeftRailChatItem_group"},{args:null,kind:"FragmentSpread",name:"GroupsCometQuickPromotionTopOfMallGroupsChatsNUXCMAdmodCreateOrGoToChatContent_group"},{args:null,kind:"FragmentSpread",name:"GroupsCometEntityMenuLeftRailChannels_group"}],type:"Group",abstractKey:null}],storageKey:null}],storageKey:null},{alias:"attachment",args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometChatsJoinOrChatAttachment_thread"}],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider"}],kind:"Operation",name:"useGroupsCometChatLeaveSubscription",selections:[{alias:null,args:c,concreteType:"GroupChatLeaveSubscribeResponsePayload",kind:"LinkedField",name:"group_chat_leave_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"admod_only_chat",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometAdminToolsLeftRailChatItem_group",fragmentName:"GroupsCometAdminToolsLeftRailJoinChatItem_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometAdminToolsLeftRailChatItem_group",fragmentName:"GroupsCometAdminToolsLeftRailOpenChatItem_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerViewerFBGroupChat",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"admod_channels_count",storageKey:null},e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_address",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_rooms_and_chats_tab",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"GroupLeadersEngagementLoggingSettings",kind:"LinkedField",name:"leaders_engagement_logging_settings",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_surface_mappings",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"surface",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"trace_policy",storageKey:null}],type:"GroupLeadersEngagementLoggingExactCometSurfaceMapping",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"prefixes",storageKey:null}],type:"GroupLeadersEngagementLoggingPrefixCometSurfaceMapping",abstractKey:null}],storageKey:null}],storageKey:null},h,{alias:"admod_chat",args:null,concreteType:null,kind:"LinkedField",name:"admod_only_chat",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometQuickPromotionTopOfMallGroupsChatsNUXCMAdmodCreateOrGoToChatContent_group",fragmentName:"GroupsCometQuickPromotionTopOfMallGroupsChatsNUXJoinAdmodChatBase_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometQuickPromotionTopOfMallGroupsChatsNUXCMAdmodCreateOrGoToChatContent_group",fragmentName:"GroupsCometQuickPromotionTopOfMallGroupsChatsNUXOpenAdmodChatBase_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerViewerFBGroupChat",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_community_messaging",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1e3}],concreteType:"GroupGroupChatsInboxConnection",kind:"LinkedField",name:"group_chats_inbox",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[d,{kind:"InlineFragment",selections:[e,i,j,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_request_to_participate_in_forum",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_forum_participant_experience",plural:!1,selections:f,storageKey:null},h,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_follow_forum_and_join_chat_interstitial",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_chat_in_forum",plural:!1,selections:f,storageKey:null},k,{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"if_viewer_can_see_chat_full_experience_v2",plural:!1,selections:f,storageKey:null},e],storageKey:null}],type:"Group",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FBGroupChatInvite",kind:"LinkedField",name:"direct_invite",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[e,{args:null,documentName:"GroupsCometEntityMenuChatsGlobalChat_thread",fragmentName:"GroupsCometChatRespondToInvite_thread",fragmentPropName:"thread",kind:"ModuleImport"}],storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"invited_by_message",storageKey:null}],storageKey:null},l,n,{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"SharedByConnection",kind:"LinkedField",name:"shared_by",plural:!1,selections:[{alias:null,args:null,concreteType:"SharedByEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,m,e],storageKey:null}],storageKey:null}],storageKey:"shared_by(first:1)"},{alias:null,args:null,kind:"ScalarField",name:"is_thread_full",storageKey:null},{kind:"InlineFragment",selections:[o,p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"if_viewer_can_see_join_interstitial",plural:!1,selections:f,storageKey:null}],type:"MessengerGlobalFBGroupChat",abstractKey:null}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[e,i,q,j,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_community_messaging",storageKey:null},{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"if_viewer_can_see_admod_chat",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"admod_only_chat",plural:!1,selections:f,storageKey:null},{alias:"open_admod_chat_nux",args:[{kind:"Literal",name:"nux_id",value:10032}],concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null}],type:"DefaultNUX",abstractKey:null},e],storageKey:"nux(nux_id:10032)"},e],storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_cm_offboarding_content",plural:!1,selections:f,storageKey:null},k],type:"Group",abstractKey:null}],storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"updated_time_string",storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"thread_wrapper",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null},e],storageKey:null},n,{kind:"InlineFragment",selections:[o,p,{kind:"InlineFragment",selections:[{condition:"__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"MessengerViewerFBGroupChat",kind:"LinkedField",name:"if_viewer_can_see_blocked_users",plural:!1,selections:f,storageKey:null}]}],type:"MessengerViewerFBGroupChat",abstractKey:null}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"}],type:"MessengerViewerFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[e],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"group_chats_inbox(first:1000)"},e],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_audio_channels_in_channel_list",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupGroupAudioChannelsConnection",kind:"LinkedField",name:"group_audio_channels",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"nodes",plural:!0,selections:[e,m,{args:null,documentName:"useGroupsCometEntityMenuSortableAudioChannels_group",fragmentName:"GroupsCometEntityMenuAudioChannel_channel",fragmentPropName:"channel",kind:"ModuleImport"}],storageKey:null}],storageKey:null},e],storageKey:null}],type:"Group",abstractKey:null}],storageKey:null},e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsJoinOrChatButton_thread",fragmentName:"GroupsCometChatsJoinChatButton_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsJoinOrChatButton_thread",fragmentName:"GroupsCometChatsOpenChatButton_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerViewerFBGroupChat",abstractKey:null}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsListCell_groupChatInboxRow",fragmentName:"GroupsCometChatsListCellGlobalChat_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsListCell_groupChatInboxRow",fragmentName:"GroupsCometChatsListCellViewerChat_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerViewerFBGroupChat",abstractKey:null}],type:"FBGroupChatInboxRow",abstractKey:"__isFBGroupChatInboxRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},i,{alias:null,args:null,concreteType:"MessageThreadJoinableMode",kind:"LinkedField",name:"joinable_mode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[d,m,{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:24,width:24)"},e],storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:null}],type:"MessengerThread",abstractKey:"__isMessengerThread"},{kind:"InlineFragment",selections:r,type:"MessengerViewerFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:r,type:"XFBMessengerViewerGroupDiscoverablePublicChatThread",abstractKey:null}],type:"MessengerGroupThread",abstractKey:"__isMessengerGroupThread"}],storageKey:null},{alias:"attachment",args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"thread",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsJoinOrChatAttachment_thread",fragmentName:"GroupsCometChatsJoinChatAttachment_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerGlobalFBGroupChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometChatsJoinOrChatAttachment_thread",fragmentName:"GroupsCometChatsOpenChatAttachment_thread",fragmentPropName:"thread",kind:"ModuleImport"}],type:"MessengerViewerFBGroupChat",abstractKey:null}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"}],storageKey:null}],storageKey:null}]},params:{id:b("useGroupsCometChatLeaveSubscription_facebookRelayOperation"),metadata:{subscriptionName:"group_chat_leave_subscribe"},name:"useGroupsCometChatLeaveSubscription",operationKind:"subscription",text:null,providedVariables:g}}}();e.exports=a}),null);
__d("useGroupsCometChatsGetCMFolderForLightspeed_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGroupsCometChatsGetCMFolderForLightspeed_group",selections:[{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("useGroupsCometMarkCMOffboardingContentAsSeenMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7257989244242676"}),null);
__d("useGroupsCometMarkCMOffboardingContentAsSeenMutation.graphql",["useGroupsCometMarkCMOffboardingContentAsSeenMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_cm_offboarding_content",plural:!1,selections:[d],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useGroupsCometMarkCMOffboardingContentAsSeenMutation",selections:[{alias:null,args:c,concreteType:"Group",kind:"LinkedField",name:"mark_cm_offboarding_content_as_seen",plural:!1,selections:[e],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useGroupsCometMarkCMOffboardingContentAsSeenMutation",selections:[{alias:null,args:c,concreteType:"Group",kind:"LinkedField",name:"mark_cm_offboarding_content_as_seen",plural:!1,selections:[e,d],storageKey:null}]},params:{id:b("useGroupsCometMarkCMOffboardingContentAsSeenMutation_facebookRelayOperation"),metadata:{},name:"useGroupsCometMarkCMOffboardingContentAsSeenMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useGroupsCometOnClickJoinChat_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGroupsCometOnClickJoinChat_group",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_request_to_participate_in_forum",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_forum_participant_experience",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_cm_offboarding_banner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_follow_forum_and_join_chat_interstitial",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_chat_in_forum",plural:!1,selections:a,storageKey:null}],type:"Group",abstractKey:null}}();e.exports=a}),null);
__d("useGroupsCometOnClickJoinChat_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGroupsCometOnClickJoinChat_thread",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"if_viewer_can_see_join_interstitial",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_thread_full",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_taken_down",storageKey:null}],type:"MessengerGlobalFBGroupChat",abstractKey:null}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"};e.exports=a}),null);
__d("useGroupsCometOnClickOpenChatQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8699409366796431"}),null);
__d("useGroupsCometOnClickOpenChatQuery.graphql",["useGroupsCometOnClickOpenChatQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"threadID"}],c=[{kind:"Variable",name:"id",variableName:"threadID"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useGroupsCometOnClickOpenChatQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"c4g_thread",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerViewerFBGroupChat",kind:"LinkedField",name:"if_viewer_can_see_blocked_users",plural:!1,selections:[d],storageKey:null}],type:"MessengerViewerFBGroupChat",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useGroupsCometOnClickOpenChatQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"c4g_thread",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerViewerFBGroupChat",kind:"LinkedField",name:"if_viewer_can_see_blocked_users",plural:!1,selections:[d,e],storageKey:null}],type:"MessengerViewerFBGroupChat",abstractKey:null},e],storageKey:null}]},params:{id:b("useGroupsCometOnClickOpenChatQuery_facebookRelayOperation"),metadata:{},name:"useGroupsCometOnClickOpenChatQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useGroupsCometOnClickOpenChat_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGroupsCometOnClickOpenChat_group",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"id"},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_community_messaging",storageKey:null},{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"community",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCommunity",kind:"LinkedField",name:"if_viewer_can_see_admod_chat",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"admod_only_chat",plural:!1,selections:[a],storageKey:null},{alias:"open_admod_chat_nux",args:[{kind:"Literal",name:"nux_id",value:10032}],concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useNuxOnce_nux"}],storageKey:"nux(nux_id:10032)"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_cm_offboarding_content",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Group",abstractKey:null}}();e.exports=a}),null);
__d("useGroupsCometOnClickOpenChat_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider"}],kind:"Fragment",metadata:null,name:"useGroupsCometOnClickOpenChat_thread",selections:[{kind:"InlineFragment",selections:[{condition:"__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"MessengerViewerFBGroupChat",kind:"LinkedField",name:"if_viewer_can_see_blocked_users",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"is_taken_down",storageKey:null}],type:"MessengerViewerFBGroupChat",abstractKey:null}],type:"MessengerFBGroupChat",abstractKey:"__isMessengerFBGroupChat"};e.exports=a}),null);
__d("GroupsCometEntityMenuHomeServiceNavItem_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometEntityMenuHomeServiceNavItem_group",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometGlobalPanelGroupSnippet_group"},{args:null,kind:"FragmentSpread",name:"useGroupsCometEntityMenuServiceNavClickLogger_group"},{args:null,kind:"FragmentSpread",name:"useIdOrVanityRouteBuilder_group"}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("useGroupsCometCallActiveParticipantsChangeSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5852683844791317"}),null);
__d("useGroupsCometCallActiveParticipantsChangeSubscription.graphql",["useGroupsCometCallActiveParticipantsChangeSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useGroupsCometCallActiveParticipantsChangeSubscription",selections:[{alias:null,args:c,concreteType:"MessengerCallActiveParticipantsChangeSubscribeResponsePayload",kind:"LinkedField",name:"messenger_call_active_participants_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"link",plural:!1,selections:[{kind:"RequiredField",field:d,action:"THROW",path:"messenger_call_active_participants_change_subscribe.link.id"},{args:null,kind:"FragmentSpread",name:"GroupsCometEntityMenuAudioChannel_channel"},{args:null,kind:"FragmentSpread",name:"useGroupHasActiveAudioChannel_link"}],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useGroupsCometCallActiveParticipantsChangeSubscription",selections:[{alias:null,args:c,concreteType:"MessengerCallActiveParticipantsChangeSubscribeResponsePayload",kind:"LinkedField",name:"messenger_call_active_participants_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"link",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"active_call_participant_count",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[d,{alias:null,args:null,concreteType:"GroupPrivacyInfo",kind:"LinkedField",name:"privacy_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unseen_in_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("useGroupsCometCallActiveParticipantsChangeSubscription_facebookRelayOperation"),metadata:{subscriptionName:"messenger_call_active_participants_change_subscribe"},name:"useGroupsCometCallActiveParticipantsChangeSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("useGroupsCometEntityMenuServiceNavClickLogger_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGroupsCometEntityMenuServiceNavClickLogger_group",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("AppMessengerFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M10 2a7.72 7.72 0 0 0-8 7.76 7.593 7.593 0 0 0 2.512 5.74.637.637 0 0 1 .215.456l.044 1.423a.64.64 0 0 0 .9.566l1.588-.7a.634.634 0 0 1 .427-.032A8.716 8.716 0 0 0 10 17.52 7.764 7.764 0 1 0 10 2zm4.937 5.915-2.415 3.831a1.234 1.234 0 0 1-1.783.329l-1.921-1.441a.494.494 0 0 0-.594 0L5.63 12.605a.391.391 0 0 1-.567-.52l2.415-3.831a1.234 1.234 0 0 1 1.783-.329l1.921 1.441a.494.494 0 0 0 .594 0L14.37 7.4a.391.391 0 0 1 .567.515z",fillRule:"evenodd"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("GroupsCometChatsBlockedUsersInChatWarningViewerThreadDialog.entrypoint",["GroupsCometChatsBlockedUsersInChatWarningViewerThreadDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{myQueryReference:{options:{fetchPolicy:"network-only"},parameters:c("GroupsCometChatsBlockedUsersInChatWarningViewerThreadDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatsBlockedUsersInChatWarningViewerThreadDialog.react").__setRef("GroupsCometChatsBlockedUsersInChatWarningViewerThreadDialog.entrypoint")};g["default"]=a}),98);
__d("CommunityMessagingChatDisabledDialogStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={communityStandardsButtonText:h._("__JHASH__4IzJQ2_kQfX__JHASH__"),detailsButtonCometText:h._("__JHASH__ydPPlOEMfQ5__JHASH__"),detailsButtonMobileText:h._("__JHASH__Q5PC4S1tV7x__JHASH__"),dialogDescription:h._("__JHASH__8M7iwprITV7__JHASH__"),dialogTitle:h._("__JHASH__u_WXqUVMrEW__JHASH__"),leaveButtonText:h._("__JHASH__9HyMMQoVgRH__JHASH__"),removedChatName:h._("__JHASH__FkzH5NIP2JW__JHASH__")};b=a;g["default"]=b}),98);
__d("GroupsCometChatsListCellDisabledChatBody.react",["CommunityMessagingChatDisabledDialogStrings","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("CommunityMessagingChatDisabledDialogStrings").detailsButtonCometText;return h.jsx("span",{style:{fontStyle:"italic"},children:h.jsx(c("TetraText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometChatsListCellUnjoinedChatBody.react",["fbt","CometRelay","FBLogger","GroupsCometChatsListCellDisabledChatBody.react","GroupsCometChatsListCellUnjoinedChatBody_thread.graphql","TetraText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){var e,f=a.isEntityMenu;f=f===void 0?!1:f;a=a.thread$key;a=d("CometRelay").useFragment(i!==void 0?i:i=b("GroupsCometChatsListCellUnjoinedChatBody_thread.graphql"),a);var g=a.associated_object,k=a.direct_invite,l=a.group_hashtag,m=a.is_taken_down,n=a.is_thread_full,o=a.last_message_snippet;a=a.shared_by;a=(a=a==null?void 0:a.edges.map(function(a){return(a=a.node)==null?void 0:a.name}).filter(Boolean))!=null?a:[];var p=(g==null?void 0:g.if_viewer_can_see_rooms_and_chats_with_hashtag)!=null;m=m===!0;e=(g==null?void 0:(e=g.community)==null?void 0:e.if_viewer_can_see_chat_full_experience_v2)!==null;if(m)return j.jsx(c("GroupsCometChatsListCellDisabledChatBody.react"),{});if(k!=null&&k.invited_by_message!=null)return j.jsx(c("TetraText.react"),{color:f?"highlight":"primary",numberOfLines:1,type:f?"meta4":"meta1",children:k.invited_by_message});if(p){c("FBLogger")("if_viewer_can_see_rooms_and_chats_with_hashtag").info("GroupsCometChatsListCellUnjoinedChatBody use hashtags. Group id is %s. group_hashtag is %s",g.id,l==null?void 0:l.name);return j.jsx(c("TetraText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:l==null?void 0:l.name})}m=h._("__JHASH__v5GjYT96qXb__JHASH__",[h._param("sugegstorName",a[0])]);f=e&&n===!0;k=h._("__JHASH__HHrFCFWOuO0__JHASH__");p=f?k:a.length>0?m:o;return j.jsx("div",{className:"x78zum5",children:j.jsx("span",{className:"xeuugli x150jy0e",children:j.jsx(c("TetraText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:p})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometOpenAdmodChatDialog.entrypoint",["GroupsCometOpenAdmodChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.groupID;return{queries:{myQueryReference:{parameters:c("GroupsCometOpenAdmodChatDialogQuery$Parameters"),variables:{groupID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometOpenAdmodChatDialog.react").__setRef("GroupsCometOpenAdmodChatDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometOpenAdmodChatDialogFbts",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__H7M23UhRKbc__JHASH__");g.OpenAdmodChatDialogTitle=a}),98);
__d("GroupsCometFollowGroupAndJoinChatDialog.entrypoint",["GroupsCometFollowGroupAndJoinChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.threadID;return{queries:{queryReference:{parameters:c("GroupsCometFollowGroupAndJoinChatDialogQuery$Parameters"),variables:{groupID:b,threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometFollowGroupAndJoinChatDialog.react").__setRef("GroupsCometFollowGroupAndJoinChatDialog.entrypoint")};g["default"]=a}),98);
__d("useGroupsCometFollowGroupAndJoinChatDialog",["CometCardedDialogLoadingStateLegacy.react","GroupsCometFollowGroupAndJoinChatDialog.entrypoint","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.groupID;a=a.threadID;return c("useCometEntryPointDialog")(c("GroupsCometFollowGroupAndJoinChatDialog.entrypoint"),{groupID:b,threadID:a},void 0,function(a){return h.jsx(c("CometCardedDialogLoadingStateLegacy.react"),{onClose:a,withCloseButton:!0})})}g["default"]=a}),98);
__d("useGroupsCometChatDeleteSubscription",["CometRelay","react","useGroupsCometChatDeleteSubscription.graphql","useIsLoggedOut"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect,j=h!==void 0?h:h=b("useGroupsCometChatDeleteSubscription.graphql"),k=function(a,b,c){return d("CometRelay").requestSubscription(a,{onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:c&&c.onNext,subscription:j,updater:function(a){var b=a.getRootField("group_chat_delete_subscribe");if(b==null)return;b=b.getValue("delete_thread_id");if(b==null||typeof b!=="string")return;var c=a.get(b);if(c==null)return;a["delete"](b)},variables:b})};function a(a){var b=d("CometRelay").useRelayEnvironment(),e=c("useIsLoggedOut")();i(function(){if(e)return;var c=k(b,{input:{thread_id:a}});return function(){c.dispose()}},[b,a,e])}g["default"]=a}),98);
__d("useGroupsCometChatDirectInviteSubscription",["CometRelay","react","useGroupsCometChatDirectInviteSubscription.graphql","useIsLoggedOut"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect,j=h!==void 0?h:h=b("useGroupsCometChatDirectInviteSubscription.graphql"),k=function(a,b,c){return d("CometRelay").requestSubscription(a,{onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:c&&c.onNext,subscription:j,variables:b})};function a(a){var b=d("CometRelay").useRelayEnvironment(),e=c("useIsLoggedOut")();i(function(){if(e)return;var c=k(b,{input:{thread_id:a}});return function(){c.dispose()}},[b,a,e])}g["default"]=a}),98);
__d("useGroupsCometChatEditSubscription",["CometRelay","react","useGroupsCometChatEditSubscription.graphql","useIsLoggedOut"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect,j=h!==void 0?h:h=b("useGroupsCometChatEditSubscription.graphql"),k=function(a,b,c){return d("CometRelay").requestSubscription(a,{onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:c&&c.onNext,subscription:j,variables:b})};function a(a){var b=d("CometRelay").useRelayEnvironment(),e=c("useIsLoggedOut")();i(function(){if(e)return;if(a==null)return;var c=k(b,{input:{thread_id:a}});return function(){c.dispose()}},[b,a,e])}g["default"]=a}),98);
__d("useGroupsCometChatJoinSubscription",["CometRelay","react","useGroupsCometChatJoinSubscription.graphql","useIsLoggedOut"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect,j=h!==void 0?h:h=b("useGroupsCometChatJoinSubscription.graphql"),k=function(a,b,c){return d("CometRelay").requestSubscription(a,{onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:c&&c.onNext,subscription:j,variables:b})};function a(a,b){var e=d("CometRelay").useRelayEnvironment(),f=c("useIsLoggedOut")();i(function(){if(f)return;if(b==null||a==null)return;var c=k(e,{input:{group_id:a,thread_id:b}});return function(){c.dispose()}},[e,a,b,f])}g["default"]=a}),98);
__d("useGroupsCometChatLeaveSubscription",["CometRelay","react","useGroupsCometChatLeaveSubscription.graphql","useIsLoggedOut"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect,j=h!==void 0?h:h=b("useGroupsCometChatLeaveSubscription.graphql"),k=function(a,b,c){return d("CometRelay").requestSubscription(a,{onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:c&&c.onNext,subscription:j,variables:b})};function a(a,b){var e=d("CometRelay").useRelayEnvironment(),f=c("useIsLoggedOut")();i(function(){if(f)return;if(b==null||a==null)return;var c=k(e,{input:{group_id:a,thread_id:b}});return function(){c.dispose()}},[e,a,b,f])}g["default"]=a}),98);
__d("useGroupsCometChatsGetCMFolderForLightspeed",["CometRelay","I64","useGroupsCometChatsGetCMFolderForLightspeed_group.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGroupsCometChatsGetCMFolderForLightspeed_group.graphql"),a);return d("I64").of_string_opt((a=a==null?void 0:(a=a.community)==null?void 0:a.id)!=null?a:"")}g["default"]=a}),98);
__d("useGroupsCometNavigateToThreadUrl",["FBLogger","MWInboxCommunityThreadsRouteBuilder.bs","XGroupsC4GThreadViewControllerRouteBuilder","isTruthy","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("useCometRouterDispatcher")();if(f==null)throw c("FBLogger")("chats_in_groups_fb").mustfixThrow("Cannot dispatch thread view route");return function(g){var h;if(c("isTruthy")(e)){if(b==null)throw c("FBLogger")("chats_in_groups_fb").mustfixThrow("FolderID is needed to navigate to messenger.com");h=d("MWInboxCommunityThreadsRouteBuilder.bs").routeBuilderModule.buildURL({folder_id:b,thread_key:g})}else h=c("XGroupsC4GThreadViewControllerRouteBuilder").buildURL({idorvanity:a,thread_id:g});f.go(h,{})}}g["default"]=a}),98);
__d("useGroupsCometGoToThreadView",["FBLogger","XCometGroupChatsThreadViewControllerRouteBuilder","isTruthy","qex","requireDeferred","useCometRouterDispatcher","useGroupsCometNavigateToThreadUrl","useMWChatOpenTabForGroup","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("GroupsCometChatsEngagementLogger").__setRef("useGroupsCometGoToThreadView"),i=c("qex")._("811")===!0;function a(a){var b=a.canViewerSeeCommunityMessaging,d=a.categoryID,e=a.folderID,f=a.groupID,g=a.shouldGoToMessenger,j=a.shouldOpenChatTab,k=a.source,l=a.surface,m=c("useCometRouterDispatcher")();a=c("useMWChatOpenTabForGroup")("groupChats");var n=a[0];a[1];var o=c("useGroupsCometNavigateToThreadUrl")(f,e,g);a=c("useTopMostRouteCometEntityKey")();var p=(a==null?void 0:a.entity_type)==="groups_tab";return function(a){h.onReady(function(b){b.log({action:"tap",category_id:(b=d)!=null?b:void 0,client_extras:{is_joined:"true"},event:"thread_open",group_id:f,source:k,surface:l,thread_id:a})});if(b&&!c("isTruthy")(g)){if(i&&!c("isTruthy")(j)&&!p)if(m){m.go(c("XCometGroupChatsThreadViewControllerRouteBuilder").buildURL({idorvanity:f,thread_id:a}),{});return}else c("FBLogger")("chats_in_groups_fb").mustfix("Cannot dispatch thread view route");n(a)}else o(a)}}g["default"]=a}),98);
__d("useGroupsCometJoinChatEntryPointDialog",["CometCardedDialogLoadingStateLegacy.react","GroupsCometJoinChatDialog.entrypoint","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entryPoint,d=a.groupID;a=a.threadID;return c("useCometEntryPointDialog")(c("GroupsCometJoinChatDialog.entrypoint"),{entryPoint:b,groupID:d,threadID:a},void 0,function(a){return h.jsx(c("CometCardedDialogLoadingStateLegacy.react"),{onClose:a,withCloseButton:!0})})}g["default"]=a}),98);
__d("useGroupsCometMarkCMOffboardingContentAsSeenMutation",["CometRelay","useGroupsCometMarkCMOffboardingContentAsSeenMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useGroupsCometMarkCMOffboardingContentAsSeenMutation.graphql");function a(){var a=d("CometRelay").useMutation(i),b=a[0];a=a[1];return[function(a,c){return b({onCompleted:c,variables:{input:a}})},a]}g["default"]=a}),98);
__d("useGroupsCometOnClickJoinChat",["fbt","CometRelay","FBLogger","qex","qpl","requireDeferred","useCometAlertDialog","useGroupsCometCMDisabledChatEntryPointDialog","useGroupsCometCMOffboardingEntryPointDialog","useGroupsCometCancelForumParticipationRequestEntryPointDialog","useGroupsCometChatsQPLLogger","useGroupsCometFollowGroupAndJoinChatDialog","useGroupsCometJoinChatEntryPointDialog","useGroupsCometOnClickJoinChat_group.graphql","useGroupsCometOnClickJoinChat_thread.graphql","useGroupsCometRequestToPartcipateFromChatEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=c("requireDeferred")("GroupsCometChatsEngagementLogger").__setRef("useGroupsCometOnClickJoinChat");function a(a){var e=a.categoryID,f=a.entryPoint,g=a.event,l=a.extras,m=a.group$key,n=a.invited,o=a.isCommunityChats,p=a.parentSurface,q=a.shouldOpenChatTab,r=q===void 0?!1:q,s=a.source,t=a.surface;q=a.thread$key;var u=a.threadID,v=d("CometRelay").useFragment(i!==void 0?i:i=b("useGroupsCometOnClickJoinChat_group.graphql"),m),w=d("CometRelay").useFragment(j!==void 0?j:j=b("useGroupsCometOnClickJoinChat_thread.graphql"),q),x=c("useGroupsCometChatsQPLLogger")({quickLogEvent:c("qpl")._(95036822,"104")}),y=w&&w.if_viewer_can_see_join_interstitial!=null,z=w.is_taken_down===!0,A=v.if_viewer_can_chat_in_forum!=null;a=c("useGroupsCometRequestToPartcipateFromChatEntryPointDialog")({groupID:v.id});var B=a[0];m=c("useGroupsCometCancelForumParticipationRequestEntryPointDialog")({groupID:v.id});var C=m[0];q=c("useGroupsCometJoinChatEntryPointDialog")({entryPoint:f,groupID:v.id,threadID:u});var D=q[0];a=c("useGroupsCometFollowGroupAndJoinChatDialog")({groupID:v.id,threadID:u});var E=a[0];m=c("useGroupsCometCMOffboardingEntryPointDialog")({groupID:v.id});var F=m[0];q=c("useGroupsCometCMDisabledChatEntryPointDialog")({threadID:u});var G=q[0],H=c("useCometAlertDialog")(),I=function(){k.onReady(function(a){a.log({action:"impression",category_id:(a=e)!=null?a:void 0,group_id:v.id,source:"chat_join_error",surface:t,thread_id:u})}),H({body:h._("__JHASH__2HuZyKzstPs__JHASH__"),title:h._("__JHASH__dz_x9ih27mu__JHASH__")},function(){}),c("FBLogger")("community_messaging").warn("Failed to join chat because it was full.")};return function(){x.start();x.addPoint({action:"tap",group_id:v.id,source:"chat_row_join_button",surface:t});k.onReady(function(a){a.log({action:"tap",category_id:(a=e)!=null?a:void 0,client_extras:babelHelpers["extends"]({},l,{is_joined:"false"}),event:(a=g)!=null?a:"thread_join",group_id:v.id,source:(a=s)!=null?a:"chat_row_join_button",surface:t,thread_id:u})});if(v.if_viewer_can_see_cm_offboarding_banner!=null)F({});else if(z)G({threadID:u});else if(w.is_thread_full===!0)I();else if(!A&&v.if_viewer_can_see_pending_forum_participant_experience!=null)C({surface:t});else if(!A&&v.if_viewer_can_request_to_participate_in_forum!=null)B({surface:t,threadID:u});else if(v.if_viewer_can_see_follow_forum_and_join_chat_interstitial!=null)E({surface:t});else if(y){var a,b=x.getInstanceKey();a=(a=c("qex")._("873"))!=null?a:!1;D({entryPoint:f,entrySurface:t,invited:n,isCommunityChats:o,parentSurface:p,qplInstanceKey:b,refetchGroupMallAfterMutation:!0,shouldAutojoin:a,shouldOpenChatTab:r,surface:t})}else throw c("FBLogger")("chats_in_groups_fb").mustfixThrow("viewer is not allowed to join chat")}}g["default"]=a}),98);
__d("useGroupsCometOpenAdmodChatEntryPointDialog",["CometCardedDialogLoadingStateLegacy.react","GroupsCometOpenAdmodChatDialog.entrypoint","GroupsCometOpenAdmodChatDialogFbts","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.groupID;return c("useCometEntryPointDialog")(c("GroupsCometOpenAdmodChatDialog.entrypoint"),{groupID:a},void 0,function(a){return h.jsx(c("CometCardedDialogLoadingStateLegacy.react"),{onClose:a,title:d("GroupsCometOpenAdmodChatDialogFbts").OpenAdmodChatDialogTitle,withCloseButton:!0})})}g["default"]=a}),98);
__d("useGroupsCometShowBlockedUsersInChatWarningViewerThreadEntrypointDialog",["CometCardedDialogLoadingStateLegacy.react","GroupsCometChatsBlockedUsersInChatWarningViewerThreadDialog.entrypoint","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.threadID;return c("useCometEntryPointDialog")(c("GroupsCometChatsBlockedUsersInChatWarningViewerThreadDialog.entrypoint"),{threadID:a},void 0,function(a){return h.jsx(c("CometCardedDialogLoadingStateLegacy.react"),{onClose:a,withCloseButton:!0})})}g["default"]=a}),98);
__d("useGroupsCometOnClickOpenChat",["CometRelay","promiseDone","qex","react","useGroupsCometCMDisabledChatEntryPointDialog","useGroupsCometCMOffboardingEntryPointDialog","useGroupsCometGoToThreadView","useGroupsCometMarkCMOffboardingContentAsSeenMutation","useGroupsCometOnClickOpenChatQuery.graphql","useGroupsCometOnClickOpenChat_group.graphql","useGroupsCometOnClickOpenChat_thread.graphql","useGroupsCometOpenAdmodChatEntryPointDialog","useGroupsCometShowBlockedUsersInChatWarningViewerThreadEntrypointDialog","useNuxOnce"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("react").useRef,l=h!==void 0?h:h=b("useGroupsCometOnClickOpenChatQuery.graphql");function a(a){var e=a.categoryID,f=a.group$key,g=a.shouldOpenChatTab;g=g===void 0?!1:g;var h=a.surface,m=a.thread$key,n=a.threadID,o=d("CometRelay").useFragment(i!==void 0?i:i=b("useGroupsCometOnClickOpenChat_group.graphql"),f),p=d("CometRelay").useFragment(j!==void 0?j:j=b("useGroupsCometOnClickOpenChat_thread.graphql"),m),q=c("useGroupsCometGoToThreadView")({canViewerSeeCommunityMessaging:Boolean(o.can_viewer_see_community_messaging),categoryID:e,groupID:o.id,shouldOpenChatTab:g,source:"chat_row",surface:h});m=c("useNuxOnce")((a=o.community)==null?void 0:(f=a.if_viewer_can_see_admod_chat)==null?void 0:f.open_admod_chat_nux);var r=m[0],s=m[1],t=((e=o.community)==null?void 0:(g=e.if_viewer_can_see_admod_chat)==null?void 0:(a=g.admod_only_chat)==null?void 0:a.id)===n;f=c("useGroupsCometOpenAdmodChatEntryPointDialog")({groupID:o.id});var u=f[0],v=k(!1);m=c("useGroupsCometShowBlockedUsersInChatWarningViewerThreadEntrypointDialog")({threadID:n});var w=m[0];e=c("useGroupsCometCMOffboardingEntryPointDialog")({groupID:o.id});var x=e[0];g=c("useGroupsCometMarkCMOffboardingContentAsSeenMutation")();var y=g[0];a=c("useGroupsCometCMDisabledChatEntryPointDialog")({threadID:n});var z=a[0],A=function(){q(n)},B=function(){y({group_id:o.id},A)},C=p.is_taken_down===!0,D=function(){o.if_viewer_can_see_cm_offboarding_content!=null?x({},B):C?z({threadID:n}):t&&r&&!v.current?(u({onDismiss:s,surface:h,threadID:n}),v.current=!0):q(n)},E=d("CometRelay").useRelayEnvironment(),F=function(a){p!=null&&a!=null?w({groupID:o.id,onClose:function(){},onStayInChat:function(){D()}}):D()};return function(){o.can_viewer_see_community_messaging===!0?c("qex")._("690")?c("promiseDone")(d("CometRelay").fetchQuery(E,l,{threadID:n}).toPromise().then(function(a){F(a==null?void 0:(a=a.c4g_thread)==null?void 0:a.if_viewer_can_see_blocked_users)})):F(p.if_viewer_can_see_blocked_users):q(n)}}g["default"]=a}),98);
__d("GroupsCometEntityMenuEmbeddedInGroupTabContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("AppMessengerOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:h.jsxs("g",{children:[h.jsx("path",{fillRule:"nonzero",d:"M97.237 212.031c.033 1.076 1.087 1.77 2.059 1.34l1.831-.807c1.04.285 1.955.436 2.873.436 5.645 0 10-4.227 10-9.778 0-5.54-4.345-9.722-10-9.722s-10 4.181-10 9.722c0 2.767 1.086 5.266 3.002 7.056l.153.14c.023.02.043.04.06.057l.023.024v1.532zm1.5-1.645c-.012-.429-.199-.724-.504-1.014l-.078-.072c-1.693-1.514-2.655-3.665-2.655-6.078 0-4.7 3.66-8.222 8.5-8.222s8.5 3.523 8.5 8.222c0 4.712-3.673 8.278-8.5 8.278-.767 0-1.556-.13-2.479-.384a1.489 1.489 0 0 0-.996.074l-1.788.789v-1.593z",transform:"translate(352 204.5)"}),h.jsx("path",{d:"m109.924 200.978-2.898 4.634a1.474 1.474 0 0 1-2.14.398l-2.305-1.743a.588.588 0 0 0-.712.002l-3.113 2.381c-.416.318-.958-.183-.68-.628l2.898-4.633a1.473 1.473 0 0 1 2.14-.398l2.304 1.742c.212.16.503.16.713-.002l3.113-2.38c.416-.319.958.183.68.627",transform:"translate(352 204.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("AppRoomsOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:h.jsxs("g",{fillRule:"nonzero",children:[h.jsx("path",{d:"M97.25 201.5h6a.75.75 0 1 0 0-1.5h-6a.75.75 0 1 0 0 1.5z",transform:"translate(354 207)"}),h.jsx("path",{d:"M99.5 197.75v6a.75.75 0 1 0 1.5 0v-6a.75.75 0 1 0-1.5 0z",transform:"translate(354 207)"}),h.jsx("path",{d:"M105.6 194H94.4a2.4 2.4 0 0 0-2.4 2.4v8.7a2.4 2.4 0 0 0 2.4 2.4h11.2a2.4 2.4 0 0 0 2.4-2.4v-8.7a2.4 2.4 0 0 0-2.4-2.4zm0 1.5a.9.9 0 0 1 .9.9v8.7a.9.9 0 0 1-.9.9H94.4a.9.9 0 0 1-.9-.9v-8.7a.9.9 0 0 1 .9-.9h11.2z",transform:"translate(354 207)"}),h.jsx("path",{d:"M106.5 199.042a.75.75 0 0 1 .301-.6l3.686-2.754c.642-.48 1.513.004 1.513.776v8.572c0 .772-.87 1.256-1.513.776l-3.686-2.754a.75.75 0 0 1-.301-.6v-3.416zm1.5 3.04 2.5 1.867v-6.398l-2.5 1.867v2.664z",transform:"translate(354 207)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CalendarOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:h.jsxs("g",{fillRule:"nonzero",transform:"translate(352.5 204.5)",children:[h.jsx("path",{d:"M109.068 213H97.932A3.941 3.941 0 0 1 94 209.069v-11.137A3.941 3.941 0 0 1 97.932 194h11.136a3.94 3.94 0 0 1 3.932 3.931v11.137a3.94 3.94 0 0 1-3.932 3.932zm0-1.5a2.44 2.44 0 0 0 2.432-2.431v-11.137a2.44 2.44 0 0 0-2.432-2.432H97.932a2.441 2.441 0 0 0-2.432 2.431v11.137a2.441 2.441 0 0 0 2.432 2.432h11.136z"}),h.jsx("path",{d:"M100 199h7a.75.75 0 1 0 0-1.5h-7a.75.75 0 1 0 0 1.5z"}),h.jsx("path",{d:"M94.75 201.958 112.459 201.958 112.459 200.458 94.75 200.458z"}),h.jsx("path",{d:"M94.791 207.5 112.5 207.5 112.5 206 94.791 206z"}),h.jsx("path",{d:"M106 201.25 106 212.5 107.5 212.5 107.5 201.25z"}),h.jsx("path",{d:"M99.5 201.25 99.5 212.5 101 212.5 101 201.25z"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("GemEffectsFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -350)",children:h.jsx("path",{d:"m465.746 351.916-1.187-.475-.475-1.187a.404.404 0 0 0-.751 0l-.475 1.187-1.187.475a.404.404 0 0 0 0 .751l1.187.475.475 1.187a.404.404 0 0 0 .75 0l.476-1.187 1.187-.475a.404.404 0 0 0 0-.75m-15.718 16.628-.648-.259-.259-.647a.22.22 0 0 0-.409 0l-.259.647-.647.26a.22.22 0 0 0 0 .409l.647.259.259.647a.22.22 0 0 0 .41 0l.258-.647.648-.26a.22.22 0 0 0 0-.409m-1.046-7.502a1 1 0 0 0-.707-.293h-1.755a.25.25 0 0 0-.177.427l8.48 8.48a.25.25 0 0 0 .427-.177v-1.755a.997.997 0 0 0-.293-.707l-5.975-5.975zm-2.462-1.793h1.755a1 1 0 0 0 .707-.293l5.975-5.975a1 1 0 0 0 .293-.707v-1.755a.25.25 0 0 0-.427-.176l-8.48 8.479a.25.25 0 0 0 .177.427m10.657-8.907a.25.25 0 0 0-.427.177v1.755a1 1 0 0 0 .293.707l5.975 5.975a.997.997 0 0 0 .707.293h1.755a.25.25 0 0 0 .177-.427l-8.48-8.48zm8.303 10.407h-1.755a1 1 0 0 0-.707.293l-5.975 5.975a1 1 0 0 0-.293.707v1.755c0 .222.27.334.427.176l8.48-8.479a.25.25 0 0 0-.177-.427m-4.248-1.457-4.525-4.525a1 1 0 0 0-1.414 0l-4.525 4.525a1 1 0 0 0 0 1.414l4.525 4.525a1 1 0 0 0 1.414 0l4.525-4.525a1 1 0 0 0 0-1.414"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("GemEffectsOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:h.jsx("path",{d:"M456.75 415.865v-1.804l5.31-5.31h1.805l-7.115 7.114zm-8.615-7.115h1.805l5.31 5.31v1.805l-7.115-7.115zm7.115-8.615v1.804l-5.31 5.311h-1.805l7.115-7.115zm.75 12.554L451.31 408l4.69-4.69 4.69 4.69-4.69 4.69zm7.865-5.439h-1.805l-5.31-5.31v-1.805l7.115 7.115zm-6.608-8.73a1.778 1.778 0 0 0-2.514 0l-8.223 8.224a1.778 1.778 0 0 0 0 2.512l8.224 8.223c.346.347.801.52 1.256.52.455 0 .91-.173 1.257-.52l8.223-8.223a1.778 1.778 0 0 0 0-2.512l-8.224-8.223zm4.414 2.147 1.187.475.475 1.187a.404.404 0 0 0 .75 0l.475-1.187 1.188-.475a.404.404 0 0 0 0-.75l-1.188-.476-.474-1.187a.404.404 0 0 0-.751 0l-.475 1.187-1.187.475a.404.404 0 0 0 0 .751m-11.643 15.878-.648-.259-.259-.647a.22.22 0 0 0-.409 0l-.259.647-.647.26a.22.22 0 0 0 0 .409l.647.259.259.647a.22.22 0 0 0 .41 0l.258-.647.648-.26a.22.22 0 0 0 0-.409"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LeafFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -350)",children:h.jsxs("g",{children:[h.jsx("path",{d:"M111.684 194.316a1.074 1.074 0 0 0-.961-.297c-5.836 1.104-13.374 3.389-16.152 8.004-1.156 1.922-1.377 4.075-.657 6.4.194.63.5 1.206.886 1.716l5.434-5.433.856-5.15a.75.75 0 0 1 1.48.246l-.513 3.08 4.663-4.662a.75.75 0 1 1 1.06 1.06l-7.84 7.841 3.574-.55a.75.75 0 1 1 .228 1.482l-5.596.862-2.285 2.285a5.55 5.55 0 0 0 1.716.886c.89.276 1.756.414 2.592.414a7.274 7.274 0 0 0 3.808-1.071c4.616-2.778 6.9-10.317 8.004-16.151a1.077 1.077 0 0 0-.297-.962",transform:"translate(354 156)"}),h.jsx("path",{d:"m96.3 208.64-4.08 4.08a.75.75 0 1 0 1.06 1.06l4.08-4.08c-.4-.304-.756-.66-1.06-1.06",transform:"translate(354 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LeafOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:h.jsxs("g",{fillRule:"nonzero",children:[h.jsx("path",{d:"m111.98 195.912-.074.38c-.964 4.924-2.42 9.145-4.385 12.106-2.548 3.838-5.883 5.435-9.91 4.188a5.614 5.614 0 0 1-3.698-3.697c-1.247-4.027.35-7.362 4.189-9.91 3.037-2.015 7.4-3.496 12.485-4.458a1.19 1.19 0 0 1 1.392 1.39zm-1.885.234c-10.635 2.149-16.611 6.285-14.749 12.3a4.114 4.114 0 0 0 2.709 2.708c6.014 1.862 10.15-4.115 12.3-14.749l.064-.324-.324.065z",transform:"translate(354 203.5)"}),h.jsx("path",{d:"m106.72 198.72-14.5 14.5a.75.75 0 1 0 1.06 1.06l14.5-14.5a.75.75 0 0 0-1.06-1.06z",transform:"translate(354 203.5)"}),h.jsx("path",{d:"m97.905 209.452 5.837-.898a.75.75 0 0 0-.228-1.482l-5.837.898a.75.75 0 1 0 .228 1.482zm3.768-3.761.896-5.39a.75.75 0 1 0-1.48-.246l-.895 5.39a.75.75 0 1 0 1.48.246z",transform:"translate(354 203.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MentorshipFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -350)",children:h.jsxs("g",{transform:"translate(352 159)",children:[h.jsx("path",{d:"M100 196.5a.93.93 0 0 0-.841.52L94.1 207.14a.94.94 0 0 0 .842 1.36h10.117a.94.94 0 0 0 .84-1.36l-5.058-10.12a.93.93 0 0 0-.841-.52m0 3.31 3.344 6.69h-6.688l3.344-6.69m.948-1.896h.003-.003"}),h.jsx("path",{d:"M106.5 193.5c-.417 0-.835.217-1.051.65l-6.323 12.65c-.391.78.177 1.7 1.05 1.7h12.647c.874 0 1.442-.92 1.052-1.7l-6.324-12.65a1.163 1.163 0 0 0-1.051-.65m0 3.02 4.989 9.98h-9.978l4.989-9.98m.739-1.476h.001-.001"}),h.jsx("path",{d:"M99.156 208.031 102.437 201.469 105.813 208z"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MentorshipOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:h.jsxs("g",{transform:"translate(352 207)",children:[h.jsx("path",{d:"M100 196.5a.93.93 0 0 0-.841.52L94.1 207.14a.94.94 0 0 0 .842 1.36h10.117a.94.94 0 0 0 .84-1.36l-5.058-10.12a.93.93 0 0 0-.841-.52m0 2.192 4.153 8.308h-8.306l4.153-8.308m.501-1.002h.002-.002"}),h.jsx("path",{d:"M106.5 193.5c-.417 0-.835.217-1.051.65l-6.323 12.65c-.391.78.177 1.7 1.05 1.7h12.647c.874 0 1.442-.92 1.052-1.7l-6.324-12.65a1.163 1.163 0 0 0-1.051-.65m0 1.902L112.298 207h-11.596l5.798-11.598m.291-.581h.002-.002"}),h.jsx("path",{d:"M99.156 208.031 102.437 201.469 105.813 208z"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("GroupsCometEntityMenuGroupServiceNavItem.react",["AppMessengerFilled20.svg.react","AppMessengerOutline20.svg.react","AppRoomsFilled20.svg.react","AppRoomsOutline20.svg.react","CalendarFilled20.svg.react","CalendarOutline20.svg.react","CometListCellStrict.react","GemEffectsFilled20.svg.react","GemEffectsOutline20.svg.react","GroupsCometEntityMenuEmbeddedContext","GroupsCometEntityMenuEmbeddedInGroupTabContext","LeafFilled20.svg.react","LeafOutline20.svg.react","MentorshipFilled20.svg.react","MentorshipOutline20.svg.react","NewsFeedHomeFilled20.svg.react","NewsFeedHomeOutline20.svg.react","SVGIcon","react","scrollTo"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k=function(a,b){switch(a){case"MENTORSHIP_APPLICATION":return b?d("SVGIcon").svgIcon(c("MentorshipFilled20.svg.react")):d("SVGIcon").svgIcon(c("MentorshipOutline20.svg.react"));case"EVENTS":return b?d("SVGIcon").svgIcon(c("CalendarFilled20.svg.react")):d("SVGIcon").svgIcon(c("CalendarOutline20.svg.react"));case"JOINABLE_VIDEO_CHATS":return b?d("SVGIcon").svgIcon(c("AppRoomsFilled20.svg.react")):d("SVGIcon").svgIcon(c("AppRoomsOutline20.svg.react"));case"CHATS":return b?d("SVGIcon").svgIcon(c("AppMessengerFilled20.svg.react")):d("SVGIcon").svgIcon(c("AppMessengerOutline20.svg.react"));case"CONTRIBUTIONS":return b?d("SVGIcon").svgIcon(c("GemEffectsFilled20.svg.react")):d("SVGIcon").svgIcon(c("GemEffectsOutline20.svg.react"));case"CLIMATE_PLEDGES":return b?d("SVGIcon").svgIcon(c("LeafFilled20.svg.react")):d("SVGIcon").svgIcon(c("LeafOutline20.svg.react"));default:return b?d("SVGIcon").svgIcon(c("NewsFeedHomeFilled20.svg.react")):d("SVGIcon").svgIcon(c("NewsFeedHomeOutline20.svg.react"))}};function a(a){var b=a.addOnEnd,d=a.isSelected,e=a.meta,f=a.onPress,g=a.title,l=a.type,m=a.url,n=i(c("GroupsCometEntityMenuEmbeddedInGroupTabContext")),o=i(c("GroupsCometEntityMenuEmbeddedContext"));return j(function(){return h.jsx(c("CometListCellStrict.react"),{addOnEnd:b,addOnStart:{color:d?"highlight":void 0,icon:k(l,d),size:20,type:"icon"},addOnStartVerticalAlign:"center",headline:g,headlineColor:d?"highlight":void 0,level:4,linkProps:{onNavigate:function(){o||c("scrollTo")({behavior:"smooth",top:0})},replace:!1,routeTarget:n?"content":"self",url:m},meta:e,metaColor:"highlight",onPress:function(){return f(l)},selected:d,selectedBackground:d?"highlight":"wash"})},[b,e,n,o,d,f,g,l,m])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useGroupsCometEntityMenuServiceNavClickLogger",["CometRelay","promiseDone","react","requireDeferred","useGroupsCometEntityMenuServiceNavClickLogger_group.graphql","useMinifiedProductAttribution","usePreviousSurfaceForGroupLogging"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useCallback,j=e.useRef,k=c("requireDeferred")("CometGroupsPathingFunnelLogger").__setRef("useGroupsCometEntityMenuServiceNavClickLogger"),l=c("requireDeferred")("GroupClickActionFalcoEvent").__setRef("useGroupsCometEntityMenuServiceNavClickLogger"),m=c("requireDeferred")("GroupNavMenuActionFalcoEvent").__setRef("useGroupsCometEntityMenuServiceNavClickLogger");function a(a){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("useGroupsCometEntityMenuServiceNavClickLogger_group.graphql"),a),f=c("useMinifiedProductAttribution")();a=c("usePreviousSurfaceForGroupLogging")();var g=j(a);return i(function(a){var b="group_leftnav_"+(a||"unknown").toLowerCase().split("_").join("");c("promiseDone")(l.load().then(function(c){c.log(function(){var a;return{attribution_id:"[]",attribution_id_v2:(a=f)!=null?a:"[]",current_surface:"group_mall",group_id:e.id,previous_surface:g.current,unit_name:b}});return m.load().then(function(b){b.log(function(){return{action:"click",component:a,current_surface:"group_nav_menu",group_id:e.id}})})}));k.onReady(function(b){b.addSharedPoint("HOME_PLINK_CLICK",{content_view_type:a})})},[e.id,f])}g["default"]=a}),98);
__d("GroupsCometEntityMenuHomeServiceNavItem.react",["CometRelay","GroupsCometEntityMenuGroupServiceNavItem.react","GroupsCometEntityMenuHomeServiceNavItem_group.graphql","GroupsCometEntityMenuUtil","TetraText.react","XCometGroupDiscussionControllerRouteBuilder","cr:4866","react","useCometGlobalPanelGroupSnippet","useGroupsCometEntityMenuServiceNavClickLogger","useIdOrVanityRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j="home";function a(a){var e,f=a.group$key;a=a.isSelected;f=d("CometRelay").useFragment(h!==void 0?h:h=b("GroupsCometEntityMenuHomeServiceNavItem_group.graphql"),f);var g=c("useCometGlobalPanelGroupSnippet")(f),k=g.hasUnreadPosts;g=g.snippet;var l=c("useIdOrVanityRouteBuilder")(c("XCometGroupDiscussionControllerRouteBuilder"),f);l=(e=(e=f.url)!=null?e:l)!=null?e:"";e=c("useGroupsCometEntityMenuServiceNavClickLogger")(f);return i.jsx(c("GroupsCometEntityMenuGroupServiceNavItem.react"),{addOnEnd:b("cr:4866")&&k?{addOn:i.jsx(b("cr:4866"),{isProfileBadge:!0,size:12}),type:"body"}:null,isSelected:a,meta:b("cr:4866")&&k&&g!=null?i.jsx(c("TetraText.react"),{color:"highlight",numberOfLines:1,type:"meta4",children:g}):null,onPress:e,title:d("GroupsCometEntityMenuUtil").HOME_NAV_TITLE,type:j,url:l},j)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useGroupsCometCallActiveParticipantsChangeSubscription.react",["CometRelay","react","useGroupsCometCallActiveParticipantsChangeSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a){var c=i(function(){return{subscription:h!==void 0?h:h=b("useGroupsCometCallActiveParticipantsChangeSubscription.graphql"),variables:{input:{group_id:a}}}},[a]);d("CometRelay").useSubscription(c)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSInsertOptimisticAttachment",["LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[0],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq([0,0],[0,0])&&b.messageId===a[2]&&b.attachmentFbid===a[4]&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[0],messageId:a[2],attachmentFbid:a[4],timestampMs:a[1],offlineAttachmentId:a[3],attachmentType:a[5],filename:a[6],attributionAppId:a[7],hasMedia:a[8],isSharable:!1,hasXma:a[9],authorityLevel:[0,20]})},function(d){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[0],a[2],a[1],e,!1,c.i64.eq(a[5],[0,1]))}])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,b.primarySortKey,b.secondarySortKey==null?[-1,4294967295]:b.secondarySortKey],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d)})},function(d){return b.sb(b.ftr(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?[-1,4294967295]:d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d)})},function(d){return b.sb(b.ftr(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?[-1,4294967295]:d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d)})},function(d){return c[32]=b.i64.or_([0,2],b.i64.or_(!c[3]&&!a[3]?[0,4]:[0,0],b.i64.or_(c[3]?[0,0]:[0,1],b.i64.or_(b.i64.eq(c[5],[0,60])||b.i64.eq(c[5],[0,80])?[0,1048576]:[0,0],b.i64.neq(c[6],[85970,924785702])&&b.i64.neq(c[6],[85970,1004785694])&&b.i64.neq(c[6],[85970,1044785690])?[0,0]:[0,2097152])))),c[14]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[12],[0,1]))))),c[33]=b.i64.eq(b.i64.and_(c[35],[0,8]),[0,8]),c[34]=c[33]?b.i64.or_(c[32],[0,16]):c[32],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],[-1,4294967294]):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[30],[0,1]))))),c[33]=b.i64.eq(b.i64.and_(c[35],[0,8]),[0,8]),c[34]=c[33]?b.i64.or_(c[22],[0,16]):c[22],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],[-1,4294967294]):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),f!==f?c.resolve(d[1]=f):c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[1]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.seq([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?d[9]=[-1,4294967295]:(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],[0,1]),d[13]=c.i64.gt(d[0],d[11])?d[0]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,[0,40])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:[0,0],threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:[0,0],lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:[0,0],authorityLevel:[0,40]})},function(b){return c.i64.eq(a[2],[0,13])||c.i64.eq(a[2],[0,7])||c.i64.eq(a[2],[0,1])?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:[0,0],deliveredWatermarkTimestampMs:[0,0],authorityLevel:[0,20],isModerator:!1})}]):c.resolve()},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.seq([function(a){return c.localizeV2Async([0,2285622730],f).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async([0,1919524925],f).then(function(a){return d[17]=a})},function(a){return c.sp(b("LSIssueNewError"),f,[0,1545093],d[16],d[17],f)}]):c.resolve()}]):(e.item,c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f})}))})}])},function(e){return c.seq([function(b){return c.islc(c.ftr(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,[0,80])||c.i64.eq(b.authorityLevel,[0,60])||c.i64.eq(b.authorityLevel,[0,40]))}),0,c.i64.to_float([0,1])).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[33]=c.i64.of_float(Date.now()),d[9]=d[33]):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==f&&(c.i64.eq(a[9],[0,1])||c.i64.eq(a[10],[0,1]))?c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(i=[a[8],f,f,[0,0],f,f,f,f,f,f,f,f,f,f,f,f],d[33]=i[0],d[34]=i[1],d[35]=i[2],d[36]=i[3],d[37]=i[4],d[38]=i[5],d[39]=i[6],d[40]=i[7],d[41]=i[8],d[42]=i[9],d[43]=i[10],d[44]=i[11],d[45]=i[12],d[46]=i[13],d[47]=i[14],d[48]=i[15],i):(h=e.item,c.seq([function(e){return d[54]=h.senderId,d[53]=h.stickerId,c.i64.neq(d[53],f)?(e=[d[53],[0,4]],d[56]=e[0],d[57]=e[1],e):(e=[f,f],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],e,d[55]=h.replyType==null?[0,0]:h.replyType,c.seq([function(e){return c.sp(b("LSGetLocalizedReplySnippet"),a[1],a[0],d[54],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(b){return d[52]=c.i64.eq(a[10],[0,1])?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],[0,1],d[52],d[54],h.text,d[50],d[51],f,f,f,f,f,f,d[55]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===f||c.i64.eq(a[9],[0,0])||c.i64.eq(a[10],[0,0])?(e=[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],[0,1],f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[f,f,f,f],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=[0,3]:d[32]=d[13],c.i64.eq([0,20],[0,20])?c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[9],secondarySortKey:d[0],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:[0,1],sendStatusV2:[0,1],authorityLevel:[0,20],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.seq([function(a){return c.db.table(12).fetch([[[d[1]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[0],f],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.fe(c.ftr(c.db.table(12).fetch([[[d[1]]],"optimistic"]),function(a){return a.offlineThreadingId===d[1]&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:[0,1],sendStatusV2:[0,1],authorityLevel:[0,20],localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[2]=c.createArray(),d[3]=(d[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[2]),d[4]=(d[2].push("localApplyOptimisticMessage"),d[2]),d[5]=(d[2].push(a[1]),d[2]),d[6]=(d[2].push(d[1]),d[2]),d[7]=c.toJSON(d[2]),function(a){c.logger(a).info(a)}(d[7]),a[14]?c.seq([function(e){return c.sp(b("LSSetMessageViewFlags"),a[1],d[1],d[0],c.i64.eq(a[2],[0,1]))},function(e){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[1],d[0],a[3],!1,c.i64.neq(a[6],f))}]):c.resolve()},function(a){return a=[d[1],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateOptimisticAttachmentPreview",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(c){return c.attachmentFbid===a[2]&&b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.authorityLevel,[0,20])}),function(b){var c=b.update;b.item;return c({playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],previewUrl:a[7],previewUrlFallback:a[8],previewUrlExpirationTimestampMs:a[9],previewUrlMimeType:a[10],previewWidth:a[11],previewHeight:a[12],imageUrl:d,imageUrlFallback:d,imageUrlExpirationTimestampMs:d,imageUrlMimeType:d})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticSendAttachmentForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[1]=a[3]===""?f:a[3],d[1]!==f?c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],d[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===d[1]&&c.i64.eq(b.authorityLevel,[0,20])}),function(b){var d=b.update;b.item;return d({attachmentFbid:c.i64.to_string(a[7])})})},function(a){return d[0]=d[1]}]):c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],f,f,f,f,[0,3],f,f,f,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return c.ftr(c.db.table(16).fetch(),function(b){return b.attachmentFbid===c.i64.to_string(a[7])}).next().then(function(e,h){var i=e.done;e=e.value;return i?c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),[0,2],f,f,!0,!1):(h=e.item,c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),h.attachmentType,h.filename,h.attributionAppId,!0,!1)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[2],c.i64.to_string(a[7]),h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}]))})},function(a){return d[0]=d[2]}])},function(e){return c.seq([function(e){return d[2]=c.createArray(),d[4]=(d[2].push(a[7]),d[2]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[3]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[8],sendType:[0,4],markThreadRead:!1,initiatingSource:a[9]})}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticSendMessageForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[3],a[4],a[5]]]]),function(b){return c.i64.eq(b.threadKey,a[3])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.timestampMs,a[4])&&b.messageId===a[5]&&c.i64.eq(b.authorityLevel,[0,80])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(d[2]=c.createArray(),d[3]=(d[2].push("optimisticSendMessageForward msg not found"),d[2]),d[4]=(d[2].push(a[5]),d[2]),d[5]=c.toJSON(d[2]),function(a){c.logger(a).mustfix(a)}(d[5]),d[0]=""):(h=e.item,c.seq([function(e){return d[8]=h.forwardScore,d[2]=h.text,d[3]=d[8],c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],d[2],f,f,h.stickerId,h.hotEmojiSize,f,f,[0,3],f,d[3],f,!0).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(e){return c.fe(c.db.table(16).fetch([[[h.threadKey,h.messageId]]]),function(e){var h=e.item;return c.seq([function(e){return d[13]=h.attachmentFbid,d[9]=c.createArray(),d[10]=(d[9].push(d[13]),d[9]),d[11]=(d[9].push(d[4]),d[9]),d[12]=c.toJSON(d[9]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[5],d[4],d[13],d[12],h.attachmentType,h.filename,f,h.hasMedia,h.hasXma)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[4],d[12],h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}])})},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return f!==f?c.sp(b("LSPredefineTraceForTask"),f,d[6],c.i64.to_string([0,46]),d[4]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[6],threadKey:a[1],offlineThreadingId:d[4],messageId:a[5],threadAttributionSource:a[6],sendType:[0,5],markThreadRead:!1,initiatingSource:a[7]})},function(b){return d[9]=new c.Map(),d[10]=d[9].set("optimisticSendMessageForward",a[1]),d[11]=d[9].set("fwdMsgID",a[5]),d[12]=c.toJSON(d[9]),d[7]=d[12],function(a){c.logger(a).info(a)}(d[7]),d[0]=d[4]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSAppendDataTraceAddon.bs",["LSAppendDataTraceAddon","LSFactory","bs_belt_Option","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return window.Promise.resolve();else return c("LSAppendDataTraceAddon")(d,e,f,c("bs_belt_Option").getWithDefault(g,""),c("bs_belt_Option").getWithDefault(h,""),c("LSFactory")(a))}b=a;g.call=b}),98);
__d("LSAppendDataTraceAddon.nop",["LSAppendDataTraceAddon.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f,g,h){return d("LSAppendDataTraceAddon.bs").call(a,b,c,e,f,g,h)};g["default"]=a}),98);
__d("LSOptimisticSendMessage",["LSAppendDataTraceAddon.nop","LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSLogEventAnnotate.nop","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[18],a[19],a[21]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[10]=a[9]===""?f:a[9],d[10]!==f?c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],[0,3],d[10],a[10],!0,!1)},function(e){return a[22]?d[11]=!1:d[11]=!0,d[11]?c.resolve():(d[12]=a[22].get("playable_url"),a[22],d[13]=a[22].get("playable_url_fallback"),a[22],d[14]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[15]=a[22].get("playable_url_mime_type"),a[22],d[16]=a[22].get("preview_url"),a[22],d[17]=a[22].get("preview_url_fallback"),a[22],d[18]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[19]=a[22].get("preview_url_mime_type"),a[22],d[20]=a[22].get("preview_width"),a[22],d[21]=a[22].get("preview_height"),a[22],d[22]=a[22].get("image_url"),a[22],d[23]=a[22].get("image_url_fallback"),a[22],d[24]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[25]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21]))},function(a){return d[2]=[0,7]}]):c.seq([function(e){return c.i64.neq(a[7],f)?c.seq([function(e){return c.i64.neq(a[7],[53057,267535043])&&c.i64.neq(a[7],[85970,924785702])&&c.i64.neq(a[7],[85970,1004785694])&&c.i64.neq(a[7],[85970,1044785690])?c.seq([function(e){return d[13]=c.i64.to_string(a[7]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(a[7]),d[13],[0,1],f,f,!0,!1)},function(e){return a[22]?d[12]=!1:d[12]=!0,d[12]?c.resolve():(d[14]=a[22].get("playable_url"),a[22],d[15]=a[22].get("playable_url_fallback"),a[22],d[16]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[17]=a[22].get("playable_url_mime_type"),a[22],d[18]=a[22].get("preview_url"),a[22],d[19]=a[22].get("preview_url_fallback"),a[22],d[20]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[21]=a[22].get("preview_url_mime_type"),a[22],d[22]=a[22].get("preview_width"),a[22],d[23]=a[22].get("preview_height"),a[22],d[24]=a[22].get("image_url"),a[22],d[25]=a[22].get("image_url_fallback"),a[22],d[26]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[27]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23]))}]):c.resolve()},function(a){return d[11]=[0,2]}]):c.resolve(d[11]=[0,1])},function(a){return d[2]=d[11]}])},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return a[24]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[24],d[3],c.i64.to_string([0,46]),d[0])},function(d){return c.nop(b("LSAppendDataTraceAddon.nop"),a[24],[0,20],[0,1],f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[11],externalAttachmentUrl:a[9],platformRef:a[12],platformToken:a[13],replySourceId:a[14],replySourceType:a[15],sendType:d[2],markThreadRead:a[20]==null?!1:a[20],initiatingSource:a[23],skipUrlPreviewGen:a[25],textHasLinks:a[26]})},function(e){return(a[20]==null?!1:a[20])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[4]=c.createArray(),d[5]=(d[4].push("optimisticSendMessage"),d[4]),d[6]=(d[4].push(a[1]),d[4]),d[7]=(d[4].push(d[0]),d[4]),d[8]=c.toJSON(d[4]),function(a){c.logger(a).info(a)}(d[8]),d[9]=new c.Map(),d[9].set("offline_threading_id",d[0]),d[9].set("task_id",d[3]),d[9].set("task_queue_name",c.i64.to_string(a[1])),d[9].set("task_label",c.i64.to_string([0,1])),c.nop(b("LSLogEventAnnotate.nop"),[0,16],[0,23],[0,0],d[9])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MWChatForwardDialogQuery$Parameters",["MWChatForwardDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatForwardDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatForwardDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("LSMessagingThreadAttributionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,65536];b=[0,65537];var g=[0,65538],h=[0,65539],i=[0,65540],j=[0,65541],k=[0,65542],l=[0,65543],m=[0,65544],n=[0,65545],o=[0,65546],p=[0,65547],q=[0,65548],r=[0,131072],s=[0,131073],t=[0,131074],u=[0,131075],v=[0,131076],w=[0,196608],x=[0,196609],y=[0,196610],z=[0,196611],A=[0,196612],B=[0,196613],C=[0,262144],D=[0,262145],E=[0,262146],F=[0,262147],G=[0,262148],H=[0,262149],I=[0,327680],J=[0,327681],K=[0,327682],L=[0,393216],M=[0,393217],N=[0,393218],O=[0,393219],P=[0,393220],Q=[0,393221],R=[0,393222],S=[0,393223],T=[0,393224],U=[0,393225],V=[0,458752],W=[0,458753],X=[0,458754],Y=[0,524288],Z=[0,524289],$=[0,524290],aa=[0,524291],ba=[0,589824],ca=[0,589825],da=[0,589826],ea=[0,589827],fa=[0,589828],ga=[0,655360],ha=[0,655361],ia=[0,720896],ja=[0,720897],ka=[0,720898],la=[0,786432],ma=[0,786433],na=[0,786434],oa=[0,786435],pa=[0,786436],qa=[0,786437],ra=[0,786439],sa=[0,851968],ta=[0,851969],ua=[0,851970],va=[0,851971],wa=[0,851972],xa=[0,917504],ya=[0,917505],za=[0,917506],Aa=[0,917507],Ba=[0,917508],Ca=[0,917509],Da=[0,917510],Ea=[0,983040],Fa=[0,1048576],Ga=[0,1048577],Ha=[0,1048578],Ia=[0,1114112],Ja=[0,1114113],Ka=[0,1114114],La=[0,1114115],Ma=[0,1114116],Na=[0,1114117],Oa=[0,1114118],Pa=[0,1114119],Qa=[0,1179648],Ra=[0,1245184],Sa=[0,1245185],Ta=[0,1245186],Ua=[0,1310720],Va=[0,1310721],Wa=[0,1310722],Xa=[0,1310723],Ya=[0,1310724],Za=[0,1310725],$a=[0,1310726],ab=[0,1310727],bb=[0,1310728],cb=[0,1376256],db=[0,1376257],eb=[0,1376258],fb=[0,1441792],gb=[0,1441793],hb=[0,1441794],ib=[0,1441795],jb=[0,1507328],kb=[0,1507329],lb=[0,1507330],mb=[0,1507331],nb=[0,1572864],ob=[0,1572865],pb=[0,1572866],qb=[0,1572867],rb=[0,1572868],sb=[0,1572869],tb=[0,1572870],ub=[0,1572871],vb=[0,1572872],wb=[0,1572873],xb=[0,1572874],yb=[0,1572875],zb=[0,1572876],Ab=[0,1638400],Bb=[0,1638401],Cb=[0,1638402],Db=[0,1703936],Eb=[0,1703937],Fb=[0,1703938],Gb=[0,1769472],Hb=[0,1769473],Ib=[0,1835008],Jb=[0,1835009],Kb=[0,1835010],Lb=[0,1835011],Mb=[0,1835012],Nb=[0,1900544],Ob=[0,1900545],Pb=[0,1966080],Qb=[0,1966081],Rb=[0,1966082],Sb=[0,1966083],Tb=[0,2031616],Ub=[0,2031617],Vb=[0,2097152],Wb=[0,2097153],Xb=[0,2097154],Yb=[0,2097155],Zb=[0,2097156],$b=[0,2162688],ac=[0,2162689],bc=[0,2162690],cc=[0,2162691],dc=[0,2228224],ec=[0,2228225],fc=[0,2228226],gc=[0,2228227],hc=[0,2293760],ic=[0,2293761],jc=[0,2293762],kc=[0,2359296],lc=[0,2359297],mc=[0,2424832],nc=[0,2424833],oc=[0,2424834],pc=[0,2424835],qc=[0,2424836],rc=[0,2424837],sc=[0,2490368],tc=[0,2490369],uc=[0,2490370],vc=[0,2490371],wc=[0,2490372],xc=[0,2490373],yc=[0,2490374],zc=[0,2490375],Ac=[0,2490376],Bc=[0,2490377],Cc=[0,2490378],Dc=[0,2490379],Ec=[0,2490380],Fc=[0,2490381],Gc=[0,2490382],Hc=[0,2490383],Ic=[0,2490384],Jc=[0,2490385],Kc=[0,2490386],Lc=[0,2555904],Mc=[0,2555905],Nc=[0,2555906],Oc=[0,2555907],Pc=[0,2555908],Qc=[0,2621440],Rc=[0,2686976],Sc=[0,2752512],Tc=[0,2818048],Uc=[0,2883584],Vc=[0,2883585],Wc=[0,2883586],Xc=[0,2949120],Yc=[0,2949121],Zc=[0,3014656],$c=[0,3080192],ad=[0,3145728],bd=[0,3211264],cd=[0,3211265],dd=[0,3211266],ed=[0,3211267],fd=[0,3211268],gd=[0,3276800],hd=[0,3276801],id=[0,3342336],jd=[0,3342337],kd=[0,3407872],ld=[0,3473408],md=[0,3473409],nd=[0,3538944],od=[0,3538945],pd=[0,3538946],qd=[0,3604480],rd=[0,3604481],sd=[0,3604482],td=[0,3670016],ud=[0,3735552],vd=[0,3801088],wd=[0,3866624],xd=[0,3866625],yd=[0,3932160],zd=[0,3932161],Ad=[0,3932162],Bd=[0,3932163],Cd=[0,3997696],Dd=[0,3997697],Ed=[0,3997698],Fd=[0,3997699],Gd=[0,4063232],Hd=[0,4128768],Id=[0,4128769],Jd=[0,4128770],Kd=[0,4128771],Ld=[0,4194304],Md=[0,4259840],Nd=[0,4259841],Od=[0,4325376],Pd=[0,4390912],Qd=[0,4390913],Rd=[0,4456448],Sd=[0,4521984];f.unknown=a;f.unknownTest=c;f.unknownFailureRetry=d;f.messengerInbox=e;f.messengerInboxInThread=b;f.messengerInboxThreadList=g;f.messengerInboxNestedFolder=h;f.messengerInboxRecentThreads=i;f.messengerInboxRemainingThreads=j;f.messengerInboxMessageSearch=k;f.messengerInboxImageSending=l;f.messengerInboxForward=m;f.messengerInboxArchivedThreads=n;f.messengerInboxPendingRequests=o;f.messengerInboxActiveContacts=p;f.messengerInboxThreadBannerBottomSheet=q;f.messengerUniversalSearch=r;f.messengerUniversalSearchNullState=s;f.messengerUniversalSearchKeyPressed=t;f.messengerUniversalSearchMessageSearch=u;f.messengerUniversalSearchAdvancedContentSearch=v;f.montageAndActiveNow=w;f.montageAndActiveNowMontageInboxUnit=x;f.montageAndActiveNowActiveNow=y;f.montageAndActiveNowInboxComposer=z;f.montageAndActiveNowActiveAndHasStory=A;f.montageAndActiveNowCustomStatus=B;f.messengerActiveNowFriendsTab=C;f.messengerActiveNowFriendsTabFriendsTab=D;f.messengerActiveNowFriendsTabPlaceHolder=E;f.messengerActiveNowFriendsTabRecentActive=F;f.messengerActiveNowFriendsTabRecentActiveAndStory=G;f.messengerActiveNowFriendsTabContentDiscovery=H;f.messengerPendingRequests=I;f.messengerPendingRequestsInboxThreadList=J;f.messengerPendingRequestsPendingRequestsPage=K;f.messengerBroadcastFlow=L;f.messengerBroadcastFlowFromMessenger=M;f.messengerBroadcastFlowFromFb=N;f.messengerBroadcastFlowFromExternal=O;f.messengerBroadcastFlowFromFbNewsfeedSharesheet=P;f.messengerBroadcastFlowFromFbNewsfeedGoodwillComposer=Q;f.messengerBroadcastFlowFromFbShortsViewer=R;f.messengerBroadcastFlowForwardGutter=S;f.messengerBroadcastFlowForwardLongclick=T;f.messengerBroadcastFlowMessengerPhotoView=U;f.messengerOmnipicker=V;f.messengerOmnipickerNullState=W;f.messengerOmnipickerKeyPressed=X;f.messengerNotification=Y;f.messengerNotificationInThreadReply=Z;f.messengerNotificationLongpressReply=$;f.messengerNotificationLongpressReaction=aa;f.clickToMessengerAd=ba;f.clickToMessengerAdFromNewsfeed=ca;f.clickToMessengerAdSendMessageCta=da;f.clickToMessengerAdViewAndMessage=ea;f.clickToMessengerAdSendMessageCtaNewsfeedCtmAdsCta=fa;f.payments=ga;f.paymentsBubbleClick=ha;f.rtc=ia;f.rtcVoipIncall=ja;f.rtcDrawerPromotion=ka;f.fbPage=la;f.fbPageAboutCard=ma;f.fbPageProfileHeaderMessageButton=na;f.fbPageProfileFooterMessageButton=oa;f.fbPageProfileMoreDrawer=pa;f.fbPageResponsivenessContextCard=qa;f.fbPagePymmRhc=ra;f.fbProfile=sa;f.fbProfileTimelineMessageButton=ta;f.fbProfileFacebookProfile=ua;f.fbProfileMessageButton=va;f.fbProfileMessageButtonBloksUrl=wa;f.fbSearch=xa;f.fbSearchContextualProfileActionBarFromSearch=ya;f.fbSearchSearchMessageButton=za;f.fbSearchFbMessageSearchResults=Aa;f.fbSearchHighConfidenceCard=Ba;f.fbSearchMentions=Ca;f.fbSearchNullstateCta=Da;f.crypto=Ea;f.messengerMontageComposer=Fa;f.messengerMontageComposerFriendsTab=Ga;f.messengerMontageComposerFriendsTabStoryAndActiveNow=Ha;f.messengerMontageReply=Ia;f.messengerMontageReplyInboxThreadListProfile=Ja;f.messengerMontageReplyReplyContext=Ka;f.messengerMontageReplyThreadNavBar=La;f.messengerMontageReplyInboxThreadListProfileAuthorProfile=Ma;f.messengerMontageReplyReplyContextAuthorProfile=Na;f.messengerMontageReplyThreadNavBarAuthorProfile=Oa;f.messengerMontageReplyOneToOneChatThreadStoryBubble=Pa;f.messengerThreadMembersList=Qa;f.marketplace=Ra;f.marketplaceActivityBanner=Sa;f.marketplaceSendMessage=Ta;f.fbStory=Ua;f.fbStoryViewerSheetMenu=Va;f.fbStoryViewerSheetRow=Wa;f.fbStoryStoriesJewelNotification=Xa;f.fbStoryStoriesPushNotification=Ya;f.fbStoryStoriesViewerConsumerReply=Za;f.fbStoryStoriesViewerConsumerArtifact=$a;f.fbStoryStoriesPageStoryConversations=ab;f.fbStorySocialContextConversations=bb;f.workspeed=cb;f.workspeedComposerLikeButton=db;f.workspeedComposerGifPicker=eb;f.mdotme=fb;f.mdotmeOrganicPost=gb;f.mdotmeMarketingEmail=hb;f.mdotmeMbsOffsiteEmail=ib;f.customerChatPlugin=jb;f.customerChatPluginMobileRedirect=kb;f.customerChatPluginUpgradeFlow=lb;f.customerChatPluginReEngagement=mb;f.fbFeed=nb;f.fbFeedOrganicPost=ob;f.fbFeedOrganicPostViewAndMessage=pb;f.fbFeedQuestionTriggeredConvo=qb;f.fbFeedDynamicHoverCard=rb;f.fbFeedOrganicPostNewsfeedPagePostCta=sb;f.fbFeedOrganicPostNewsfeedBumperSmcta=tb;f.fbFeedBcfOpenChatButton=ub;f.fbFeedReactorsListMessageButton=vb;f.fbFeedReplyToAuthor=wb;f.fbFeedUfiSendSuggestions=xb;f.fbFeedBcf=yb;f.fbFeedCommunityChatsFeedPost=zb;f.fbNotification=Ab;f.fbNotificationJewelNotif=Bb;f.fbNotificationPushNotif=Cb;f.fbEvent=Db;f.fbEventMessageHost=Eb;f.fbEventShareClassMaterials=Fb;f.supportResources=Gb;f.supportResourcesFrxAction=Hb;f.leadGenMessaging=Ib;f.leadGenMessagingPreSubmission=Jb;f.leadGenMessagingPostSubmission=Kb;f.leadGenMessagingCrossChannelVerticalPresentAndroid=Lb;f.leadGenMessagingCrossChannelHscrollAndroid=Mb;f.messengerGraph=Nb;f.messengerGraphSelectContact=Ob;f.messengerChat=Pb;f.messengerChatFromJewelThreadList=Qb;f.messengerChatInThread=Rb;f.messengerChatForward=Sb;f.messengerArchivedThreads=Tb;f.messengerArchivedThreadsArchivedThreadsFolder=Ub;f.jewel=Vb;f.jewelThreadList=Wb;f.jewelSearch=Xb;f.jewelNewMessage=Yb;f.jewelNestedFolder=Zb;f.chatheads=$b;f.chatheadsRecentThreads=ac;f.chatheadsOverflow=bc;f.chatheadsNewMessage=cc;f.sidebar=dc;f.sidebarContactsList=ec;f.sidebarContactsSearch=fc;f.sidebarContactsGroups=gc;f.messengerCommunityMessaging=hc;f.messengerCommunityMessagingCommunityChannel=ic;f.messengerCommunityMessagingFullscreenChat=jc;f.fbPlatformLogin=kc;f.fbPlatformLoginLoginConnectWithMessenger=lc;f.contactManager=mc;f.contactManagerContactShare=nc;f.contactManagerPeopleTabContactList=oc;f.contactManagerPeopleTabContactSearch=pc;f.contactManagerIconContactList=qc;f.contactManagerIconContactSearch=rc;f.messagingInboxInBlue=sc;f.messagingInboxInBlueThreadList=tc;f.messagingInboxInBluePeoplePicker=uc;f.messagingInboxInBlueInboxIcon=vc;f.messagingInboxInBlueSwipeFromRight=wc;f.messagingInboxInBlueMibNotification=xc;f.messagingInboxInBlueActiveNow=yc;f.messagingInboxInBlueSuggestedChats=zc;f.messagingInboxInBlueChatPreviewBanner=Ac;f.messagingInboxInBlueThreadViewCoreNullState=Bc;f.messagingInboxInBlueMessageRequests=Cc;f.messagingInboxInBlueSpam=Dc;f.messagingInboxInBlueFbGroups=Ec;f.messagingInboxInBlueMessengerPeekStateButton=Fc;f.messagingInboxInBlueMessengerPeekStateTooltip=Gc;f.messagingInboxInBlueBroadcastFlow=Hc;f.messagingInboxInBlueThreadViewHeader=Ic;f.messagingInboxInBluePrivacySettings=Jc;f.messagingInboxInBlueArchivedChats=Kc;f.mibNotification=Lc;f.mibNotificationPushNotification=Mc;f.mibNotificationJewelNotification=Nc;f.mibNotificationDirectPushNotif=Oc;f.mibNotificationDirectJewelNotif=Pc;f.messengerRestrictedAccounts=Qc;f.armadilloCutoverThreadLinkingMessage=Rc;f.callsTab=Sc;f.miniShopViewMenuButton=Tc;f.sharesheet=Uc;f.sharesheetGeneralizedBroadcastFlow=Vc;f.sharesheetOffPlatformSharingHScroll=Wc;f.ufi=Xc;f.ufiGeneralizedBroadcastFlow=Yc;f.chatheadClickCollapsed=Zc;f.timelineMessageButton=$c;f.directReplyIntent=ad;f.fbGroups=bd;f.fbGroupsInbox=cd;f.fbGroupsPickerExistingChat=dd;f.fbGroupsPickerJoinChat=ed;f.fbGroupsMemberList=fd;f.devices=gd;f.devicesStella=hd;f.fbWellbeing=id;f.fbWellbeingIncallUnblockingNotification=jd;f.messengerDeepLinking=kd;f.readOnlyCutoverThread=ld;f.readOnlyCutoverThreadArmadilloThread=md;f.armadilloThread=nd;f.armadilloThreadReadOnlyCutoverThread=od;f.armadilloThreadExternalLink=pd;f.fbShorts=qd;f.fbShortsProfile=rd;f.fbShortsReactorsListMessageButton=sd;f.sendPlugin=td;f.sendAsMessageFromNt=ud;f.messengerPublicChatsMessaging=vd;f.messengerGrowth=wd;f.messengerGrowthNotificationsEntrypoint=xd;f.friendsHome=yd;f.friendsHomeActiveNow=zd;f.friendsHomeMessageNewFriends=Ad;f.friendsHomePostAcceptMessaging=Bd;f.externalLinkXma=Cd;f.externalLinkXmaFromComposer=Dd;f.externalLinkXmaFromDeepLinking=Ed;f.externalLinkXmaFromShareExtension=Fd;f.fbNotifications=Gd;f.quickPromotion=Hd;f.quickPromotionCta=Id;f.quickPromotionInterstitial=Jd;f.quickPromotionTopBanner=Kd;f.fbmInAppNotifs=Ld;f.creatorSupport=Md;f.creatorSupportMessengerToast=Nd;f.fbInstantGame=Od;f.communityChatsInFeed=Pd;f.communityChatsInFeedPermalink=Qd;f.unifiedBusinessInbox=Rd;f.rollcall=Sd}),null);
__d("LSThreadAttributionTypeUtil.bs",["LSMessagingThreadAttributionType.bs","LSThreadAttributionStore.bs","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=d("LSThreadAttributionStore.bs").getSource({_0:b,TAG:1},c("bs_int64").to_string(a));if(b.TAG===0)return b._0;a=b._0;if(a==="communityFriendsDialog"||a==="pagesHomeFriendsDialog"||a==="mutualFriendsDialog"||a==="birthday"||a==="groupMembers"||a==="fundraiserSupportersList"||a==="memories"||a==="feedPoll"||a==="reactorList"||a==="friendsList"||a==="pagesPrivateReply")return d("LSMessagingThreadAttributionType.bs").fbFeedOrganicPost;else if(a==="inboxPendingRequests")return d("LSMessagingThreadAttributionType.bs").messengerInboxPendingRequests;else if(a==="fullscreenChat")return d("LSMessagingThreadAttributionType.bs").messengerCommunityMessagingFullscreenChat;else if(a==="sidebarGroupsList")return d("LSMessagingThreadAttributionType.bs").sidebarContactsGroups;else if(a==="jewel")return d("LSMessagingThreadAttributionType.bs").jewelThreadList;else if(a==="shop")return d("LSMessagingThreadAttributionType.bs").miniShopViewMenuButton;else if(a==="chatheadsOverflow")return d("LSMessagingThreadAttributionType.bs").chatheads;else if(a==="hovercard"||a==="feedDynamicHoverCard")return d("LSMessagingThreadAttributionType.bs").fbFeedDynamicHoverCard;else if(a==="search"||a==="messengerUniversalSearch")return d("LSMessagingThreadAttributionType.bs").messengerUniversalSearch;else if(a==="story"||a==="storyAggregatedUsers"||a==="storySeenByList")return d("LSMessagingThreadAttributionType.bs").fbStory;else if(a==="timeline"||a==="feedOrganicPost")return d("LSMessagingThreadAttributionType.bs").fbFeedOrganicPost;else if(a==="pageAboutCard")return d("LSMessagingThreadAttributionType.bs").fbPageAboutCard;else if(a==="inboxInThread")return d("LSMessagingThreadAttributionType.bs").messengerInboxInThread;else if(a==="notificationInThreadReply")return d("LSMessagingThreadAttributionType.bs").messengerNotificationInThreadReply;else if(a==="archieve")return d("LSMessagingThreadAttributionType.bs").messengerArchivedThreads;else if(a==="storyViewerSheetRow")return d("LSMessagingThreadAttributionType.bs").fbStoryViewerSheetRow;else if(a==="chatheadsNewMessage")return d("LSMessagingThreadAttributionType.bs").chatheadsNewMessage;else if(a==="event")return d("LSMessagingThreadAttributionType.bs").fbEvent;else if(a==="jewelSearch")return d("LSMessagingThreadAttributionType.bs").jewelSearch;else if(a==="inboxSpam"||a==="inboxThreadList"||a==="inboxRestricted")return d("LSMessagingThreadAttributionType.bs").messengerInbox;else if(a==="jewelNewMessage")return d("LSMessagingThreadAttributionType.bs").jewelNewMessage;else if(a==="pendingRequests")return d("LSMessagingThreadAttributionType.bs").messengerPendingRequestsInboxThreadList;else if(a==="sidebarSearch")return d("LSMessagingThreadAttributionType.bs").sidebarContactsSearch;else if(a==="inboxRemainingThreads")return d("LSMessagingThreadAttributionType.bs").messengerInboxRemainingThreads;else if(a==="pagesHeader")return d("LSMessagingThreadAttributionType.bs").fbPageProfileHeaderMessageButton;else if(a==="inboxRecentThreads")return d("LSMessagingThreadAttributionType.bs").messengerInboxRecentThreads;else if(a==="chatheads")return d("LSMessagingThreadAttributionType.bs").chatheadsRecentThreads;else if(a==="pageResponsivenessCard")return d("LSMessagingThreadAttributionType.bs").fbPageResponsivenessContextCard;else if(a==="inboxSearch")return d("LSMessagingThreadAttributionType.bs").messengerInboxMessageSearch;else if(a==="jewelNestedFolder")return d("LSMessagingThreadAttributionType.bs").jewelNestedFolder;else if(a==="marketplace")return d("LSMessagingThreadAttributionType.bs").marketplaceSendMessage;else if(a==="feedOrganicPostViewAndMessage")return d("LSMessagingThreadAttributionType.bs").fbFeedOrganicPostViewAndMessage;else if(a==="adsCta")return d("LSMessagingThreadAttributionType.bs").clickToMessengerAdSendMessageCta;else if(a==="chatInThread")return d("LSMessagingThreadAttributionType.bs").messengerChatInThread;else if(a==="payments")return d("LSMessagingThreadAttributionType.bs").payments;else if(a==="inboxFolder")return d("LSMessagingThreadAttributionType.bs").messengerInboxNestedFolder;else if(a==="inboxArchived")return d("LSMessagingThreadAttributionType.bs").messengerInboxArchivedThreads;else if(a==="inboxActiveContacts")return d("LSMessagingThreadAttributionType.bs").messengerInboxActiveContacts;else if(a==="sidebarContactsList")return d("LSMessagingThreadAttributionType.bs").sidebarContactsList;else return d("LSMessagingThreadAttributionType.bs").unknown}g.getSource=a}),98);
__d("LSMessagingInitiatingSource.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.facebookChat=a;f.facebookInbox=c;f.roomsSideChat=d;f.facebookFullscreen=e}),null);
__d("LSMessagingInitiatingSourceHook.bs",["LSMessagingInitiatingSource.bs","MWLSThreadDisplayContext","bs_belt_Option"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("bs_belt_Option").map(d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),function(a){if(a==="Inbox")return d("LSMessagingInitiatingSource.bs").facebookInbox;else if(a==="FullscreenChat")return d("LSMessagingInitiatingSource.bs").facebookFullscreen;else if(a==="ChatTab")return d("LSMessagingInitiatingSource.bs").facebookChat;else return d("LSMessagingInitiatingSource.bs").roomsSideChat})}g.useHook=a}),98);
__d("getMWReplySourceId",["MWChatMessageId.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return;return d("MWChatMessageId.bs").getMessageId(a.content._0.messageID)}g["default"]=a}),98);
__d("LSMessageReplySourceTypeV2.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13];f.none=a;f.message=c;f.story=d;f.forward=e;f.fbStoryShare=b;f.igStoryShare=g;f.storyBase64Encoded=h;f.lightweightStatus=i;f.closeFriends=j;f.xma=k;f.igNote=l;f.closeFriendsNoteReply=m;f.lightweightStatusReaction=n;f.fbFeedPost=o}),null);
__d("WorkChatMessageType.bs",[],(function(a,b,c,d,e,f){"use strict";a="text";b="gif";c="sticker";d="audio";e="file";f.text=a;f.gif=b;f.sticker=c;f.audio=d;f.file=e}),66);
__d("useMWLSSendStickerMessage",["I64","Int64Hooks","LSFactory","LSMailboxType.re","LSMessageReplySourceType.re","LSMessageReplySourceTypeV2.re","LSOptimisticSendMessage","LSShape","LSThreadAttributionTypeUtil.bs","MWPActor.bs","MWThread_DEPRECATED.bs","MessagingThreadType.re","WorkChatMessageType.bs","getMWReplySourceId","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("useReStore")(),g=d("MWPActor.bs").useActor();return d("Int64Hooks").useCallbackInt64(function(h,i,j,k){c("promiseDone")(f.runInTransaction(function(e){var f,l=d("MWThread_DEPRECATED.bs").toThreadKey(h);f=d("LSThreadAttributionTypeUtil.bs").getSource(l,(f=a)!=null?f:"unknown");return c("LSOptimisticSendMessage")(g,l,d("MessagingThreadType.re").oneToOne,d("LSMailboxType.re").messenger,void 0,void 0,!1,d("I64").of_string(i),void 0,void 0,void 0,f,void 0,void 0,c("getMWReplySourceId")(j),d("LSMessageReplySourceType.re").message,d("LSMessageReplySourceTypeV2.re").message,void 0,void 0,void 0,!0,!0,d("LSShape").ofRecord({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:d("I64").zero,preview_url:k,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:d("I64").zero}),b,void 0,void 0,void 0,c("LSFactory")(e))},"readwrite").then(function(a){e==null?void 0:e(d("WorkChatMessageType.bs").sticker,1,a[0])}))},[f,g,b,a,e])}g["default"]=a}),98);
__d("MWChatForwardDialog.entrypoint",["JSResourceForInteraction","MWChatForwardDialogQuery$Parameters","MWXacGating.bs","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{forwardQueryReference:{parameters:b("MWChatForwardDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get(),suppress_xac_groups:!d("MWXacGating.bs").isGroupsEnabled()}}}}},root:c("JSResourceForInteraction")("MWChatForwardDialog.react").__setRef("MWChatForwardDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatInteractionLog.bs",["QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b){var d=Date.now()|0;h.set(b,d);c("QPLUserFlow").start(a,{cancelOnUnload:!0,instanceKey:d,timeoutInMs:6e4})}function b(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endFailure(a,d,{instanceKey:b});return}}function d(a,b){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endSuccess(a,{instanceKey:b});return}}function e(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").addPoint(a,d,{instanceKey:b});return}}f=a;a=b;b=d;d=e;g.logStartUserFlow=f;g.logFailUserFlow=a;g.logSuccessUserFlow=b;g.logPointUserFlow=d}),98);
__d("MWLSForwardMessage.bs",["LSFactory","LSMediaUrl.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingSource","LSMessagingThreadAttributionType.bs","LSMessagingThreadTypeUtil","LSOptimisticSendAttachmentForward","LSOptimisticSendMessageForward","MWChatInteractionLog.bs","MWChatThreadId","MWLSThreadDisplayContext","MWPActor.bs","MWThread_DEPRECATED.bs","ODS","Promise","ReQL.bs","bs_caml_format","bs_caml_option","bs_curry","bs_int64","promiseDone","qpl","react","useMWLSSendStickerMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a!==void 0)if(a==="Inbox")return d("LSMessagingThreadAttributionType.bs").messengerInboxForward;else if(a==="ChatTab")return d("LSMessagingThreadAttributionType.bs").messengerChatForward;else return d("LSMessagingThreadAttributionType.bs").messengerBroadcastFlow;else return d("LSMessagingThreadAttributionType.bs").messengerBroadcastFlow}function a(){var a=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("LSMessagingInitiatingSourceHook.bs").useHook(),g=i(),j=d("LSMessagingSource").useHook(),k=c("useMWLSSendStickerMessage")(j,f);return h.useCallback(function(h,i){var j=d("LSMessagingThreadTypeUtil").ofThreadId(h),l=d("MWThread_DEPRECATED.bs").toThreadKey(h);switch(i.TAG){case 0:case 1:return;case 2:i=i._0;var m=i.timestamp,n=i.messageId,o=i.threadId;d("ODS").bumpEntityKey(3185,"mw_forward","send");d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),n,"sending");var p=function(){return a.runInTransaction(function(a){return c("LSOptimisticSendMessageForward")(e,l,j,o,m,n,g,f!==void 0?c("bs_caml_option").valFromOption(f):void 0,c("LSFactory")(a))},"readwrite").then(function(){})};c("promiseDone")(d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("messages")),{hd:o,tl:{hd:m,tl:{hd:n,tl:0}}})).then(function(e){if(e===void 0)return p();var f=e.stickerId;if(f!==void 0)return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("attachments")),{hd:o,tl:{hd:n,tl:0}})).then(function(a){a=a!==void 0?d("LSMediaUrl.bs").Attachment.previewUrl(a):void 0;c("bs_curry")._4(k,h,c("bs_int64").to_string(f),void 0,a);return b("Promise").resolve()});else return p()}),function(){d("ODS").bumpEntityKey(3185,"mw_forward","success");return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),n)},function(){d("ODS").bumpEntityKey(3185,"mw_forward","failure");return d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),n,"ls_error")});return}},[a,JSON.stringify(e),f,g,k])}function e(){var a=c("useReStore")(),b=d("MWPActor.bs").useActor(),e=d("LSMessagingInitiatingSourceHook.bs").useHook(),f=i();return h.useMemo(function(){return function(g,h,i){d("ODS").bumpEntityKey(3185,"mw_forward","send");i!==void 0&&d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),i,"sending");var j=d("LSMessagingThreadTypeUtil").ofThreadId(g),k=d("MWThread_DEPRECATED.bs").toThreadKey(g);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendAttachmentForward")(b,k,j,void 0,void 0,void 0,void 0,c("bs_caml_format").caml_int64_of_string(h),f,e!==void 0?c("bs_caml_option").valFromOption(e):void 0,c("LSFactory")(a))},"readwrite"),function(){d("ODS").bumpEntityKey(3185,"mw_forward","success");if(i!==void 0)return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),i)},function(){i!==void 0&&d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),i,"ls_error"),d("ODS").bumpEntityKey(3185,"mw_forward","failure")})}},[a,JSON.stringify(b),e,f])}g.useForwardMessage=a;g.useForwardAttachment=e;g.targetIdString=d("MWChatThreadId").getFBID}),98);
__d("useMWChatForward",["MWChatForwardDialog.entrypoint","MWChatInteractionLog.bs","MWChatMessageId.bs","qpl","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a){var b=a.dropToggle,e=a.forwardDialogType,f=a.messageID,g=a.onClose,j=a.onSend;a=i(null);var k=c("useCometEntryPointDialog")(c("MWChatForwardDialog.entrypoint"),{}),l=k[0];k=h(function(){var a=d("MWChatMessageId.bs").getMessageId(f);a!=null&&d("MWChatInteractionLog.bs").logStartUserFlow(c("qpl")._(25298392,"4881"),a);l({dropToggle:b,forwardDialogType:e,messageID:f,onSend:j},g)},[j,l,f,g,e,b]);return{onClick:k,triggerRef:a}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_id",a[0]),d[0].set("message_id",a[1]),d[1]=d[0].get("thread_id"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["cm_message_seen_count",c.i64.to_string(d[1])].join(""),[0,540],d[2],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MDSColumnContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSColumnItem.react",["BaseView.react","CometErrorBoundary.react","CometPlaceholder.react","MDSColumnContext","UserAgent","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={divider:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",":first-child_display":"xh99ass",$$css:!0},dividerMargin:{":first-child:empty + *_marginTop":"xb939ph",$$css:!0},expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},marginFirstChild:{":first-child_marginTop":"x14l7nz5",$$css:!0},marginLastChild:{":last-child_marginBottom":"xzboxd6",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},k={center:{alignItems:"x6s0dn4",$$css:!0},end:{alignItems:"xuk3077",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0}},l={4:{paddingStart:"x1e558r4",paddingEnd:"x150jy0e",$$css:!0},8:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},12:{paddingStart:"x1ye3gou",paddingEnd:"xn6708d",$$css:!0},16:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",$$css:!0},20:{paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",$$css:!0}},m={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0},40:{paddingTop:"x13zrc24",$$css:!0}},n={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},o={4:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0},8:{marginTop:"x1gslohp",marginBottom:"x12nagc",$$css:!0},12:{marginTop:"x1k70j0n",marginBottom:"xzueoph",$$css:!0},16:{marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",$$css:!0},20:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0},24:{marginTop:"x14vqqas",marginBottom:"xod5an3",$$css:!0},32:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",$$css:!0},40:{marginTop:"x1sy10c2",marginBottom:"xieb3on",$$css:!0}},p={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}},q={4:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",$$css:!0},8:{marginStart:"x1i64zmx",marginEnd:"x1emribx",$$css:!0},12:{marginStart:"x16n37ib",marginEnd:"xq8finb",$$css:!0},16:{marginStart:"x1d52u69",marginEnd:"xktsk01",$$css:!0},20:{marginStart:"xmn8rco",marginEnd:"x1h5jrl4",$$css:!0}},r=c("UserAgent").isBrowser("IE >= 11");function a(a,b){var d,e,f,g;d=(d=i(c("MDSColumnContext")))!=null?d:{};var t=a.align;e=t===void 0?(e=d.align)!=null?e:"stretch":t;t=a.children;var u=a.expanding;u=u===void 0?!1:u;var v=a.fallback,w=a.paddingHorizontal;f=w===void 0?(f=d.paddingHorizontal)!=null?f:0:w;w=a.paddingTop;var x=a.paddingVertical;x=x===void 0?0:x;var y=a.placeholder,z=a.verticalAlign;z=z===void 0?"top":z;var A=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","fallback","paddingHorizontal","paddingTop","paddingVertical","placeholder","verticalAlign"]),B=c("stylex").compose(a.xstyle);g=h.jsxs(h.Fragment,{children:[d.hasDividers===!0&&h.jsx(c("BaseView.react"),{role:"separator",xstyle:[j.divider,q[(g=d.paddingHorizontal)!=null?g:0],d.spacing!=null&&j.dividerMargin]}),h.jsx(c("BaseView.react"),babelHelpers["extends"]({},A,{ref:b,xstyle:[j.root,u&&[j.expanding,r&&j.expandingIE11],e!=="stretch"&&k[e],z!=="top"&&p[z],l[f],n[x],w!=null&&m[w],d.spacing!=null&&[o[d.spacing],B.marginBottom==null&&j.marginLastChild,B.marginTop==null&&j.marginFirstChild],a.xstyle],children:h.jsx(c("MDSColumnContext").Provider,{value:null,children:t})}))]});if(v!==void 0){a.fallback;var C=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);v===null?g=h.jsx(c("CometErrorBoundary.react"),{children:g}):g=h.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return h.jsx(s,babelHelpers["extends"]({},C,{ref:b,children:typeof v==="function"?v(a,c):v}))},children:g})}if(y!==void 0){a.placeholder;A=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);g=h.jsx(c("CometPlaceholder.react"),{fallback:y!=null?h.jsx(s,babelHelpers["extends"]({},A,{ref:b,children:y})):null,children:g})}return g}a.displayName=a.name+" [from "+f.id+"]";var s=h.forwardRef(a);b=s;g["default"]=b}),98);
__d("MDSRowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={4:{paddingEnd:"xg83lxy",paddingStart:"x1h0ha7o",$$css:!0},8:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},12:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},16:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},24:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},32:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},k={4:{paddingBottom:"x1120s5i",paddingTop:"x1nn3v0j",$$css:!0},8:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},12:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},16:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},24:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},32:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0}};function a(a,b){var d;d=(d=i(c("MDSRowContext")))!=null?d:{};var e=d.spacingHorizontal;d=d.spacingVertical;var f=a.fallback,g=a.placeholder,m=babelHelpers.objectWithoutPropertiesLoose(a,["fallback","placeholder"]);if(g!==void 0){a.placeholder;var n=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);return h.jsx(c("CometPlaceholder.react"),{fallback:g!=null?h.jsx(l,babelHelpers["extends"]({},n,{ref:b,children:g})):null,children:h.jsx(l,babelHelpers["extends"]({},n,{ref:b}))})}if(f!==void 0){a.fallback;var o=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);return f===null?h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(l,babelHelpers["extends"]({},o,{ref:b}))}):h.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return h.jsx(l,babelHelpers["extends"]({},o,{ref:b,children:typeof f==="function"?f(a,c):f}))},children:h.jsx(l,babelHelpers["extends"]({},o,{ref:b}))})}return h.jsx(c("BaseRowItem.react"),babelHelpers["extends"]({},m,{ref:b,useDeprecatedStyles:m.useDeprecatedStyles,xstyle:[j[e],k[d],m.xstyle],children:h.jsx(c("MDSRowContext").Provider,{value:null,children:m.children})}))}a.displayName=a.name+" [from "+f.id+"]";var l=h.forwardRef(a);b=l;g["default"]=b}),98);
__d("MDSRow.react",["BaseRow.react","MDSColumnContext","MDSColumnItem.react","MDSRowContext","MDSRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k={4:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},8:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},10:{paddingEnd:"x1iji9kk",paddingStart:"x1sln4lm",$$css:!0},12:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},16:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},l={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},10:{paddingTop:"x889kno",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},m={4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},8:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},10:{paddingBottom:"x1a8lsjc",paddingTop:"x889kno",$$css:!0},12:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},16:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0}},n={4:{marginEnd:"xwrv7xz",marginStart:"x8182xy",$$css:!0},8:{marginEnd:"xcud41i",marginStart:"x139jcc6",$$css:!0},10:{marginEnd:"x6zhf5e",marginStart:"xrzrlj5",$$css:!0},12:{marginEnd:"xykv574",marginStart:"xbmpl8g",$$css:!0},16:{marginEnd:"x1n0m28w",marginStart:"xp7jhwk",$$css:!0},24:{marginEnd:"x12rz0ws",marginStart:"x16hk5td",$$css:!0},32:{marginEnd:"x19f6ikt",marginStart:"x169t7cy",$$css:!0}},o={4:{marginBottom:"xmgb6t1",marginTop:"x1kgmq87",$$css:!0},8:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",$$css:!0},10:{marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0},12:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},16:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},24:{marginBottom:"xh3wvx0",marginTop:"x7wgvq7",$$css:!0},32:{marginBottom:"x1oo3vh0",marginTop:"xwya9rg",$$css:!0}};function a(a,b){var d=i(c("MDSColumnContext")),e=i(c("MDSRowContext")),f=(d==null?void 0:d.paddingHorizontal)!=null?0:12,g=(d==null?void 0:d.spacing)!=null?0:16,p=a.children,q=a.paddingHorizontal;f=q===void 0?f:q;q=a.paddingVertical;q=q===void 0?0:q;var r=a.paddingTop;g=r===void 0?a.paddingVertical==null?g:null:r;r=a.spacing;r=r===void 0?12:r;var s=a.spacingHorizontal,t=s===void 0?r:s;s=a.spacingVertical;var u=s===void 0?r:s;r=a.xstyle;s=babelHelpers.objectWithoutPropertiesLoose(a,["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"]);a=j(function(){return{spacingHorizontal:t,spacingVertical:u}},[t,u]);b=h.jsx(c("BaseRow.react"),babelHelpers["extends"]({},s,{ref:b,xstyle:[k[f],m[q],g!=null&&l[g],n[t],o[u],r],children:h.jsx(c("MDSRowContext").Provider,{value:a,children:p})}));if(e!=null)return h.jsx(c("MDSRowItem.react"),{expanding:s.expanding,children:b});return d!=null?h.jsx(c("MDSColumnItem.react"),{expanding:s.expanding,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);d=e;g["default"]=d}),98);
__d("MDSTextTypography",["UserAgent","cr:2011"],(function(a,b,c,d,e,f,g){"use strict";b("cr:2011");var h={apple:{MozOsxFontSmoothing:"xlh3980",WebkitFontSmoothing:"xvmahel",fontFamily:"x1n0sxbx",$$css:!0},"default":{fontFamily:"x10flsy6",$$css:!0},segoe:{fontFamily:"x1xmvt09",$$css:!0}},i={body1:{fontFamily:h["default"],fontSize:20,fontWeight:"normal",lineHeight:24,offsets:[4,5]},body2:{fontFamily:h["default"],fontSize:17,fontWeight:"normal",lineHeight:20,offsets:[3,5]},body3:{fontFamily:h["default"],fontSize:15,fontWeight:"normal",lineHeight:20,offsets:[4,5]},body4:{fontFamily:h["default"],fontSize:13,fontWeight:"normal",lineHeight:16,offsets:[3,4]},bodyLink1:{fontFamily:h["default"],fontSize:20,fontWeight:"semibold",lineHeight:24,offsets:[4,5]},bodyLink2:{fontFamily:h["default"],fontSize:17,fontWeight:"semibold",lineHeight:20,offsets:[3,5]},bodyLink3:{fontFamily:h["default"],fontSize:15,fontWeight:"semibold",lineHeight:20,offsets:[4,5]},bodyLink4:{fontFamily:h["default"],fontSize:13,fontWeight:"semibold",lineHeight:16,offsets:[3,4]},button1:{fontFamily:h["default"],fontSize:17,fontWeight:"semibold",lineHeight:20,offsets:[3,5]},button2:{fontFamily:h["default"],fontSize:15,fontWeight:"semibold",lineHeight:20,offsets:[4,5]},entityHeaderHeadline1:{fontFamily:h["default"],fontSize:32,fontWeight:"bold",lineHeight:38,offsets:[7,8]},entityHeaderHeadline2:{fontFamily:h["default"],fontSize:28,fontWeight:"bold",lineHeight:32,offsets:[5,7]},entityHeaderMeta1:{defaultColor:"secondary",fontFamily:h["default"],fontSize:15,fontWeight:"bold",lineHeight:20,offsets:[4,5]},entityHeaderMeta2:{defaultColor:"secondary",fontFamily:h["default"],fontSize:15,fontWeight:"bold",lineHeight:20,offsets:[4,5]},entityHeaderMeta3:{defaultColor:"primary",fontFamily:h["default"],fontSize:13,fontWeight:"bold",lineHeight:18,offsets:[4,3]},headline3:{fontFamily:h["default"],fontSize:17,fontWeight:"medium",lineHeight:20,offsets:[3,5]},headline4:{fontFamily:h["default"],fontSize:15,fontWeight:"medium",lineHeight:20,offsets:[4,5]},headlineEmphasized1:{fontFamily:h["default"],fontSize:24,fontWeight:"bold",lineHeight:28,offsets:[5,6]},headlineEmphasized2:{fontFamily:h["default"],fontSize:20,fontWeight:"bold",lineHeight:24,offsets:[4,5]},headlineEmphasized3:{fontFamily:h["default"],fontSize:17,fontWeight:"semibold",lineHeight:20,offsets:[3,4]},headlineEmphasized4:{fontFamily:h["default"],fontSize:15,fontWeight:"semibold",lineHeight:20,offsets:[4,5]},headlineEmphasized5:{fontFamily:h["default"],fontSize:15,fontWeight:"medium",lineHeight:18,offsets:[3,4]},meta1:{defaultColor:"secondary",fontFamily:h["default"],fontSize:13,fontWeight:"semibold",lineHeight:16,offsets:[3,4]},meta2:{defaultColor:"secondary",fontFamily:h["default"],fontSize:13,fontWeight:"semibold",lineHeight:16,offsets:[3,4]},meta3:{defaultColor:"secondary",fontFamily:h["default"],fontSize:13,fontWeight:"normal",lineHeight:16,offsets:[3,4]},meta4:{defaultColor:"secondary",fontFamily:h["default"],fontSize:12,fontWeight:"normal",lineHeight:16,offsets:[3,4]}},j=[["body1",[5,5]],["body2",[4,4]],["body3",[4,4]],["body4",[4,3]],["bodyLink1",[5,5]],["bodyLink2",[4,4]],["bodyLink3",[4,4]],["bodyLink4",[4,3]],["button1",[4,4]],["button2",[4,4]],["entityHeaderHeadline1",[8,7]],["entityHeaderHeadline2",[6,6]],["entityHeaderMeta1",[4,4]],["entityHeaderMeta2",[4,4]],["entityHeaderMeta3",[4,3]],["headline3",[4,4]],["headline4",[4,4]],["headlineEmphasized1",[6,5]],["headlineEmphasized2",[5,5]],["headlineEmphasized3",[4,4]],["headlineEmphasized4",[4,4]],["headlineEmphasized5",[4,3]],["meta1",[4,3]],["meta2",[4,3]],["meta3",[4,3]],["meta4",[3,3]]],k=[["body1",[5,5]],["body2",[4,4]],["body3",[5,4]],["body4",[4,3]],["bodyLink1",[6,4]],["bodyLink2",[4,3]],["bodyLink3",[5,4]],["bodyLink4",[4,3]],["button1",[4,3]],["button2",[5,4]],["entityHeaderHeadline1",[8,7]],["entityHeaderHeadline2",[7,5]],["entityHeaderMeta1",[5,4]],["entityHeaderMeta2",[5,4]],["entityHeaderMeta3",[4,3]],["headline3",[5,3]],["headline4",[5,4]],["headlineEmphasized1",[6,5]],["headlineEmphasized2",[6,4]],["headlineEmphasized3",[4,3]],["headlineEmphasized4",[5,4]],["headlineEmphasized5",[4,3]],["meta1",[4,3]],["meta2",[4,3]],["meta3",[4,3]],["meta4",[4,3]]],l=[["body1",[6,4,1]],["body2",[5,3,1]],["body3",[5,4]],["body4",[4,3,1]],["bodyLink1",[6,4,1]],["bodyLink2",[5,3,1]],["bodyLink3",[5,4]],["bodyLink4",[4,3,1]],["button1",[5,3,1]],["button2",[5,4]],["entityHeaderHeadline1",[10,6,2]],["entityHeaderHeadline2",[8,5,3]],["entityHeaderMeta1",[5,4,1]],["entityHeaderMeta2",[5,4,1]],["entityHeaderMeta3",[4,3]],["headline3",[5,3,1]],["headline4",[5,4]],["headlineEmphasized1",[7,4,2]],["headlineEmphasized2",[6,4,2]],["headlineEmphasized3",[5,3,1]],["headlineEmphasized4",[5,4]],["headlineEmphasized5",[5,3,1]],["meta1",[4,3,1]],["meta2",[4,3,1]],["meta3",[4,3,1]],["meta4",[4,3]]];function m(){if(c("UserAgent").isPlatform("Windows >= 6"))return{fontFamily:h.segoe,offsets:l};return c("UserAgent").isPlatform("Mac OS X >= 10.11")&&!c("UserAgent").isBrowser("Firefox < 55")||c("UserAgent").isPlatform("iOS >= 9")?{fontFamily:h.apple,offsets:c("UserAgent").isEngine("Gecko")?k:j}:null}function a(){var a=m();if(a!=null){var b=a.fontFamily;a=a.offsets;a=new Map(a);var c=babelHelpers["extends"]({},i);a.forEach(function(a,d){c[d]=babelHelpers["extends"]({},c[d],{fontFamily:b,offsets:a})});return c}return i}d=a();g["default"]=d}),98);
__d("MDSTextV1.react",["BaseHeading.react","CometDensityModeContext","CometLineClamp.react","CometTextContext","CometTextLangContext","MDSTextTypography","cr:2099","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useMemo;e=(d=b("cr:2099"))!=null?d:{useTranslationKeyForTextParent:function(){}};var k=e.useTranslationKeyForTextParent,l={base:{maxWidth:"x193iq5w",minWidth:"xeuugli",wordBreak:"x13faqbe",wordWrap:"x1vvkbs",$$css:!0},block:{display:"x1lliihq","::after_content":"x1s928wv","::after_display":"xhkezso","::after_height":"x1gmr53x","::before_content":"x1cpjm7i","::before_display":"x1fgarty","::before_height":"x1943h6x",$$css:!0},heading:{maxWidth:"x193iq5w",minWidth:"xeuugli",$$css:!0}},m={center:{textAlign:"x2b8uid",$$css:!0},end:{textAlign:"xp4054r",$$css:!0},start:{textAlign:"x1yc453h",$$css:!0}},n={blueLink:{color:"x1fey0fg",$$css:!0},disabled:{color:"x1dntmbh",$$css:!0},disabledButton:{color:"x1x80s81",$$css:!0},highlight:{color:"x1qq9wsj",$$css:!0},negative:{color:"x1a1m0xk",$$css:!0},placeholder:{color:"x12scifz",$$css:!0},positive:{color:"x6u5lvz",$$css:!0},primary:{color:"xzsf02u",$$css:!0},primaryButton:{color:"xtk6v10",$$css:!0},primaryDeemphasizedButton:{color:"x1mvi0mv",$$css:!0},primaryOnMedia:{color:"x17z8epw",$$css:!0},secondary:{color:"xi81zsa",$$css:!0},secondaryButton:{color:"x1dem4cn",$$css:!0},secondaryOnMedia:{color:"xkxfvhb",$$css:!0},tertiary:{color:"x12scifz",$$css:!0},white:{color:"x14ctfv",$$css:!0}},o={12:{fontSize:"x1pg5gke",lineHeight:"xvq8zen",$$css:!0},13:{fontSize:"x1nxh6w3",lineHeight:"x1sibtaa",$$css:!0},15:{fontSize:"x6prxxf",lineHeight:"xvq8zen",$$css:!0},17:{fontSize:"x1lkfr7t",lineHeight:"x1lbecb7",$$css:!0},20:{fontSize:"x1603h9y",lineHeight:"x1u7k74",$$css:!0},24:{fontSize:"xngnso2",lineHeight:"x1qb5hxa",$$css:!0},28:{fontSize:"x1q74xe4",lineHeight:"xyesn5m",$$css:!0},32:{fontSize:"x579bpy",lineHeight:"xjkpybl",$$css:!0}},p={12:{fontSize:"x1pg5gke",lineHeight:"xvq8zen",$$css:!0},13:{fontSize:"x1pg5gke",lineHeight:"x1sibtaa",$$css:!0},15:{fontSize:"x1f6kntn",lineHeight:"xvq8zen",$$css:!0},17:{fontSize:"x1jchvi3",lineHeight:"x1lbecb7",$$css:!0},20:{fontSize:"x1603h9y",lineHeight:"x1u7k74",$$css:!0},24:{fontSize:"xngnso2",lineHeight:"x1qb5hxa",$$css:!0},28:{fontSize:"x1q74xe4",lineHeight:"xyesn5m",$$css:!0},32:{fontSize:"x579bpy",lineHeight:"xjkpybl",$$css:!0}},q={bold:{fontWeight:"x1xlr1w8",$$css:!0},medium:{fontWeight:"xk50ysn",$$css:!0},normal:{fontWeight:"x1fcty0u",$$css:!0},semibold:{fontWeight:"x1s688f",$$css:!0}},r={1:{"::before_marginTop":"x1ckan80",$$css:!0},2:{"::before_marginTop":"x1s3etm8",$$css:!0},3:{"::before_marginTop":"x1tu3fi",$$css:!0},4:{"::before_marginTop":"x4zkp8e",$$css:!0},5:{"::before_marginTop":"xudqn12",$$css:!0},6:{"::before_marginTop":"xtoi2st",$$css:!0},7:{"::before_marginTop":"x14z4hjw",$$css:!0},8:{"::before_marginTop":"x1ill7wo",$$css:!0},9:{"::before_marginTop":"xhau9xz",$$css:!0},10:{"::before_marginTop":"x14qwyeo",$$css:!0}},s={1:{"::after_marginBottom":"xo8pqpo",$$css:!0},2:{"::after_marginBottom":"xlf94lp",$$css:!0},3:{"::after_marginBottom":"x676frb",$$css:!0},4:{"::after_marginBottom":"x3x7a5m",$$css:!0},5:{"::after_marginBottom":"x41vudc",$$css:!0},6:{"::after_marginBottom":"xw06pyt",$$css:!0},7:{"::after_marginBottom":"x1g2y4wz",$$css:!0},8:{"::after_marginBottom":"x1x48ksl",$$css:!0},9:{"::after_marginBottom":"x1guzi96",$$css:!0},10:{"::after_marginBottom":"x1y9wsrc",$$css:!0}},t={1:{paddingBottom:"x1j85h84",$$css:!0},2:{paddingBottom:"x1120s5i",$$css:!0},3:{paddingBottom:"xg8j3zb",$$css:!0}},u={disabled:"disabledButton",highlight:"primaryDeemphasizedButton",secondary:"secondaryButton",white:"primaryButton"};function v(a,b){return b?(b=u[a])!=null?b:a:a}function w(a,b){return b==="headlineEmphasized5"||b==="entityHeaderMeta3"?null:{color:a,type:b}}function a(a,b){var d=a.align;d=d===void 0?"auto":d;var e=a.children,f=a.color,g=a.dir;g=g===void 0?"auto":g;var u=a.id,x=a.isSemanticHeading;x=x===void 0?!1:x;var y=a.numberOfLines,z=a.testid,A=a.type;z=i(c("CometTextContext"));a=i(c("CometDensityModeContext"));a=a[0];var B=i(c("CometTextLangContext")),C=c("MDSTextTypography")[A],D=C.defaultColor;D=D===void 0?"primary":D;var E=C.fontFamily,F=C.fontSize,G=C.fontWeight;G=G===void 0?"normal":G;C=C.offsets;C=C===void 0?[0,0]:C;var H=C.length===3?C[2]:0,I=v((f=f)!=null?f:D,A==="button1"||A==="button2");f=j(function(){return w(I,A)},[I,A]);D=z!==null;z=k();f=h.jsx(c("CometTextContext").Provider,{value:f,children:h.jsx("span",{className:c("stylex")(l.base,E,!D&&l.block,!D&&r[C[0]],!D&&s[y!=null?C[1]+H:C[1]],a?p[F]:o[F],q[G],n[I],d!=="auto"&&m[d]),"data-testid":void 0,dir:D?void 0:g,id:u,lang:B,ref:b,children:y!=null?h.jsx(c("CometLineClamp.react"),{lines:y,xstyle:H!==0&&t[H],children:e}):e},z)});return x?h.jsx(c("BaseHeading.react"),{isPrimaryHeading:x,xstyle:l.heading,children:f}):f}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);b.displayName="MDSText";d=b;g["default"]=d}),98);
__d("MWText.react",["MDSText.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MDSText.react")}),98);
__d("MWTooltip.react",["cr:11872"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11872")}),98);
__d("MWVerticalRhythm",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.height;return h.jsx("div",{style:{height:String(a)+"px"}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMInboxHeaderCommunityGroupName.react",["fbt","CometPagelet.react","I64","LSSuspense","MWCMThreadTypes.react","PresenceStatusContext","Promise","cr:183","gkx","react","useCommunityFolder"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext;function k(a){return a}var l=b("cr:183")==null?function(a){return d("I64").neg_one}:b("cr:183").useCMThreadCoPresence;function a(a){var e=a.renderWrapper;a=a.thread;e=e!==void 0?e:k;var f=c("useCommunityFolder")(a),g=j(c("PresenceStatusContext")),m=l(a);if(f!==void 0){var n=a.cannotReplyReason==="broadcast_chat_read_only",o=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&!n?c("gkx")("5555")?h._("__JHASH__2Tijp2ORsFi__JHASH__"):h._("__JHASH__QrGOls5Na3V__JHASH__"):d("MWCMThreadTypes.react").isPrivateThread(a.threadType)?h._("__JHASH__AR0EXhdbXqJ__JHASH__"):null;e=e(d("I64").gt(m,d("I64").zero)&&g.getChatVisibility()?h._("__JHASH__zBhIvI5rTRs__JHASH__",[h._plural(d("I64").to_int32(m),"number")]):d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&!n&&c("gkx")("5555")?i.jsxs(i.Fragment,{children:[o," ",o!=null?"\u2022":null," ",f.name]}):i.jsxs(i.Fragment,{children:[f.name," ",o!=null?"\u2022":null," ",o]}))}else e=c("LSSuspense").throwErrorOrPromise(b("Promise").resolve());return i.jsx(d("CometPagelet.react").Placeholder,{className:"x193iq5w",fallback:null,name:"MWCMInboxHeaderCommunityGroupName",children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useGroupThreadViewParams",["useCometRouterState","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useTopMostRouteCometEntityKey")(),b=c("useCometRouterState")();b=b==null?void 0:b.main.route.params;a=(a==null?void 0:a.entity_type)==="group"&&(a==null?void 0:a.section)==="CHATS";if(!a)return null;a=b==null?void 0:b.thread_id;b=b==null?void 0:b.idorvanity;if(a==null||b==null)return null;return typeof a==="string"&&typeof b==="string"?{groupId:b,threadKey:a}:null}g["default"]=a}),98);
__d("MWChatTextTransform.bs",["CometEmojiTransform","CometEmoticonTransform","bs_curry","cr:2420","gkx"],(function(a,b,c,d,e,f,g){"use strict";d=c("CometEmoticonTransform")();e=c("CometEmojiTransform")();f=c("gkx")("1839834")?[d,e]:[e];var h=f.slice();if(!(b("cr:2420")==null)){b=c("bs_curry")._1(b("cr:2420").unvaultTransform);h.push(b)}function a(a){if(c("gkx")("1839834"))return[c("CometEmoticonTransform")(a),c("CometEmojiTransform")(a)];else return[c("CometEmojiTransform")(a)]}g.emoticonTransform=d;g.emojiTransform=e;g.epdTextTransformsNoVault=f;g.epdTextTransforms=h;g.epdTextTransformsWithOptions=a}),98);
__d("MWClickedMessageContext.react",["GroupsCometChatsEngagementLogger","I64","LSFactory","LSFetchMessageSeenCount","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.createContext;var i=b.useCallback,j=b.useContext,k=b.useMemo,l=b.useState,m=e({clickedMessageId:null,fetchMessageSeenCount:c("emptyFunction"),hasError:!1,isLoading:!1,setClickedMessageId:c("emptyFunction")});function a(a){a=a.children;var b=l(null),e=b[0],f=b[1];b=l(!1);var g=b[0],j=b[1];b=l(!1);var n=b[0],o=b[1],p=c("useReStore")(),q=i(function(a,b,e){o(!0),f(b),p.runInTransaction(function(d){return c("LSFetchMessageSeenCount")(a,b,c("LSFactory")(d))},"readwrite").then(function(){o(!1);j(!1);if(e!=null){var c;d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{mid:b},community_id:(c=d("I64").to_string(e.folderId))!=null?c:null,event:"seen_count_rendered",group_id:(c=d("I64").to_string(e.fbGroupId))!=null?c:null,source:"message_bubble",surface:"thread_view",thread_id:d("I64").to_string(a)})}})["catch"](function(){o(!1),j(!0)})},[p]);b=k(function(){return{clickedMessageId:e,fetchMessageSeenCount:q,hasError:g,isLoading:n,setClickedMessageId:f}},[e,q,g,n]);return h.jsx(m.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";b={Provider:a,useHook:function(){return j(m)}};g["default"]=b}),98);
__d("MWChatContactPresenceHook.bs",["AvailableListConstants","PresenceStatusContext","bs_caml_option","bs_curry","bs_int64","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("MessengerMQTTPresence.bs").__setRef("MWChatContactPresenceHook.bs");function j(a,b){var d=c("bs_curry")._1(a.getStatus,b),e=d==null?void 0:c("bs_caml_option").some(d);a=c("bs_curry")._1(a.getChatVisibility);if(!(d==null)||!a)return e;else{i.onReady(function(a){return c("bs_curry")._1(a.sendAdditionalBuddyRequest,b)});return}}function k(a){var b=h.useContext(c("PresenceStatusContext")),d=c("bs_int64").to_string(a);a=h.useState(function(){return j(b,d)});var e=a[1];h.useEffect(function(){return c("bs_curry")._1(b.addListener,function(){return c("bs_curry")._1(e,function(){return j(b,d)})})},[b,d,e]);return a[0]}function a(a){a=k(a);if(a===void 0)return!1;a=a.status;if(a==null)return!1;else return a===c("AvailableListConstants").ACTIVE}function b(a){a=k(a);if(a===void 0)return;a=a.last_active_time;if(!(a==null)&&a!==0)return a*1e3}function e(a){var b=h.useContext(c("PresenceStatusContext")),d=h.useMemo(function(){return a.map(function(a){return c("bs_int64").to_string(a)})},[a]);return d.some(function(a){a=j(b,a);if(a===void 0)return!1;a=a.status;if(a==null)return!1;else return a===c("AvailableListConstants").ACTIVE})}g.useHook=k;g.useIsActive=a;g.useLastActiveTimestampMs=b;g.useHasActiveContact=e}),98);
__d("MWThreadListGlimmer.react",["CometGlimmer.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={glimmerBody:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"xktia5q",$$css:!0},glimmerHeadline:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x1qx5ct2",marginBottom:"x1e56ztr",width:"x3hqpx7",$$css:!0},glimmerPhoto48:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xsdox4t",marginEnd:"xmo9yow",width:"x1useyqa",$$css:!0},glimmerPhoto56:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xnnlda6",marginEnd:"xmo9yow",width:"x15yg21f",$$css:!0},glimmerRoot:{display:"x78zum5",paddingBottom:"xwib8y2",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"x1y1aw1k",$$css:!0},glimmerText:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0}};c("gkx")("571");function j(a){a=a.role;return h.jsxs("div",{className:"x78zum5 xwib8y2 x1swvt13 x1pi30zi x1y1aw1k",role:a,children:[h.jsx(c("CometGlimmer.react"),{index:0,xstyle:i.glimmerPhoto48}),h.jsxs("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xl56j7k",children:[h.jsx(c("CometGlimmer.react"),{index:1,xstyle:i.glimmerHeadline}),h.jsx(c("CometGlimmer.react"),{index:2,xstyle:i.glimmerBody})]})]})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.numberOfItems;b=b===void 0?1:b;var c=a.role;return h.jsx(h.Fragment,{children:Array(b).fill(!0).map(function(a,b){return h.jsx(j,{role:c},"mw_list_glimmer_"+b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPresenceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFLINE:1,ACTIVE:2});f["default"]=a}),66);
__d("MWPresenceBadge.bs",["CometBadge.react","MWChatContactPresenceHook.bs","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.size;a=a.thread;var e=c("useReStore")(),f=a.threadKey,g=d("MWPActor.bs").useActor();a=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:f,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,g)}),function(a){return a.contactId})},[e,JSON.stringify(a.threadKey)]));a=d("MWChatContactPresenceHook.bs").useHasActiveContact(a);if(a)return h.jsx(c("CometBadge.react"),{border:"white",color:"green",isProfileBadge:!0,size:b});else return null}b=a;e=b;g.make=e}),98);
__d("MWPPresenceBadge.react",["CometBadge.react","I64","LSIntEnum","LSPresenceStatus","MWPresenceBadge.bs","PresenceContext","ReQL","ReQLSuspense","RelayHooks","gkx","qex","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b,e=a.size;a=a.thread;return c("gkx")("6543")||c("gkx")("5849")||((b=c("qex")._("274"))!=null?b:!1)?h.jsx(j,{size:e,thread:a}):h.jsx(d("MWPresenceBadge.bs").make,{size:e,thread:a})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=d("RelayHooks").useActorID(),e=c("useReStore")(),f=a.size;a=a.thread;var g=a.threadKey;a=i(c("PresenceContext")).chatVisibility;a=d("ReQLSuspense").useFirst(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.table("presence_states").index("statusContactId")).getKeyRange(d("LSIntEnum").ofNumber(c("LSPresenceStatus").ACTIVE)),d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(g).filter(function(a){a=a.contactId;return d("I64").to_string(a)!==b}))},[b,e,g])!=null&&a;return a?h.jsx(c("CometBadge.react"),{border:"white",color:"green",isProfileBadge:!0,size:f}):null}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFacepileBadge.react",["CometPlaceholder.react","MWPPresenceBadge.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.size;a=a.thread;return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("MWPPresenceBadge.react"),{size:b,thread:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFacepileGetContactsToShow.bs",["LSMediaUrl.bs","LSMessagingThreadTypeUtil","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Array","bs_caml","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){if(a!==void 0&&d("LSMediaUrl.bs").Contact.profilePictureUrl(a)!=="")return a}var j=[];function a(a){return a.sort(function(a,b){return b.rank-a.rank})}function k(a,b,e){var f=function(a){return a.filter(function(a){return c("bs_caml").i64_neq(a.id,e)})},g=b.length,h;if(g>=3){var k=f(c("bs_belt_Array").keepMap(b,i));h=k.length>=2?k:j}else switch(g){case 0:h=j;break;case 1:k=b[0];h=k!==void 0&&d("LSMediaUrl.bs").Contact.profilePictureUrl(k)!==""?[k]:j;break;case 2:g=b[0];if(g!==void 0){k=b[1];if(k!==void 0)if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)){b=f([g,k]);if(b.length!==1)h=j;else{f=b[0];h=d("LSMediaUrl.bs").Contact.profilePictureUrl(f)!==""?[f]:j}}else h=d("LSMediaUrl.bs").Contact.profilePictureUrl(g)!==""&&d("LSMediaUrl.bs").Contact.profilePictureUrl(k)!==""&&d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?[g,k]:j;else h=j}else h=j;break}return h.sort(function(a,b){return b.rank-a.rank}).slice(0,2)}function b(a){var b=d("MWPActor.bs").useActor(),e=c("useReStore")(),f=a.threadKey,g=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").take(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:f,tl:0}),d("ReQL.bs").fromTableAscending(e.table("contacts"))),3),function(a){return a[1]})},[e,JSON.stringify(f)]));return k(a,g,b)}e=i;f=j;a=a;var l=k;b=b;g.hasProfilePicture=e;g.glimmer=f;g.sortByRank=a;g.getContactsToShow=l;g.useHook=b}),98);
__d("MWPGetThreadTitle.bs",["fbt","CurrentEnvironment","FBLogger","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactType.bs","LSMessagingThreadTypeUtil","MWPActor.bs","bs_belt_Option","bs_caml","bs_caml_option","gkx","intlList","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";b=c("gkx")("1341692");var i=(b?h._("__JHASH__fcWzWSmItiU__JHASH__"):c("CurrentEnvironment").instagramdotcom?h._("__JHASH__PghB4SzSbNm__JHASH__"):h._("__JHASH__AaE4hJExM0x__JHASH__")).toString();function j(a,b,e,f){a=a!==void 0?c("bs_caml_option").valFromOption(a):c("intlList").CONJUNCTIONS.AND;e.length>8&&c("recoverableViolation")("You are overfetching participants needed to compute a thread title. Please use ->take(MWPGetThreadTitle.amountToFetchForTitle) to limit participants fetched. Length: "+e.length,"messenger_web_product");if(e.length===0)return;if(d("LSMessagingThreadTypeUtil").isOneToOne(b.threadType)){if(e.length===1){b=e[0];b=b[1];if(b!==void 0)return b.name;else return i}b=e.filter(function(a){return c("bs_caml").i64_neq(a[0].contactId,f)});if(b.length===0){c("recoverableViolation")("No participants in thread","messenger_comet");return}b=b[0];var g=c("gkx")("1846003"),j=b[0].nickname;if(j!==void 0&&g)return j;g=b[1];if(g!==void 0)return g.name;else return i}if(e.length===1){j=e[0];b=j[1];if(b!==void 0)return b.name;else return}g=e.filter(function(a){return c("bs_caml").i64_neq(a[0].contactId,f)}).slice(0,7).sort(function(a,b){b=b[1];a=a[1];if(a!==void 0)if(b!==void 0)return b.rank-a.rank;else return 0;else return 0}).map(function(b){var f=b[1];f!==void 0&&c("bs_caml").i64_eq(f.contactType,d("LSContactType.bs").page)&&!c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").isCommunityBotPage,f),!1)&&!c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").pagePlatformBot,f),!1)&&c("FBLogger")("messenger_browser_clients").debug("page participant in group");f=c("gkx")("1846003");var a=b[0].nickname;if(a!==void 0&&f)return a;f=b[1];if(f===void 0)return i;a=f.firstName;if(a!==void 0&&e.length>2)return a;else return f.name});e.length>7&&g.push(h._("__JHASH__p-5gRHawKL0__JHASH__"));return c("intlList")(g,a,c("intlList").DELIMITERS.COMMA).toString()}function a(a,b,e){var f=d("MWPActor.bs").useActor(),g=b.threadName;if(g!==void 0)return g;g=j(c("bs_caml_option").some(a),b,e,f);if(g!==void 0)return g;else return""}e=j;f=a;b=8;g.computeThreadTitle=e;g.useThreadTitle=f;g.amountToFetchForTitle=b}),98);
__d("MWV2GetOtherUser.bs",["LSMessagingThreadTypeUtil","MWPActor.bs","bs_caml","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return;if(b.length===1){a=b[0];var f=a[1];if(f!==void 0)return[a[0],f];else return}a=b.filter(function(a){return c("bs_caml").i64_neq(a[0].contactId,e)});if(a.length===0){c("recoverableViolation")("No participants in thread","messenger_comet");return}f=a[0];b=f[1];if(b!==void 0)return[f[0],b]}function a(a,b){var c=d("MWPActor.bs").useActor();return h(a,b,c)}b=h;e=a;g.getOtherUser=b;g.useOtherUser=e}),98);
__d("LSThreadTitle.bs",["CometTextWithEntities.react","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWChatTextTransform.bs","MWPActor.bs","MWPGetThreadTitle.bs","MWV2GetOtherUser.bs","ReQL.bs","ReQLSuspense","bs_caml_option","bs_curry","intlList","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.actorIDOverride,e=a.thread,f=a.transforms;a=a.wrapOutput;var g=d("MWPActor.bs").useActor(),i=c("useReStore")();b=b!==void 0?b:g;var j=d("ReQLSuspense").useArray(function(){return d("ReQL.bs").take(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(i.table("participants")),{hd:e.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(i.table("contacts"))),8)},[e.threadKey]);b=d("MWPGetThreadTitle.bs").computeThreadTitle(c("bs_caml_option").some(c("intlList").CONJUNCTIONS.NONE),e,j,b);if(b===void 0)return"";b=h.jsx(c("CometTextWithEntities.react"),{text:b,transforms:f});f=d("MWV2GetOtherUser.bs").getOtherUser(e,j,g);if(a!==void 0&&f!==void 0&&d("LSMessagingThreadTypeUtil").isOneToOne(e.threadType))return c("bs_curry")._2(a,f[1],b);else return b}function a(a){var b=a.transforms,e=a.actorIDOverride,f=a.thread;a=a.wrapOutput;b=b!==void 0?b:d("MWChatTextTransform.bs").epdTextTransforms;var g=f.threadName;if(g!==void 0)return h.jsx(c("CometTextWithEntities.react"),{text:g,transforms:b});if(c("MWCMIsAnyCMThread")(f.threadType))return null;g={thread:f,transforms:b};a!==void 0&&(g.wrapOutput=c("bs_caml_option").valFromOption(a));e!==void 0&&(g.actorIDOverride=c("bs_caml_option").valFromOption(e));return h.jsx(i,babelHelpers["extends"]({},g))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWIsXacGroupThread.bs",["LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").addXacUsers,a)}b=a;g.check=b}),98);
__d("LSContactGender.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.unknown=a;f.female=c;f.male=d;f.neuter=e}),null);
__d("LSContactIdType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.unknown=a;f.fbid=c;f.smsLocalId=d}),null);
__d("LSContactViewerRelationship.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.unknown=a;f.notContact=c;f.contactOfViewer=d;f.facebookFriend=e;f.softContact=b}),null);
__d("LSContactWorkForeignEntityType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.unknown=a;f.foreign=c;f.notForeign=d;f.notForeignLimited=e}),null);
__d("MWV2EnsureThatChatTabExists.bs",["LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSDatabaseType.bs","LSFactory","LSMessagingThreadTypeUtil","LSVerifyContactRowExists","LSVerifyThreadRowExists","Promise","bs_curry","cr:3989","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,e){var f=c("useReStore")();h.useEffect(function(){var g=function(){if(d("LSMessagingThreadTypeUtil").isOneToOne(e))return f.runInTransaction(function(b){return c("LSVerifyContactRowExists")(a,d("LSContactIdType.bs").fbid,void 0,void 0,d("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,d("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,d("LSAuthorityLevel.bs").clientPartial,void 0,void 0,d("LSContactWorkForeignEntityType.bs").unknown,d("LSContactGender.bs").unknown,d("LSContactViewerRelationship.bs").unknown,void 0,c("LSFactory")(b))},"readwrite");else return b("Promise").resolve()};c("promiseDone")(g().then(function(){return!(b("cr:3989")==null)&&d("LSMessagingThreadTypeUtil").isSecure(e)?c("bs_curry")._2(b("cr:3989").call,f,a):f.runInTransaction(function(b){return c("LSVerifyThreadRowExists")(a,e,d("LSDatabaseType.bs").mailbox,c("LSFactory")(b))},"readwrite")}))},[f,JSON.stringify(a),JSON.stringify(e)])}g.useHook=a;g.mawVerifyExistingThreadExists=b("cr:3989")}),98);
__d("MWPColorUtils.bs",["bs_belt_Option","bs_caml_int64","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=c("bs_caml_int64").to_int32(a);var b=(a&16711680)>>>16,d=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(d)+e(a)))}function a(a,b,d){d=a.sort(function(a,b){return c("bs_caml_int64").to_int32(a.gradientIndex)-c("bs_caml_int64").to_int32(b.gradientIndex)|0}).map(function(a){return h(a.color)});a=d.length;if(a!==1){if(a!==0){a=c("bs_belt_Option").isSome(b);var e=[];b!==void 0&&e.push(d[0]+" calc(100vh - "+String(b.totalHeight)+"px + "+String(b.headerHeight)+"px)");for(var f=a?1:0,a=d.length-(a?2:1)|0;f<=a;++f)e.push(d[f]);b!==void 0&&(e.push(d[d.length-1|0]+" calc(100% - "+String(b.footerHeight)+"px)"),e.push(d[d.length-1|0]));f=e.join(", ");return"linear-gradient("+f+")"}c("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}c("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}b=h;d=a;g.int64ToHex=b;g.gradient=d}),98);
__d("MessengerThreadThemeGradientType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6];f.messageBubbleOutbound=a;f.messageBubbleInbound=c;f.threadviewBackground=d;f.deliveryReceipt=e;f.composerCircleButton=b;f.composerSendButton=g;f.emphasis=h}),null);
__d("MWPThreadTheme.bs",["LSInt64.bs","MWPColorUtils.bs","MessengerThreadThemeGradientType.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_belt_Array","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={accessibilityLabel:"Default Blue",fallbackColor:[-1,4278224127],fbid:[45690,4245347893],isDeprecated:!1,reverseGradiantsForRadial:!1,themeIdx:[0,94]},j=[],k={gradientColors:j,threadTheme:i};i={accessibilityLabel:"Default Blue",fallbackColor:[-1,4278224127],fbid:[45690,4245347893],isDeprecated:!1,reverseGradiantsForRadial:!1,themeIdx:[0,94]};j=j;function a(){}j={gradientColors:j,previewId:void 0,setPreviewId:a,threadTheme:i};var l=h.createContext(j);function m(a,b){var e=c("useReStore")(),f=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("thread_themes")),{hd:a,tl:0});else return d("SortedAsyncIterable.bs").empty()},[e,JSON.stringify(a)])),g=d("ReQLSubscription.bs").useArray(h.useMemo(function(){if(a!==void 0)return d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("gradient_colors")),{hd:a,tl:0}),function(a){return d("LSInt64.bs").equal(a.type_,d("MessengerThreadThemeGradientType.bs").messageBubbleOutbound)});else return d("SortedAsyncIterable.bs").empty()},[e,JSON.stringify(a)]));return h.useMemo(function(){if(f!==void 0)return{gradientColors:g,threadTheme:f};else return b},[f,g])}function b(a){var b=a.children,c=a.themeFbid;a=a.defaultTheme;a=a!==void 0?a:k;var d=h.useState(function(){}),e=d[0],f=d[1];d=h.useMemo(function(){if(e!==void 0)return e;else return c},[JSON.stringify(c),e]);var g=m(d,a);d=h.useMemo(function(){return{gradientColors:g.gradientColors,previewId:e,setPreviewId:f,threadTheme:g.threadTheme}},[g,f,JSON.stringify(e)]);return h.createElement(l.Provider,{children:b,value:d})}function e(){return h.useContext(l)}function f(){var a=h.useContext(l),b=c("bs_belt_Array").get(a.gradientColors,0);if(b!==void 0)return d("MWPColorUtils.bs").int64ToHex(b.color);else return d("MWPColorUtils.bs").int64ToHex(a.threadTheme.fallbackColor)}function n(){var a=h.useContext(l),b=a.gradientColors;b=c("bs_belt_Array").get(b,b.length-1|0);if(b!==void 0)return d("MWPColorUtils.bs").int64ToHex(b.color);else return d("MWPColorUtils.bs").int64ToHex(a.threadTheme.fallbackColor)}function o(a){return a.gradientColors.length>1}a=b;i=k;b=j;j=l;a=a;e=e;f=f;n=n;o=o;g.mwDefaultTheme=i;g.defaultContextValue=b;g.context=j;g.make=a;g.useHook=e;g.useTop=f;g.useBottom=n;g.isGradient=o}),98);
__d("LSMessageSendStatusV2.re",["LSMessageSendStatusV2.bs"],(function(a,b,c,d,e,f){c=(a=b("LSMessageSendStatusV2.bs")).none;f.none=c;d=a.sendingToServer;f.sendingToServer=d;e=a.serverReceived;f.serverReceived=e;b=a.nonRetriableError;f.nonRetriableError=b;c=a.retriableError;f.retriableError=c;d=a.sentOnly;f.sentOnly=d}),null);/*FB_PKG_DELIM*/
__d("LSMailboxTaskCompletionApiOnTaskInsertion",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.islc(b.db.table(232).fetch(),0,b.i64.to_float([0,1])),function(c){c=c.item;return b.db.table(233).add({taskId:a[0],notificationScopeKey:c.notificationScopeKey,notificationName:c.notificationName})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSIssueNewTaskWithExtraOperations",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.sp(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRemoveError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(6).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSDeleteThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],e],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.parentThreadKey,b.disappearingThreadKey],c[0]=d[0],c[1]=d[1],d)})},function(a){return b.ct(b.db.table(9).fetch([[[c[0]]],"parentThreadKeyLastActivityTimestampMs"])).then(function(a){return c[3]=a})},function(d){return a[1]&&b.i64.neq(c[0],[0,0])&&b.i64.eq(c[3],[0,1])?b.seq([function(d){return b.fe(b.db.table(9).fetch([[[a[0]],[c[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],e)?0:0}]):b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],e)?0:0}])}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSMoveThreadToArchivedFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?0:(c.item,b.fe(b.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({folderName:"",parentThreadKey:[-1,4294967286]})}))})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticFetchPendingGroupInvite",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=new c.Map(),d[0].set("link_hash",a[0]),d[0].set("image_width",a[1]),d[0].set("image_height",a[2]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTaskWithExtraOperations"),"fetch_pending_group_invite",[0,434],d[1],f,f,[0,0],[0,0],f,f,[0,0],f)},function(b){return c.db.table(235).put({linkHash:a[0],threadTitle:"",lastThreadActivityMs:[0,0],groupImageUrl:"",groupImageUrlFallback:"",groupImageUrlExpirationTimestampMs:[0,0],joinExplainerText:"",numberOfMembers:[0,0],isInApprovalQueue:!1,isSubscribed:!1,canJoin:!1,fbGroupDescription:"",communityImageUrl:"",communityImageUrlFallback:"",communityImageUrlExpirationTimestampMs:[0,0],linkJoinType:[0,1],fbGroupVisibility:[0,1],communityId:[0,0]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticRemoveThread",["LSDeleteThread","LSIssueNewTaskAndGetTaskID","LSMoveThreadToArchivedFolder"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[4]=b.syncGroup,c.i64.neq(d[4],f)?d[3]=d[4]:d[3]=[0,1],d[0]=d[3])})},function(d){return c.i64.eq(a[1],[0,1])?c.sp(b("LSMoveThreadToArchivedFolder"),a[0]):c.sp(b("LSDeleteThread"),a[0],!1)},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[0]),[0,146],"",f,f,[0,0],[0,0],d[0],f,[0,0]).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[2],threadKey:a[0],removeType:a[1],syncGroup:d[0]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MDSHeadlineWithAddOn.react",["BaseRow.react","BaseRowItem.react","Locale","MDSText.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={addOn:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginStart:"x1i64zmx",$$css:!0},nonBreakingSpace:{visibility:"xlshs6z",width:"xnalus7",$$css:!0},textFlexFixForIE:{flexBasis:"xdl72j9",$$css:!0}},j={ltr:{direction:"xzt5al7",$$css:!0},rtl:{direction:"xzyj77d",$$css:!0}},k=c("gkx")("1299319");function a(a,b){var e=a.addOn,f=a.children,g=a.color,l=a.headlineRef,m=a.isSemanticHeading,n=a.numberOfLines;a=a.type;return h.jsx(c("MDSText.react"),{isSemanticHeading:!1,ref:b,type:a,children:h.jsxs(c("BaseRow.react"),{verticalAlign:"center",xstyle:j[d("Locale").isRTL()?"rtl":"ltr"],children:[h.jsx(c("BaseRowItem.react"),{expanding:!0,xstyle:k&&i.textFlexFixForIE,children:h.jsx(c("MDSText.react"),{color:g,isSemanticHeading:m,numberOfLines:n,ref:l,type:a,children:f})}),h.jsx(c("BaseRowItem.react"),{verticalAlign:"top",xstyle:i.addOn,children:h.jsxs(c("BaseRow.react"),{verticalAlign:"center",children:[h.jsx(c("BaseRowItem.react"),{xstyle:i.nonBreakingSpace,children:"\xa0"}),h.jsx(c("BaseRowItem.react"),{children:h.jsx(c("BaseRow.react"),{children:e})})]})})]})})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("getMDSTextHierarchyStyle",["memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";a=c("memoizeWithArgs")(function(a,b){switch(a){case 1:return{bodyType:"body1",headlineType:"headlineEmphasized1",metaType:"meta1"};case 2:return{bodyType:"body2",headlineType:"headlineEmphasized2",metaType:"meta2"};case 3:return{bodyType:"body3",headlineType:b===!0?"headline3":"headlineEmphasized3",metaType:"meta3"};default:case 4:return{bodyType:"body4",headlineType:b===!0?"headline4":"headlineEmphasized4",metaType:"meta4"};case"entityHeader1":return{bodyType:"body2",headlineType:"entityHeaderHeadline1",metaType:"entityHeaderMeta1"};case"entityHeader2":return{bodyType:"body2",headlineType:"entityHeaderHeadline2",metaType:"entityHeaderMeta2"}}},function(a,b){return String(a)+(b===!0?"":"e")});g["default"]=a}),98);
__d("MDSTextPairing.react",["MDSHeadlineWithAddOn.react","MDSText.react","getMDSTextHierarchyStyle","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={item:{marginBottom:"xu06os2",marginTop:"x1ok221b",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0}},j={1:{marginBottom:"x11tup63",marginTop:"x16z1lm9",$$css:!0},2:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},entityHeader1:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},entityHeader2:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0}},k={1:{marginBottom:"xwoyzhm",marginTop:"x1rhet7l",$$css:!0},2:{marginBottom:"xzueoph",marginTop:"x1k70j0n",$$css:!0},entityHeader1:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0},entityHeader2:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0}};function a(a){var b=a.body,d=a.bodyColor;d=d===void 0?"primary":d;var e=a.bodyLineLimit,f=a.bodyRef,g=a.headline,l=a.headlineAddOn,m=a.headlineColor;m=m===void 0?"primary":m;var n=a.headlineLineLimit,o=a.headlineRef,p=a.isSemanticHeading,q=a.level,r=a.meta,s=a.metaColor;s=s===void 0?"secondary":s;var t=a.metaLineLimit,u=a.metaLocation;u=u===void 0?"below":u;var v=a.metaRef,w=a.reduceEmphasis;w=w===void 0?!1:w;var x=a.testid;x=a.textAlign;a=x===void 0?"start":x;x=c("getMDSTextHierarchyStyle")(q,w);w=x.bodyType;var y=x.headlineType;x=x.metaType;var z=c("stylex")(i.item,k[q]);l=g!=null&&h.jsx("div",{className:z,children:l!=null?h.jsx(c("MDSHeadlineWithAddOn.react"),{addOn:l,color:m,headlineRef:o,isSemanticHeading:p,numberOfLines:n,type:y,children:g}):h.jsx(c("MDSText.react"),{align:a,color:m,isSemanticHeading:p,numberOfLines:n,ref:o,type:y,children:g})});m=r!=null&&h.jsx("div",{className:z,children:h.jsx(c("MDSText.react"),{align:a,color:s,isSemanticHeading:p,numberOfLines:t,ref:v,type:x,children:r})});return h.jsxs("div",{className:c("stylex")(i.root,j[q]),"data-testid":void 0,children:[u==="above"&&m,l,b!=null&&h.jsx("div",{className:z,children:h.jsx(c("MDSText.react"),{align:a,color:d,isSemanticHeading:!1,numberOfLines:e,ref:f,type:w,children:b})}),u==="below"&&m]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerDesktopPresenceInfo",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h="__fb_messenger_desktop_presence_info";function a(){var a=c("WebStorage").getLocalStorageForRead();return JSON.parse((a=a==null?void 0:a.getItem(h))!=null?a:"null")}function b(){var a=c("WebStorage").getLocalStorage();if(a==null){c("FBLogger")("desktop_messenger_deeplink_presence","local_storage_not_found").warn("Messenger Desktop Presence Token cannot be created if local storage doesn't exist");return null}var b={lastActiveTimestamp:Date.now()};a=c("WebStorage").setItemGuarded(a,h,JSON.stringify(b));a!=null&&c("FBLogger")("desktop_messenger_deeplink_presence","create_presence_info_error").warn(a.toString());return b}g.getPresenceInfo=a;g.createPresenceInfo=b}),98);
__d("MessengerDesktopLocalServerRequest",["ConstUriUtils","MessengerDesktopPresenceInfo"],(function(a,b,c,d,e,f,g){"use strict";var h=2e3;a=function(){function a(a,b){var c=this;this.$1=function(){c.request.status===200&&d("MessengerDesktopPresenceInfo").createPresenceInfo()};b="http://localhost:"+b+a;this.uri=(a=(a=d("ConstUriUtils").getUri(b))==null?void 0:a.toString())!=null?a:b;this.request=new XMLHttpRequest();this.request.timeout=h;this.request.onloadend=this.$1}var b=a.prototype;b.setOnLoadEndHandler=function(a){var b=this;this.request.onloadend=function(){b.$1(),a(b.request.status)};return this};b.setErrorHandler=function(a){var b=this;this.request.onerror=function(){b.request.status===500&&d("MessengerDesktopPresenceInfo").createPresenceInfo(),a(b.request.status)};return this};b.setTimeoutHandler=function(a){this.request.ontimeout=a;return this};b.send=function(){this.request.open("GET",this.uri),this.request.send()};return a}();g["default"]=a}),98);
__d("MessengerDesktopPromoFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744027");b=d("FalcoLoggerInternal").create("messenger_desktop_promo",a);e=b;g["default"]=e}),98);
__d("MessengerDesktopPromoEventLogger",["MessengerDesktopPromoFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return c("MessengerDesktopPromoFalcoEvent").log(function(){return a})};g.log=a}),98);
__d("XMessengerDotComDesktopControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/",Object.freeze({start_download:!1,m:!1}),new Set(["m"]));b=a;g["default"]=b}),98);
__d("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/launch/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MessengerDesktopDeepLinkUtils",["fbt","MessengerDesktopLocalServerRequest","MessengerDesktopPresenceInfo","MessengerDesktopPromoEventLogger","ODS","Promise","UserAgent","XMessengerDotComDesktopControllerRouteBuilder","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","gkx","promiseDone","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=i.useCallback,k=i.useEffect,l=i.useRef,m=i.useState,n="messenger",o=3103,p=1e3*60*60*24*28,q="https://www.messenger.com/desktop/";function a(a){return n+"://room?joinurl="+a}function r(a){return new(b("Promise"))(function(b){new(c("MessengerDesktopLocalServerRequest"))("/ping",a).setOnLoadEndHandler(function(a){return b(a)}).setTimeoutHandler(function(a){return b(!1)}).setErrorHandler(function(a){return b(!1)}).send()})}function e(){var a=d("MessengerDesktopPresenceInfo").getPresenceInfo();return a==null?!1:Date.now()-a.lastActiveTimestamp<=p}function s(){var a=c("gkx")("655"),b=c("gkx")("4716");if(b){b=c("gkx")("4687");return a||b}else return a}function f(){return c("gkx")("5542")}function t(){if(c("gkx")("1987549")||!s())return!1;switch(w()){case"Windows":return c("qex")._("167")===!0;case"Mac":return c("gkx")("297");default:return!1}}function u(){var a=m(!1),b=a[0];a=a[1];var e=m(!1),f=e[0],g=e[1];if(w()!=="Windows")return!1;if(c("gkx")("1987549")||!s())return!1;if(c("qex")._("167")!==!0)return!1;if(b)return f;d("ODS").bumpEntityKey(3303,"dapp_non_calling_entrypoints","initiating_dapp_call");a(!0);c("promiseDone")(r(o).then(function(a){if(!a||a!==200){a||d("ODS").bumpEntityKey(3303,"dapp_non_calling_entrypoints","localhost_did_not_respond");a===500&&d("ODS").bumpEntityKey(3303,"dapp_non_calling_entrypoints","localhost_responded_but_crashed");return}g(!0)}));return f}var v={openMessengerForDesktop:h._("__JHASH__XxNs-oGUpT___JHASH__"),openMessengerForMac:h._("__JHASH__tlUlAHzvu6R__JHASH__"),openMessengerForWindows:h._("__JHASH__3NgfF3NHofM__JHASH__"),tryMessengerForDesktop:h._("__JHASH___P6bnngRU_E__JHASH__"),tryMessengerForMac:h._("__JHASH__3Fm9-zbx5PN__JHASH__"),tryMessengerForWindows:h._("__JHASH__56Y2Um9FCTk__JHASH__")};function w(){if(c("UserAgent").isPlatform("Windows"))return"Windows";else if(c("UserAgent").isPlatform("Mac OS X"))return"Mac";return"Desktop"}function x(a){return(a=c("XMessengerDotComDesktopControllerRouteBuilder").buildUri({funnel_session_id:a}).setDomain("www.messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString()}function y(a){return(a=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri(a).setDomain("messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString()}function z(){var a=s()?"open":"try",b=w();return v[a+"MessengerFor"+b]}function A(a){var b;return s()?(b=y(a))!=null?b:q:(b=x(a.funnel_session_id))!=null?b:q}function B(a,b){var c=l(!1);k(function(){c.current||(c.current=!0,d("MessengerDesktopPromoEventLogger").log({event:"Impression",funnelSessionId:a,location:b}))},[a,b]);return j(function(){d("MessengerDesktopPromoEventLogger").log({event:"Click",funnelSessionId:a,location:b})},[a,b])}g.PORT=o;g.getRoomDeepLink=a;g.isMessengerDesktopRunning=r;g.isMessengerDesktopProbablyInstalled=e;g.isMessengerDesktopDeeplinkEligible=s;g.isMessengerDesktopPromoEligible=f;g.isMessengerDesktopDeeplinkEnabled=t;g.useMessengerDesktopWindowsDeeplinkSwitcher=u;g.getDeeplinkButtonLabel=z;g.getDeeplinkButtonURI=A;g.useMessengerDesktopPromoEventLogger=B}),98);
__d("usePublicChatShortlinkCallback",["ConstUriUtils","I64","JSResourceForInteraction","LSFactory","LSMessengerGroupLinkJoinType.re","LSOptimisticFetchPendingGroupInvite","ReQL","react","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=c("JSResourceForInteraction")("MWJoinPublicChatDialog.react").__setRef("usePublicChatShortlinkCallback");function l(a){a=d("ConstUriUtils").getUri(a);if(a==null?void 0:a.isSubdomainOfDomain("m.me")){a=a==null?void 0:(a=a.getPath())==null?void 0:a.split("/").filter(function(a){return a!==""});return(a==null?void 0:a.length)===2&&a[0]==="j"?a[1]:null}return null}function a(a){var b=a.onSuccess,e=j(!1),f=j(),g=j(),m=c("useReStore")();a=c("useCometLazyDialog")(k);var n=a[0];i(function(){return function(){f.current==null?void 0:f.current(),g.current==null?void 0:g.current()}},[]);return h(function(a){var h=l(a);h!=null&&(m.runInTransaction(function(a){return c("LSOptimisticFetchPendingGroupInvite")(h,void 0,void 0,c("LSFactory")(a))},"readwrite"),f.current=d("ReQL").fromTableAscending(m.table("group_invitations_pending")).getKeyRange(h).subscribe(function(a,i){if(i.operation!=="delete"){var j=i.value;if((j==null?void 0:j.isSubscribed)&&(j==null?void 0:j.threadId)!=null){b==null?void 0:b(d("I64").to_string(j.threadId));return}else if((j==null?void 0:j.linkJoinType)!=null&&d("I64").equal(j==null?void 0:j.linkJoinType,c("LSMessengerGroupLinkJoinType.re").discoverablePublicBroadcastChat)&&(j==null?void 0:j.threadId)!=null){b==null?void 0:b(d("I64").to_string(j==null?void 0:j.threadId));return}(j==null?void 0:j.threadTitle.length)>0&&!e.current&&(e.current=!0,n({linkHash:h},function(){e.current=!1}),f.current==null?void 0:f.current(),Boolean(j.needsAdminApprovalForNewParticipant)||(g.current=d("ReQL").fromTableAscending(m.table("threads")).subscribe(function(a,c){c.operation!=="delete"&&(c.value.threadName===j.threadTitle&&(b==null?void 0:b(d("I64").to_string(c.value.threadKey)),g.current==null?void 0:g.current()))})))}}))},[m,n,b])}g["default"]=a}),98);
__d("MWThreadKey.bs",["bs_int64","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext();function a(a){var b=a.children,d=a.id;a=c("bs_int64").to_string(d);var e=h.useMemo(function(){return d},[a]),f=h.useContext(i);if(f!==void 0)throw c("unrecoverableViolation")("You can't nest MWThreadKey in another MWThreadKey. This will cause SEVs as things might think they're in the wrong thread","messenger_web_product");return h.jsx(i.Provider,{children:b,value:e},a)}function b(){return h.useContext(i)}function e(){var a=h.useContext(i);if(a!==void 0)return a;throw c("unrecoverableViolation")("Tried to get a thread key when there was none","messenger_web_product")}f=a;g.useIdMemoized=b;g.useIdMemoizedExn=e;g.make=f}),98);
__d("useMWLSMarkThreadAsRead",["I64","LSFactory","LSOptimisticMarkThreadReadV2","MWThreadKey.bs","ReQL","ServerTime","asyncToGeneratorRuntime","cr:2580","cr:2865","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=(e=b("cr:2865"))!=null?e:function(){return{}};function a(a){var e=c("useReStore")(),f=d("MWThreadKey.bs").useIdMemoizedExn(),g=i(),j=g.setIsPassive;return h(function(){j!=null&&j(!1),c("promiseDone")(e.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(f)));if(g==null)return;var h=g.lastActivityTimestampMs,i=g.lastReadWatermarkTimestampMs;g=g.threadType;if(d("I64").gt(h,i)){b("cr:2580")&&a!=null&&b("cr:2580")({threadKey:f,threadType:g},"seen_receipt",a);return c("LSOptimisticMarkThreadReadV2")(f,d("I64").of_float(d("ServerTime").getMillis()),c("LSFactory")(e))}});return function(a){return e.apply(this,arguments)}}(),"readwrite"))},[a,j,f,e])}g["default"]=a}),98);
__d("MWLSThreadIsPinned.bs",["MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useReStore")(),b=d("MWThreadKey.bs").useIdMemoizedExn();return c("bs_belt_Option").mapWithDefault(d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("pinned_threads")),{hd:b,tl:0})},[a,b])),!1,function(){return!0})}g.useHook=a}),98);
__d("ChatMuteStore.bs",[],(function(a,b,c,d,e,f){"use strict";b={FifteenMinutes:9e5,OneHour:36e5,EightHours:288e5,OneDay:864e5,Indefinitely:-1};c={Message:"messageMuteScope",Call:"callMuteScope",Both:"bothMuteScope"};var g={Duration:"setMuteDuration",Scope:"setMuteScope"};d={type:c.Message};e={type:c.Call};var h={type:c.Both},i={duration:b.FifteenMinutes,scope:d};function a(a,b){return b.type===g.Scope?{duration:a.duration,scope:b.scope}:{duration:b.duration,scope:a.scope}}f.ChatMuteOptions=b;f.ChatMuteScopeTypes=c;f.SetMuteActionTypes=g;f.message=d;f.call=e;f.both=h;f.initialState=i;f.reducer=a}),66);
__d("MessengerMuteUtils.bs",["fbt","ChatMuteStore.bs","DateStrings","MWCMThreadTypes.react","bs_caml_int64","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){if(a<=0){if(a===d("ChatMuteStore.bs").ChatMuteOptions.Indefinitely)return h._("__JHASH__Qqz4BaNxhpZ__JHASH__");return}if(a<86401)return;var b=new Date(a*1e3).getDay(),e=b===new Date().getDay(),f=b===new Date().getDay()+1;if(f)return h._("__JHASH__oudW1xi6NTV__JHASH__",[h._param("time",c("formatDate")(a,"g:ia"))]);return e?h._("__JHASH__so9VkYDJtTA__JHASH__",[h._param("time",c("formatDate")(a,"g:ia"))]):h._("__JHASH__8p1YQCn8sSf__JHASH__",[h._param("time",c("formatDate")(a,"g:ia")),h._param("weekday name",d("DateStrings").getWeekdayName(b))])}f=h._("__JHASH__mE99UrtEjlr__JHASH__");var i=h._("__JHASH__UKvmKpgy_Wn__JHASH__");function b(a,b){if(a===void 0)return h._("__JHASH__f_P00nfKfsd__JHASH__");switch(a.type){case"messageMuteScope":return h._("__JHASH__wGzDdDLdmM0__JHASH__");case"callMuteScope":return h._("__JHASH__aevOqU7QNLm__JHASH__");case"bothMuteScope":return h._("__JHASH__e9DezvV_scv__JHASH__")}}function e(a){var b=a.muteCallsExpireTimeMs,e=a.muteExpireTimeMs;if(d("MWCMThreadTypes.react").isUnjoinedCMThread(a.threadType))return 0;a=Math.min(c("bs_caml_int64").to_float(e),c("bs_caml_int64").to_float(b));e=Math.max(c("bs_caml_int64").to_float(e),c("bs_caml_int64").to_float(b));if(a===-1)return-1;else return e}var j=0,k=-1;j=j;k=k;e=e;g.mutedUntilLabel=a;g.chatNotificationActionLabel=f;g.manageNotificationsMenuItemLabel=i;g.muteDialogTitle=b;g.unmutedMs=j;g.mutedPermanentlyMs=k;g.calcMuteUntilMs=e}),98);
__d("LSRtcCallState.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.noOngoingCall=a;f.audioGroupCall=c;f.videoGroupCall=d;f.video1to1Call=e;f.audio1to1Call=b}),null);
__d("RTCCallState.bs",["LSRtcCallState.bs","MessagingThreadType.bs","bs_caml","bs_int64","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a===d("MessagingThreadType.bs").group)return!0;else return a===d("MessagingThreadType.bs").tincanGroupDisappearing}function a(a,b){if(c("bs_caml").i64_eq(a,d("LSRtcCallState.bs").noOngoingCall))return"NO_ONGOING_CALL";else if(c("bs_caml").i64_eq(a,d("LSRtcCallState.bs").audioGroupCall))if(h(b))return"AUDIO_GROUP_CALL";else return"AUDIO_1TO1_CALL";else if(c("bs_caml").i64_eq(a,d("LSRtcCallState.bs").videoGroupCall))if(h(b))return"VIDEO_GROUP_CALL";else return"VIDEO_1TO1_CALL";else{c("recoverableViolation")("Unknown RTCCallState: "+(c("bs_int64").to_string(a)+("L and threadType combination: "+(c("bs_int64").to_string(b)+"L"))),"messenger_web_product");return"NO_ONGOING_CALL"}}g.ofLsRtcCallState=a}),98);
__d("MWMessageDeliveryStatus",["fbt","I64","LSMessageSendStatusV2.re","MercuryTimestamp","getFBTSafeGenderFromGenderConst","intlList","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){if(a.length!==1)return{heads:a,type:"MultipleSeenHeads"};a=a[0];return{head:a,type:"SingleSeenHead"}}function b(a,b){return{delivered:b,heads:a,type:"DeliveredAndRead"}}function e(a){return{count:a,type:"SeenCount"}}function i(a){return a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",d("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])}function j(a,b){if(a.length===0)return"";if(b)return h._("__JHASH__xJFzJjmgrii__JHASH__").toString();b=a.map(function(a){return h._("__JHASH__anoMlIo0TA0__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])});a=c("intlList")(b,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__rtgGiNEWfHK__JHASH__",[h._param("full name",a)]).toString()}function k(a){a=c("intlSummarizeNumber")(a);return h._("__JHASH___KIWePVuuHb__JHASH__",[h._param("seen count",a)]).toString()}var l={delivered:h._("__JHASH__DGTdcv4yxEO__JHASH__"),error:h._("__JHASH__HWY7OcPbAjW__JHASH__"),loading:h._("__JHASH__ge1hq8iGlfw__JHASH__"),retriableError:h._("__JHASH__VG5ajSXV9DG__JHASH__"),sending:h._("__JHASH__-KPam8KdjJ8__JHASH__"),sent:h._("__JHASH__FdnMQ3ayYbi__JHASH__")};function f(a){switch(a.type){case"Sending":return l.sending;case"Sent":case"Delivered":return l.sent;case"Error":return l.error;case"SingleSeenHead":return i(a.head);case"NoneStatus":case"MultipleSeenHeads":return"";case"DeliveredAndRead":return j(a.heads,a.delivered);case"SeenCount":return k(a.count);case"Loading":return l.loading;case"RetriableError":return l.retriableError}}function m(a){switch(a.type){case"Sending":return l.sending;case"Sent":return l.sent;case"Delivered":return l.delivered;case"Error":return l.error;case"SingleSeenHead":return i(a.head);case"DeliveredAndRead":return j(a.heads,a.delivered);default:return""}}function n(a){if(d("I64").equal(a,d("LSMessageSendStatusV2.re").sendingToServer))return{type:"Sending"};else if(d("I64").equal(a,d("LSMessageSendStatusV2.re").serverReceived)||d("I64").equal(a,d("LSMessageSendStatusV2.re").sentOnly))return{type:"Sent"};else if(d("I64").equal(a,d("LSMessageSendStatusV2.re").nonRetriableError)||d("I64").equal(a,d("LSMessageSendStatusV2.re").retriableError))return{type:"Error"};else return{type:"NoneStatus"}}function o(a,b,c){var e=n(a.sendStatusV2);if(d("I64").equal(a.sendStatusV2,d("LSMessageSendStatusV2.re").nonRetriableError)||d("I64").equal(a.sendStatusV2,d("LSMessageSendStatusV2.re").retriableError)||d("I64").equal(a.sendStatusV2,d("LSMessageSendStatusV2.re").sendingToServer))return e;else if(!c&&d("I64").equal(a.sendStatusV2,d("LSMessageSendStatusV2.re").serverReceived))return{type:"NoneStatus"};else if(d("I64").ge(b,a.timestampMs))return{type:"Delivered"};else return e}function p(a){return a.type==="SingleSeenHead"||a.type==="Sending"}g.seenHead=a;g.deliveredAndRead=b;g.seenCount=e;g.getSingleSeenHead=i;g.Titles=l;g.getBroadcastStatusTitle=f;g.getStatusTitle=m;g.getFromSendStatus=n;g.getDeliveryStatusForMessageSentByYou=o;g.isSendingOrSeenHead=p}),98);
__d("MWThreadListSupportedThreadTypes.bs",["MAWGating","MessagingThreadType.bs","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=[d("MessagingThreadType.bs").oneToOne,d("MessagingThreadType.bs").group,d("MessagingThreadType.bs").marketplace,d("MessagingThreadType.bs").folder,d("MessagingThreadType.bs").room].concat(d("MAWGating").isArmadillo()?[d("MessagingThreadType.bs").secureMessageOverWaOneToOne,d("MessagingThreadType.bs").secureMessageOverWaGroup]:[],c("gkx")("1968579")?[d("MessagingThreadType.bs").communityGroup,d("MessagingThreadType.bs").communityGroupUnjoined]:[],c("gkx")("6970")?[d("MessagingThreadType.bs").discoverablePublicChat]:[],c("gkx")("6661")?[d("MessagingThreadType.bs").discoverablePublicChatV2]:[],c("gkx")("6996")?[d("MessagingThreadType.bs").discoverablePublicBroadcastChat]:[]);g.supportedThreadTypes=a}),98);
__d("MAWLoadingStateOutstandingOfflineQueueSelector",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=a.offlineQueueCount;a=a.offlineQueueSyncComplete;return b>0&&!a};f.outstandingOfflineQueueSelector=a}),66);
__d("useMAWOfflineQueueLoadingIndicator",["MAWLoadingStateOutstandingOfflineQueueSelector","MAWStateContext.react","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=!1);var b=c("useCometRouterState")(),e=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateOutstandingOfflineQueueSelector").outstandingOfflineQueueSelector);b=b==null?void 0:b.main.route.tabKey;return e&&(b==="messenger"||!a)}g["default"]=a}),98);
__d("MWPThreadIsPage.bs",["LSContactType.bs","MWPActor.bs","ReQL.bs","ReQLSuspense","bs_caml","bs_caml_option","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext();function a(a){var b=a.children,e=a.threadKey,f=c("useReStore")(),g=d("MWPActor.bs").useActor();a=d("ReQLSuspense").useFirst(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("participants")),{hd:e,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,g)}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("contacts")),{hd:a.contactId,tl:0}))})},[f,e,g]);if(a!==void 0){a=c("bs_caml_option").valFromOption(a);a=a!==void 0?c("bs_caml").i64_eq(a.contactType,d("LSContactType.bs").page):!1}else a=!1;return h.createElement(i.Provider,{children:b,value:a})}function b(){var a=h.useContext(i);if(a!==void 0)return a;else{c("recoverableViolation")("Using hook useIsPage in a place where we didn't include the context","messenger_web_product");return!1}}e=a;g.useIsPage=b;g.make=e}),98);
__d("useOpenThreadAfterJoin",["CurrentEnvironment","MWLSThreadDisplayContext","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","useCometRouterDispatcher","useMWChatOpenTabForGroup"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterDispatcher")(),b=c("useMWChatOpenTabForGroup")("jewel"),e=b[0];b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return b==="ChatTab"?function(a){e(a)}:function(b){var d;c("CurrentEnvironment").messengerdotcom?d=c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({thread_key:b}):d=c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:b});a==null?void 0:a.go(d,{})}}g["default"]=a}),98);
__d("MWPThreadsForThreadList.bs",["ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(e!==void 0){a=d("ReQL.bs").bounds(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")),{hd:b,tl:0}),{NAME:"greaterThan",VAL:{hd:c("bs_caml_int64").zero,tl:0}});b=e.minLastActivityTimestampMs;e=e.maxLastActivityTimestampMs;b=c("bs_caml").i64_neq(b,c("bs_caml_int64").zero)&&c("bs_caml").i64_neq(b,c("bs_caml_int64").one)?b:void 0;e=c("bs_caml").i64_neq(e,c("bs_caml_int64").zero)&&c("bs_caml").i64_neq(e,c("bs_caml_int64").one)?e:void 0;if(b!==void 0)if(e!==void 0)return d("ReQL.bs").bounds(a,{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:b,tl:0}},{NAME:"lessThanOrEqual",VAL:{hd:e,tl:0}}]});else return d("ReQL.bs").bounds(a,{NAME:"greaterThanOrEqual",VAL:{hd:b,tl:0}});else if(e!==void 0)return d("ReQL.bs").bounds(a,{NAME:"lessThanOrEqual",VAL:{hd:e,tl:0}});else return a}else return d("SortedAsyncIterable.bs").empty()}b=a;g.createIterable=b}),98);
__d("CometCardedDialogLoadingState.re",["CometCardedDialogLoadingStateLegacy.react"],(function(a,b,c,d,e,f,g){g.makeTypeChecked=c("CometCardedDialogLoadingStateLegacy.react"),g.make=c("CometCardedDialogLoadingStateLegacy.react")}),98);
__d("WebStorage.bs",["WebStorage","bs_caml_option"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("WebStorage").getLocalStorage()}function b(){return c("WebStorage").getSessionStorage()}function d(){return c("bs_caml_option").nullable_to_opt(c("WebStorage").getLocalStorage())}function e(){return c("bs_caml_option").nullable_to_opt(c("WebStorage").getSessionStorage())}function f(a,b,d){return c("WebStorage").setItemGuarded(a,b,d)}g.getLocalStorageExternal=a;g.getSessionStorageExternal=b;g.getLocalStorage=d;g.getSessionStorage=e;g.setItemGuarded=f}),98);
__d("CommunityMessagingEnableState.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];b=[0,5];f.enabled=a;f.disableRequested=c;f.disabling=d;f.disabled=e;f.disableFailed=b}),null);
__d("LSContactBlockedByViewerStatus.re",["LSContactBlockedByViewerStatus.bs"],(function(a,b,c,d,e,f){a=b("LSContactBlockedByViewerStatus.bs").unblocked;f.unblocked=a;c=b("LSContactBlockedByViewerStatus.bs").messageBlocked;f.messageBlocked=c;d=b("LSContactBlockedByViewerStatus.bs").fullyBlocked;f.fullyBlocked=d}),null);
__d("LSThreadCapabilityBitOffset.re",["LSThreadCapabilityBitOffset.bs"],(function(a,b,c,d,e,f){c=(a=b("LSThreadCapabilityBitOffset.bs")).payment;f.payment=c;d=a.camera;f.camera=d;e=a.mediaPicker;f.mediaPicker=e;b=a.sticker;f.sticker=b;c=a.gif;f.gif=c;d=a.goToSecretConversation;f.goToSecretConversation=d;e=a.colorCustomization;f.colorCustomization=e;b=a.emojiCustomization;f.emojiCustomization=b;c=a.threadDetailsProfileButton;f.threadDetailsProfileButton=c;d=a.nicknames;f.nicknames=d;e=a.block;f.block=e;b=a.calibra;f.calibra=b;c=a.messengerKidsManageKidAccount;f.messengerKidsManageKidAccount=c;d=a.audioClips;f.audioClips=d;e=a.sharedMedia;f.sharedMedia=e;b=a.blockGroupMember;f.blockGroupMember=b;c=a.feedbackAndReport;f.feedbackAndReport=c;d=a.reactions;f.reactions=d;e=a.muteThread;f.muteThread=e;b=a.seenHeads;f.seenHeads=b;c=a.messageRequestComposerBanner;f.messageRequestComposerBanner=c;d=a.inThreadProfileButton;f.inThreadProfileButton=d;e=a.threadDetails;f.threadDetails=e;b=a.rtcVideoCall;f.rtcVideoCall=b;c=a.rtcVoiceCall;f.rtcVoiceCall=c;d=a.memberList;f.memberList=d;e=a.addMember;f.addMember=e;b=a.leaveThread;f.leaveThread=b;c=a.blockedUserInterstitial;f.blockedUserInterstitial=c;d=a.optimisticThreadFeedbackAndReport;f.optimisticThreadFeedbackAndReport=d;e=a.locationSharing;f.locationSharing=e;b=a.ignoreMessages;f.ignoreMessages=b;c=a.focusMode;f.focusMode=c;d=a.searchInConversation;f.searchInConversation=d;e=a.createGroup;f.createGroup=e;b=a.pollCreation;f.pollCreation=b;c=a.displayActorTypeInThreadViewHeader;f.displayActorTypeInThreadViewHeader=c;d=a.disappearingMode;f.disappearingMode=d;e=a.forceOnePhaseSend;f.forceOnePhaseSend=e;b=a.splitMultiSendPhoto;f.splitMultiSendPhoto=b;c=a.threadDetailsIgProfileButton;f.threadDetailsIgProfileButton=c;d=a.messageReply;f.messageReply=d;e=a.mentions;f.mentions=e;b=a.gamesBotThread;f.gamesBotThread=b;c=a.disableLinks;f.disableLinks=c;d=a.blurMedia;f.blurMedia=d;e=a.disableContextBanner;f.disableContextBanner=e;b=a.topLevelSelfRemediation;f.topLevelSelfRemediation=b;c=a.disableUserControl;f.disableUserControl=c;d=a.threadDetailsShowUserName;f.threadDetailsShowUserName=d;e=a.disableMessageBubbleSwipe;f.disableMessageBubbleSwipe=e;b=a.ignoredThread;f.ignoredThread=b;c=a.pageBan;f.pageBan=c;d=a.customThreadNotificationSounds;f.customThreadNotificationSounds=d;e=a.roomCreation;f.roomCreation=e;b=a.filePicker;f.filePicker=b;c=a.joinRoom;f.joinRoom=c;d=a.selfieSticker;f.selfieSticker=d;e=a.powerUp;f.powerUp=e;b=a.threadNameCustomization;f.threadNameCustomization=b;c=a.threadPhotoCustomization;f.threadPhotoCustomization=c;d=a.structuredInput;f.structuredInput=d;e=a.suppressNullstateHeader;f.suppressNullstateHeader=e;b=a.archiveThread;f.archiveThread=b;c=a.unarchiveThread;f.unarchiveThread=c;d=a.memberRequest;f.memberRequest=d;e=a.businessInboxBan;f.businessInboxBan=e;b=a.ctmAdThreadWithAdWarning;f.ctmAdThreadWithAdWarning=b;c=a.businessInboxSavedReplies;f.businessInboxSavedReplies=c;d=a.gardenThreadSettings;f.gardenThreadSettings=d;e=a.marketplaceSavedReplies;f.marketplaceSavedReplies=e;b=a.carrierMessagingAddMember;f.carrierMessagingAddMember=b;c=a.phoneCall;f.phoneCall=c;d=a.threadDetailsDeleteThread;f.threadDetailsDeleteThread=d;e=a.ephemeralMessageTimer;f.ephemeralMessageTimer=e;b=a.messageExpiration;f.messageExpiration=b;c=a.messageSoundSettings;f.messageSoundSettings=c;d=a.ringtoneSoundSettings;f.ringtoneSoundSettings=d;e=a.hideFromActiveNow;f.hideFromActiveNow=e;b=a.magicWords;f.magicWords=b;c=a.threadDescriptionCustomization;f.threadDescriptionCustomization=c;d=a.businessInboxCatalog;f.businessInboxCatalog=d;e=a.adminRecallMessage;f.adminRecallMessage=e;b=a.shareContact;f.shareContact=b;c=a.restrictContact;f.restrictContact=c;d=a.soundBite;f.soundBite=d;e=a.mostLikelyToPollCreation;f.mostLikelyToPollCreation=e;b=a.reportChatToAdmin;f.reportChatToAdmin=b;c=a.canMarkReadOrUnread;f.canMarkReadOrUnread=c;d=a.businessTools;f.businessTools=d;e=a.removeMember;f.removeMember=e;b=a.groupGoToSecretConversation;f.groupGoToSecretConversation=b;c=a.reportMessageToAdmin;f.reportMessageToAdmin=c;d=a.manageMember;f.manageMember=d;e=a.sharedLinks;f.sharedLinks=e;b=a.sharedContent;f.sharedContent=b;c=a.addXacUsers;f.addXacUsers=c;d=a.businessOrderManagement;f.businessOrderManagement=d;e=a.rtcMarketplaceComposerBanner;f.rtcMarketplaceComposerBanner=e;b=a.isSellerRtcEligible;f.isSellerRtcEligible=b;c=a.isBuyerRtcEligible;f.isBuyerRtcEligible=c;d=a.messageLocalDelete;f.messageLocalDelete=d;e=a.messageForward;f.messageForward=e;b=a.isNfbEligible;f.isNfbEligible=b;c=a.messageRequestGroupInvite;f.messageRequestGroupInvite=c;d=a.pinnedMessagesV2;f.pinnedMessagesV2=d;e=a.businessAppointmentBooking;f.businessAppointmentBooking=e;b=a.threadDetailsShowChatInviteLink;f.threadDetailsShowChatInviteLink=b;c=a.hotlikeSticker;f.hotlikeSticker=c;d=a.isLearningSpaceChat;f.isLearningSpaceChat=d;e=a.audioCaptions;f.audioCaptions=e;b=a.commandSilent;f.commandSilent=b;c=a.marketplaceThreadCommerceProfileButton;f.marketplaceThreadCommerceProfileButton=c;d=a.ephemeralMedia;f.ephemeralMedia=d;e=a.commandEveryone;f.commandEveryone=e;b=a.commandGif;f.commandGif=b;c=a.cameraBackup;f.cameraBackup=c;d=a.blockMarketplaceUser;f.blockMarketplaceUser=d;e=a.communityMessagingChannelInvite;f.communityMessagingChannelInvite=e;b=a.commandTextReplacement;f.commandTextReplacement=b;c=a.messageUnsend;f.messageUnsend=c;d=a.immersiveModesSpaces;f.immersiveModesSpaces=d;e=a.communityMessagingLinkSharingV2;f.communityMessagingLinkSharingV2=e;b=a.communityMessagingAudioRooms;f.communityMessagingAudioRooms=b;c=a.bumpMessageAction;f.bumpMessageAction=c;d=a.cutoverBlockComposer;f.cutoverBlockComposer=d;e=a.favoriteThread;f.favoriteThread=e;b=a.bumpThread;f.bumpThread=b;c=a.isBusinessAppointmentThreadIntentEnabled;f.isBusinessAppointmentThreadIntentEnabled=c;d=a.communityMessagingIcebreakers;f.communityMessagingIcebreakers=d;e=a.communityMessagingChannelEmojiCustomization;f.communityMessagingChannelEmojiCustomization=e;b=a.communityMessagingChannelDescriptionCustomization;f.communityMessagingChannelDescriptionCustomization=b;c=a.isMessengerChatEntityThread;f.isMessengerChatEntityThread=c;d=a.reshareHub;f.reshareHub=d;e=a.reactionsV2;f.reactionsV2=e;b=a.seenCountsV2;f.seenCountsV2=b;c=a.isLargeThread;f.isLargeThread=c;d=a.publicChatBanUser;f.publicChatBanUser=d;e=a.contentExplorer;f.contentExplorer=e;b=a.proMode;f.proMode=b;c=a.customerAppointmentRequest;f.customerAppointmentRequest=c;d=a.isMessengerGuideChatEntityThread;f.isMessengerGuideChatEntityThread=d;e=a.communityMessagingThreadLeaveUpsell;f.communityMessagingThreadLeaveUpsell=e;b=a.generatedStickers;f.generatedStickers=b;c=a.rollcall;f.rollcall=c;d=a.businessChatPrivacyDisclosure;f.businessChatPrivacyDisclosure=d;e=a.pauseChat;f.pauseChat=e;b=a.gamesDiscovery;f.gamesDiscovery=b;c=a.multiReact;f.multiReact=c;d=a.stickerTraySearch;f.stickerTraySearch=d;e=a.pollV1Ui;f.pollV1Ui=e;b=a.pollV2Ui;f.pollV2Ui=b;c=a.deidentifiedStickerSearch;f.deidentifiedStickerSearch=c;d=a.pinChannelOnProfile;f.pinChannelOnProfile=d;e=a.armadilloTlcControlOpenThread;f.armadilloTlcControlOpenThread=e;b=a.suggestedTab;f.suggestedTab=b}),null);
__d("LSThreadRemoveType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.deleteThread=a;f.archiveThread=c}),null);/*FB_PKG_DELIM*/
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5735040556524223"}),null);
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql",["withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"InitiateWarmSearchResponse",kind:"LinkedField",name:"initiate_warm_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:a},params:{id:b("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"),metadata:{},name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("BaseTextInput_DEPRECATED.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var c=a.autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD,d=a.disabled;d=d===void 0?!1:d;var e=a.type;e=e===void 0?"text":e;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD","disabled","type"]);return h.jsx("input",babelHelpers["extends"]({},a,{autoFocus:c,disabled:d,ref:b,type:e}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("LSPlatformClientSingleton.bs",["Promise","bs_caml_exceptions"],(function(a,b,c,d,e,f,g){"use strict";var h=c("bs_caml_exceptions").create("LSPlatformClientSingleton.LSPlatformConfigIsUnavaiable"),i={contents:void 0};function a(){return new(b("Promise"))(function(a,b){var c=i.contents;if(c!==void 0)return a(c.db);else return b({RE_EXN_ID:h})})}function d(a){i.contents=a}g.LSPlatformConfigIsUnavaiable=h;g.getDB=a;g.saveInstance=d}),98);
__d("cometTypeaheadMouseUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&(a.ctrlKey||a.metaKey||a.shiftKey)}f.hasModifierKeyPressed=a}),66);
__d("BaseTypeaheadLayoutContextualStrategyStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b}),98);
__d("useBaseTypeaheadLayoutContextualStrategyStateContext",["BaseTypeaheadLayoutContextualStrategyStateContext","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("BaseTypeaheadLayoutContextualStrategyStateContext"));if(a==null)throw c("FBLogger")("typeahead_framework").mustfixThrow("Contextual Layout Strategy State is not found");return a}g["default"]=a}),98);
__d("CometInternalTypeaheadStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({activeEntries:[],highlightedEntry:null,highlightedEntrySource:null});g["default"]=b}),98);
__d("useCometInternalTypeaheadState",["CometInternalTypeaheadStateContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(c("CometInternalTypeaheadStateContext"))}g["default"]=a}),98);
__d("useCometInternalTypeaheadFetchHandler",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function a(a){var b=a.loggingProvider,d=a.queryString,e=a.traceProvider;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var f=a.isOpened;a=c("useCometInternalTypeaheadState")();var g=a.activeEntries;a=c("useCometInternalTypeaheadFetch")();var j=a.fetch;a=h(function(){function a(a,c){var d=null;b!=null&&(d=b.addEvent({action:"keystroke",entries:g,queryString:a},"useCometInternalTypeaheadFetchHandler"));d=d!=null?{loggingEventTrace:d,perfTraceAPI:c,query:a}:{perfTraceAPI:c,query:a};j(d)}var c=d.trimLeft();if(!f)return;e?e.trace(function(b){return a(c,b)},c):a(c)},[g,j,f,b,d,e]);i(a,[f,d])}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnAbandonLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.callback,d=a.loggingProvider,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return h(function(){d!=null&&d.isSessionActive()&&(d.addEvent({action:"abandon",entries:f,queryString:e},"useCometInternalTypeaheadOnAbandonLoggingHandler"),d.endSession()),b&&b()},[f,d,b,e])}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnEnterLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.loggingProvider,d=a.onEnter,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries,g=a.highlightedEntry;return h(function(){g!=null&&(b&&b.addEvent({action:"click",entries:f,entry:g,queryString:e},"useCometInternalTypeaheadOnEnterLoggingHandler:without_highlightedEntry")),g==null&&(b&&b.addEvent({action:"enter",entries:f,queryString:e},"useCometInternalTypeaheadOnEnterLoggingHandler:with_highlightedEntry")),b&&b.endSession(),d&&d()},[f,g,b,d,e])}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnFocusLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.loggingProvider,d=a.onFocus,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return h(function(){b!=null&&(b.startSession(),b.addEvent({action:"typeahead_appeared",entries:f,queryString:e},"useCometInternalTypeaheadOnFocusLoggingHandler")),d&&d()},[f,b,d,e])}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnPressEntryLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.loggingProvider,d=a.onPressEntry,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return h(function(a,c){b!=null&&(b.addEvent({action:"click",entries:f,entry:a,queryString:e},"useCometInternalTypeaheadOnPressEntryLoggingHandler"),b.endSession()),d&&d(a,c)},[f,b,d,e])}g["default"]=a}),98);
__d("useCometTypeaheadInputRefs",["mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useMemo,i=b.useRef;function a(a){var b=i(null),d=h(function(){return c("mergeRefs")(b,a)},[b,a]);return{composedRef:d,inputRef:b}}g["default"]=a}),98);
__d("CometInternalTypeahead.react",["cometTypeaheadMouseUtils","emptyFunction","react","useCometInternalTypeaheadFetchHandler","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.inputRef,e=a.layoutStrategyRenderer,f=a.loggingProvider,g=a.onEnter,j=a.onFocus,k=a.onPressEntry,l=a.onSelectFreeformQuery,m=a.onShiftTab,n=a.onTab,o=a.queryString,p=a.traceProvider;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","layoutStrategyRenderer","loggingProvider","onEnter","onFocus","onPressEntry","onSelectFreeformQuery","onShiftTab","onTab","queryString","traceProvider"]);b=c("useCometTypeaheadInputRefs")(b);var q=b.composedRef,r=b.inputRef;b=c("useCometInternalTypeaheadState")();var s=b.highlightedEntry;c("useCometInternalTypeaheadFetchHandler")({loggingProvider:f,queryString:o,traceProvider:p});b=c("useCometInternalTypeaheadOnEnterLoggingHandler")({loggingProvider:f,onEnter:i(function(){s!=null?k&&k(s):l&&l(o),g&&g()},[s,g,k,l,o]),queryString:o});j=c("useCometInternalTypeaheadOnFocusLoggingHandler")({loggingProvider:f,onFocus:j,queryString:o});var t=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")({loggingProvider:f,onPressEntry:i(function(a,b){if(d("cometTypeaheadMouseUtils").hasModifierKeyPressed(b)){r.current&&r.current.focus();return}k&&k(a)},[r,k]),queryString:o});m=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:m,loggingProvider:f,queryString:o});n=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:n,loggingProvider:f,queryString:o});var u=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:f,queryString:o});f=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:f,queryString:o});return h.jsx(e,babelHelpers["extends"]({},a,{inputRef:q,onAbandonTypeahead_DO_NOT_USE:f,onClick:c("emptyFunction"),onEnter:b,onFocus:j,onHighlightEntry:a.onHighlightEntry,onOutsideClick:u,onPressEntry:t,onShiftTab:m,onTab:n,queryString:o,traceProvider:p,xstyles:a.xstyles}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInternalTypeaheadEmptyFetchContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("CometInternalTypeaheadEmptyFetchProvider",["CometInternalTypeaheadEmptyFetchContext","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var b=a.children,d=a.isLoading;a=a.source;var e=i(!0),f=e[0],g=e[1];c("useLayoutEffect_SAFE_FOR_SSR")(function(){d&&g(!1)},[d]);e=["all","network"].includes(a);a=!(e&&f||d);return h.jsx(c("CometInternalTypeaheadEmptyFetchContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInternalTypeaheadStateDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext();g["default"]=b}),98);
__d("useCometInternalTypeaheadStateDispatcher",["CometInternalTypeaheadStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(c("CometInternalTypeaheadStateDispatcherContext"))}g["default"]=a}),98);
__d("CometInternalTypeaheadFetchProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","useBaseTypeaheadDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams;a.loggingContext;var f=a.onFetchEntries_DO_NOT_USE,g=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var k=a.dispatchActiveEntries;a=c("useBaseTypeaheadDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;k((c=a)!=null?c:[]);f&&f(a);g&&!g.isResolved()&&(d&&(b==="cache"&&a.length>=g.getEntriesCountForVisualComplete()?g.setEndReason("max_suggestions_reached"):b==="network"?g.setEndReason("all_queries_completed"):b==="network-no-results"&&g.setEndReason("all_queries_completed_no_network_results"),g.resolve()))},[k,f,g])});d=a[0];var l=d.isLoading,m=d.source,n=a[1],o=a[2];e=j(function(){return{fetch:n,isLoading:l,refetch:o,source:m}},[n,l,o,m]);return h.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:e,children:h.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:l,source:m,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react",["BaseTypeaheadLayoutContextualStrategyStateContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo,k=b.useState;function a(a){var b=a.autoOpen,d=a.children,e=a.onClose,f=a.onOpen;a=k(b);var g=a[0],l=a[1],m=i(function(a){if(a===g)return;l(a);a?f():e()},[g,e,f]);b=j(function(){return{dispatchIsOpened:m,isOpened:g}},[m,g]);return h.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContext").Provider,{value:b,children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInternalTypeaheadStateProvider",["BaseTypeaheadLayoutContextualStrategyStateContextProvider.react","CometInternalTypeaheadStateContext","CometInternalTypeaheadStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState,n=[];function a(a){var b=a.autoOpen,d=a.children,e=a.onOpen,f=a.onClose;a=a.emptyEntries_DO_NOT_USE;var g=a===void 0?n:a;a=m(null);var o=a[0],p=a[1];a=m(null);var q=a[0],r=a[1];a=m(g);var s=a[0],t=a[1],u=l(g);j(function(){if(u.current===g)return;u.current=g;t(function(a){return a.length?a:g})},[t,u,g]);var v=i(function(a){t(function(b){b=Array.isArray(a)?a:a(b);return b.length>0?b:u.current})},[t,u]),w=i(function(a){var b=a.entry;a=a.source;p(b);r(a)},[]);a=k(function(){return{dispatchActiveEntries:v,dispatchHighlightedEntry:w}},[v,w]);var x=k(function(){return{activeEntries:s,highlightedEntry:o,highlightedEntrySource:q}},[s,o,q]);return h.jsx(c("CometInternalTypeaheadStateDispatcherContext").Provider,{value:a,children:h.jsx(c("CometInternalTypeaheadStateContext").Provider,{value:x,children:h.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react"),{autoOpen:b,onClose:f,onOpen:e,children:d})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var d=b.shouldQueryStringFollowHighlightedEntry;return h.forwardRef(function(b,e){var f=b.queryString;b=babelHelpers.objectWithoutPropertiesLoose(b,["queryString"]);var g=c("useCometInternalTypeaheadState")(),i=g.highlightedEntry;g=g.highlightedEntrySource;g=d&&g==="keyboard"&&i!=null?i.label:f;return h.jsx(a,babelHelpers["extends"]({},b,{queryString:g,ref:e}))})}g["default"]=a}),98);
__d("BaseTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadFetchProvider","CometInternalTypeaheadStateProvider","emptyFunction","react","useCometUniqueID","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.autoOpen;b=b===void 0?!1:b;var d=a.autoFocus;d=d===void 0?!1:d;var e=a.inputStrategyRenderer,f=a.dataSource,g=a.dataSourceFetchConfigParams,k=a.decorators,l=k===void 0?[]:k;k=a.emptyEntries_DO_NOT_USE;var m=a.id,n=a.isDisabled;n=n===void 0?!1:n;var o=a.label;o=o===void 0?"":o;var p=a.loggingContext,q=a.onBackspace;q=q===void 0?c("emptyFunction"):q;var r=a.onBlur;r=r===void 0?c("emptyFunction"):r;var s=a.onChange,t=a.onClose;t=t===void 0?c("emptyFunction"):t;var u=a.onEnter;u=u===void 0?c("emptyFunction"):u;var v=a.onEscape;v=v===void 0?c("emptyFunction"):v;var w=a.onFetchEntries_DO_NOT_USE,x=a.onFocus;x=x===void 0?c("emptyFunction"):x;var y=a.onOpen;y=y===void 0?c("emptyFunction"):y;var z=a.onPressEntry,A=a.placeholder;A=A===void 0?"":A;var B=a.shouldQueryStringFollowHighlightedEntry,C=B===void 0?!0:B;B=a.shouldQueryStringUpdateFromSelectedEntryOnClick;var D=B===void 0?!0:B;B=a.testid;B=B===void 0?"":B;B=a.traceProvider;var E=a.viewRole;E=E===void 0?"listbox":E;var F=a.viewStrategyRenderer,G=a.inputRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","viewRole","viewStrategyRenderer","inputRef"]);var H=c("useCometUniqueID")(),I=j(function(){var a=c("CometInternalTypeahead.react");l.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a},[l]),J=i(function(a){D&&s(a.label),z&&z(a)},[s,z,D]),K=j(function(){return c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(e,{shouldQueryStringFollowHighlightedEntry:C})},[e,C]);o=o||A;return h.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:h.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:b,emptyEntries_DO_NOT_USE:k,onClose:t,onOpen:y,children:h.jsx(c("CometInternalTypeaheadFetchProvider"),{dataSource:f,dataSourceFetchConfigParams:g,loggingContext:p,onFetchEntries_DO_NOT_USE:w,traceProvider:B,children:h.jsx(I,babelHelpers["extends"]({},a,{autoFocus:d,id:(b=m)!=null?b:H,inputRef:G,inputStrategyRenderer:K,isDisabled:n,label:o,onBackspace:q,onBlur:r,onChange:s,onDownArrow:c("emptyFunction"),onEnter:u,onEscape:v,onFocus:x,onHighlightEntry:c("emptyFunction"),onPressEntry:J,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:A,testid:void 0,traceProvider:B,viewRole:E,viewStrategyRenderer:F}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadErrorFallback.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadHightlightBoldTransform.react",["TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.segment.content;return h.jsx(c("TetraText.react"),{type:"bodyLink3",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadHightlightNormalTransform.react",["TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.segment.content;return h.jsx(c("TetraText.react"),{type:"body3",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mayHaveConnectedCharacters",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750–\u077F\u08A0–\u08FF\uFB50–\uFDFF\uFE70–\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}f["default"]=a}),66);
__d("cometTypeaheadHighlightUtils",["escapeRegex","mayHaveConnectedCharacters"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e){if(c("mayHaveConnectedCharacters")(b))return[{content:b,isMatched:!1}];a=c("escapeRegex")(e==="prefix"?a:a.trim());e=e==="prefix"?new RegExp("( "+a.split(/\s+/).join("| ")+")","gi"):new RegExp("("+a.split(/\s+/).join("|")+")","gi");a=" "+b;b=[];var f=0,g=null;while(!0){g=e.exec(a);if(g==null)break;var h=a.substring(f,g.index);f===0&&(h=h.trimLeft());b.push({content:h,isMatched:!d});h=g[0];g.index===0&&(h=h.trimLeft());f=g.index+g[0].length;b.push({content:h,isMatched:d})}h=a.substring(f,a.length);b.push({content:h,isMatched:!d});return b}function a(a,b,c){c===void 0&&(c="prefix");return h(a,b,!0,c)}function b(a,b,c){c===void 0&&(c="prefix");return h(a,b,!1,c)}g.highlightMatch=a;g.highlightNonMatch=b}),98);
__d("CometTypeaheadHighlight.react",["CometTypeaheadHightlightBoldTransform.react","CometTypeaheadHightlightNormalTransform.react","cometTypeaheadHighlightUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.content,f=a.query;a=a.strategy;if(f==null||e==null)return null;var g=null;switch(a){case"match":g=d("cometTypeaheadHighlightUtils").highlightMatch;break;case"non-match":g=d("cometTypeaheadHighlightUtils").highlightNonMatch;break;default:}return g&&f.length!==0?b(h.jsx(h.Fragment,{children:g(f,e).map(function(a,b){return a.isMatched?h.jsx(c("CometTypeaheadHightlightBoldTransform.react"),{segment:a},String(b)):h.jsx(c("CometTypeaheadHightlightNormalTransform.react"),{segment:a},String(b))})})):b(h.jsx(c("CometTypeaheadHightlightNormalTransform.react"),{segment:{content:e,isMatched:!1}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadFocusLockRegion.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.children;a=a.xstyle;var d=i(function(a){a.preventDefault()},[]);return h.jsx("div",{className:c("stylex")(a),onMouseDown:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnBlurHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onBlur;return h(function(){b&&b()},[b])}g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnFocusHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,c=a.onFocus;return h(function(){b.current!=null&&b.current.select(),c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadInputHandlers",["useCometTypeaheadInputStrategyOnBlurHandler","useCometTypeaheadInputStrategyOnFocusHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.inputRef,d=a.onBlur,e=a.onFocus;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","onBlur","onFocus"]);b=c("useCometTypeaheadInputStrategyOnFocusHandler")({inputRef:b,onFocus:e});e=c("useCometTypeaheadInputStrategyOnBlurHandler")({onBlur:d});return babelHelpers["extends"]({},a,{onBlur:e,onFocus:b})}g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnChangeHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onChange;return h(function(a){var c=a.target.value;b&&b(c,a)},[b])}g["default"]=a}),98);
__d("CometTypeaheadInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={root:{width:"xh8yej3",$$css:!0}};function a(a,b){var d=a.children,e=a.isInline,f=a.onBackspace,g=a.onDownArrow,l=a.onEnter,m=a.onEscape,n=a.onShiftTab,o=a.onTab,p=a.onUpArrow;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","isInline","onBackspace","onDownArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow"]);var q=j(function(){return[{command:{key:c("CometKeys").DELETE},description:h._("__JHASH__2XTxAX3qgrF__JHASH__"),handler:function(){return f&&f()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").DOWN},description:h._("__JHASH__CqK0EeqSMhz__JHASH__"),handler:function(){return g&&g()},triggerFromInputs:!0},{command:{key:c("CometKeys").UP},description:h._("__JHASH__iUKjo5X2a54__JHASH__"),handler:function(){return p&&p()},triggerFromInputs:!0},{command:{key:c("CometKeys").ESCAPE},description:h._("__JHASH__wwSVh79-oc2__JHASH__"),handler:function(){return m&&m()},triggerFromInputs:!0},{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__mihpnKYilqe__JHASH__"),handler:function(){return l&&l()},triggerFromInputs:!0},{command:{key:c("CometKeys").TAB},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return o&&o()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").TAB,shift:!0},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return n&&n()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0}]},[f,g,l,m,n,o,p]);b=c("useCometTypeaheadInputRefs")(b);var r=b.composedRef;b=b.inputRef;b=c("useCometTypeaheadInputHandlers")(babelHelpers["extends"]({inputRef:b},a));return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:q,elementType:e===!0?"span":"div",xstyle:k.root,children:d(r,b)})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("cometTypeaheadInputWebkitStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={"default":{WebkitAppearance:"xo6swyp","::-webkit-search-cancel-button_appearance":"x1ad04t7","::-webkit-search-decoration_appearance":"x1glnyev","::-webkit-search-results-button_appearance":"x1ix68h3","::-webkit-search-results-decoration_appearance":"x19gujb8",$$css:!0}};b=a;g["default"]=b}),98);
__d("findCometScrollableLayoutActiveNode",[],(function(a,b,c,d,e,f){"use strict";function g(a){if(a==null)return null;if(a.tagName==="LI")return a.getAttribute("aria-selected")==="true"?a:null;return a.children==null?null:Array.from(a.children).reduce(function(a,b){return(a=a)!=null?a:g(b)},null)}f["default"]=g}),66);
__d("useCometTypeaheadKeyboardForScrollableArea",["findCometScrollableLayoutActiveNode","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a){var b=i(null);h(function(){var a;(a=c("findCometScrollableLayoutActiveNode")((a=b.current)==null?void 0:a.getDOMNode()))==null?void 0:a.scrollIntoView({behavior:"smooth",block:"nearest"})},[a]);return b}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnBlurHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onBlur;a=c("useCometInternalTypeaheadStateDispatcher")();var d=a.dispatchHighlightedEntry;return h(function(){d({entry:null,source:null}),b&&b()},[d,b])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnChangeHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onChange,d=a.onHighlightEntry;a=c("useCometInternalTypeaheadState")();var e=a.highlightedEntry;return h(function(a,c){e!=null&&d(null,"keyboard"),b&&b(a,c)},[e,b,d])}g["default"]=a}),98);
__d("useCometInternalTypeaheadKeyboardNavigation",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useCometInternalTypeaheadState")(),b=a.activeEntries;a=a.highlightedEntry;var e=c("baseTypeaheadFlattenEntries")(b),f=a!=null?a.key:null;b=h(function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveDown(e,f,function(b){a(b,"keyboard")})},[f,e]);a=h(function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveUp(e,f,function(b){a(b,"keyboard")})},[f,e]);return{onKeyboardDownArrow:b,onKeyboardUpArrow:a}}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnDownArrowHandler",["react","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onDownArrow,d=a.onHighlightEntry;a=c("useCometInternalTypeaheadKeyboardNavigation")();var e=a.onKeyboardDownArrow;return h(function(){e(d),b&&b()},[b,d,e])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnEnterHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onEnter;a=c("useCometInternalTypeaheadState")();var e=a.highlightedEntry,f=a.highlightedEntrySource,g=b.current;return h(function(){var a;a=(a=g==null?void 0:g.value)!=null?a:"";var b=e!=null&&f==="keyboard";if(a.trim().length===0&&!b)return;d&&d()},[g,e,f,d])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onHighlightEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var d=a.dispatchHighlightedEntry;return h(function(a,c){d({entry:a,source:c}),b&&b(a,c)},[d,b])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnOutsideClickHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,c=a.onOutsideClick;return h(function(){if(b.current===document.activeElement)return;c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnPressEntryHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onPressEntry;return h(function(a,c){b(a,c)},[b])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnUpArrowHandler",["react","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onHighlightEntry,d=a.onUpArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var e=a.onKeyboardUpArrow;return h(function(){e(b),d&&d()},[b,e,d])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyStyles",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i={defaultLayout:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},stateDisabled:{$$css:!0},stateError:{$$css:!0},stateOpened:{$$css:!0},stateWarning:{$$css:!0}};function a(a){var b=a.isDisabled,c=b===void 0?!1:b;b=a.isError;var d=b===void 0?!1:b;b=a.isOpened;var e=b===void 0?!1:b;b=a.isWarning;var f=b===void 0?!1:b;b=a.xstyles;var g=b.inputXStyle,j=b.layoutOpenedXStyle,k=b.layoutXStyle,l=b.viewXStyle_DO_NOT_USE;return h(function(){return{inputXStyle:g,layoutXStyle:[i.defaultLayout,k,e&&j,c&&i.stateDisabled,e&&i.stateOpened,d&&i.stateError,f&&i.stateWarning],viewXStyle_DO_NOT_USE:[l]}},[g,c,d,e,f,j,k,l])}g["default"]=a}),98);
__d("useCometTypeaheadViewStrategyOutsideClickListener",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function a(a,b){var c=h(function(c){var d=a.current;c=c.target;d!=null&&c instanceof Node&&!d.contains(c)&&b()},[a,b]);i(function(){document.addEventListener("click",c);return function(){document.removeEventListener("click",c)}},[c])}g["default"]=a}),98);
__d("CometTypeaheadViewStrategyEventListener.react",["react","useCometTypeaheadViewStrategyOutsideClickListener"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useRef;function a(a){var b=a.children;a=a.onOutsideClick;var d=h(null);c("useCometTypeaheadViewStrategyOutsideClickListener")(d,a);return b(d)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometHandleHighlightDropOnMouseLeave",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(){a(null,"mouse")}}f["default"]=a}),66);
__d("CometTypeaheadInternalLayoutContextualStrategy.react",["CometContextualLayer.react","CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","stylex","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef;function a(a){var b=a.contextualProps;b=b===void 0?{}:b;var d=b.align;d=d===void 0?"stretch":d;var e=b.position;e=e===void 0?"below":e;b=babelHelpers.objectWithoutPropertiesLoose(b,["align","position"]);var f=a.description,g=a.errorMessage,j=a.extraLayoutProps,k=j.ariaProps,l=k.ariaDescribedByProps,m=k.ariaInputProps,n=k.ariaViewProps;k=j.helperTextComponent;var o=j.isLoading;j=j.isOpened;var p=a.inputStrategyRenderer,q=a.label,r=a.onBackspace,s=a.onBlur,t=a.onFocus,u=a.onClick,v=a.onDownArrow,w=a.onEnter,x=a.onEscape,y=a.onShiftTab,z=a.onTab,A=a.onUpArrow,B=a.queryString,C=a.inputRef,D=a.viewStrategyRenderer,E=a.xstyles,F=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","errorMessage","extraLayoutProps","inputStrategyRenderer","label","onBackspace","onBlur","onFocus","onClick","onDownArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]);a=i(null);var G=i(null),H=G.current,I=c("useCometInternalTypeaheadState")(),J=I.activeEntries,K=I.highlightedEntry,L=c("cometHandleHighlightDropOnMouseLeave")(F.onHighlightEntry);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:c("stylex")(E==null?void 0:E.layoutXStyle),ref:G,children:h.jsx("div",{className:c("stylex")(E==null?void 0:E.inputXStyle),children:h.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{onBackspace:r,onBlur:s,onChange:F.onChange,onClick:u,onDownArrow:v,onEnter:w,onEscape:x,onFocus:t,onShiftTab:y,onTab:z,onUpArrow:A,ref:C,children:function(a,b){return h.jsx(p,babelHelpers["extends"]({},b,{ariaProps:m,autoFocus:F.autoFocus,description:f,errorMessage:g,id:F.id,inputEndContent:F.inputEndContent,inputExtraProps:F.inputExtraProps,inputStartContent:F.inputStartContent,isDisabled:F.isDisabled,label:q,placeholder:F.placeholder,queryString:B,ref:a,testid:void 0}))}})})}),k!=null&&h.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},l,{children:k})),H&&j&&h.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},b,{align:d,context_DEPRECATED:H,position:e,ref:a,children:h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:F.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")(E==null?void 0:E.viewXStyle_DO_NOT_USE),onMouseLeave:L,ref:a,children:h.jsx(D,{ariaProps:n,entries:J,highlightedEntry:K,isLoading:o,onAbandonTypeahead_DO_NOT_USE:F.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:F.onHighlightEntry,onPressEntry:F.onPressEntry,queryString:B})})}})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutInlineStrategyHandlers",["react","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnEnterHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onBlur,e=a.onChange,f=a.onDownArrow,g=a.onEnter,i=a.onEscape,j=a.onHighlightEntry,k=a.onOutsideClick,l=a.onPressEntry;a=a.onUpArrow;j=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")({onHighlightEntry:j});d=c("useCometTypeaheadLayoutStrategyOnBlurHandler")({onBlur:d});var m=c("useCometTypeaheadLayoutStrategyOnChangeHandler")({onChange:e,onHighlightEntry:j});e=c("useCometTypeaheadLayoutStrategyOnEnterHandler")({inputRef:b,onEnter:g});g=h(function(){m(""),i&&i()},[m,i]);f=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")({onDownArrow:f,onHighlightEntry:j});a=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")({onHighlightEntry:j,onUpArrow:a});l=c("useCometTypeaheadLayoutStrategyOnPressEntryHandler")({onPressEntry:l});b=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")({inputRef:b,onOutsideClick:k});return{onBlur:d,onChange:m,onDownArrow:f,onEnter:e,onEscape:g,onHighlightEntry:j,onOutsideClick:b,onPressEntry:l,onUpArrow:a}}g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutContextualStrategyHandlers",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometTypeaheadInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.handlers,d=b.onAbandonTypeahead_DO_NOT_USE,e=b.onClick,f=b.onOutsideClick,g=b.onShiftTab,i=b.onTab,j=babelHelpers.objectWithoutPropertiesLoose(b,["onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab"]);b=a.inputRef;a=a.shouldHandleCloseAfterHandlePressEntry;var k=a===void 0?!1:a;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var l=a.dispatchIsOpened,m=a.isOpened;a=h(function(){l(!1),f&&f()},[l,f]);b=c("useCometTypeaheadInternalLayoutInlineStrategyHandlers")(babelHelpers["extends"]({inputRef:b,onOutsideClick:a},j));a=b.onBlur;var n=b.onChange,o=b.onDownArrow,p=b.onEnter,q=b.onEscape,r=b.onHighlightEntry,s=b.onOutsideClick,t=b.onPressEntry,u=b.onUpArrow;b=h(function(){l(!1),d&&d()},[l,d]);var v=h(function(){l(!0),e&&e()},[l,e]),w=h(function(a,b){l(!0),n&&n(a,b)},[l,n]),x=h(function(){m?o&&o():l(!0)},[l,m,o]),y=h(function(){l(!1),p&&p()},[l,p]),z=h(function(){m?(l(!1),j.onEscape&&j.onEscape()):q&&q()},[l,j,m,q]),A=h(function(a,b){k||l(!1),t&&t(a,b),k&&l(!1)},[l,t,k]),B=h(function(){l(!1),g&&g()},[l,g]),C=h(function(){l(!1),i&&i()},[l,i]),D=h(function(){!m?l(!0):u&&u()},[l,m,u]);return{onAbandonTypeahead_DO_NOT_USE:b,onBlur:a,onChange:w,onClick:v,onDownArrow:x,onEnter:y,onEscape:z,onHighlightEntry:r,onOutsideClick:s,onPressEntry:A,onShiftTab:B,onTab:C,onUpArrow:D}}g["default"]=a}),98);
__d("CometTypeaheadLayoutContextualStrategy.react",["CometTypeaheadHelperText.react","CometTypeaheadInternalLayoutContextualStrategy.react","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={view:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",width:"xh8yej3",$$css:!0}};function a(a){var b=a.extraLayoutProps;b=b===void 0?{}:b;var d=b.afterViewContent;b=b.beforeViewContent;var e=a.helperText,f=a.label,g=a.onAbandonTypeahead_DO_NOT_USE,j=a.onBlur,k=a.onChange,l=a.onClick,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,q=a.onOutsideClick,r=a.onPressEntry,s=a.onShiftTab,t=a.onTab,u=a.onUpArrow,v=a.viewRole,w=a.inputRef,x=a.shouldHandleCloseAfterHandlePressEntry;x=x===void 0?!1:x;var y=a.xstyles;y=y===void 0?{}:y;var z=y.viewXStyle_DO_NOT_USE;y=babelHelpers.objectWithoutPropertiesLoose(y,["viewXStyle_DO_NOT_USE"]);a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","viewRole","inputRef","shouldHandleCloseAfterHandlePressEntry","xstyles"]);var A=c("useCometInternalTypeaheadFetch")();A=A.isLoading;var B=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();B=B.isOpened;var C=c("useCometInternalTypeaheadState")(),D=C.activeEntries;C=C.highlightedEntry;w=c("useCometTypeaheadInputRefs")(w);var E=w.composedRef;w=w.inputRef;g=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")({handlers:{onAbandonTypeahead_DO_NOT_USE:g,onBlur:j,onChange:k,onClick:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onOutsideClick:q,onPressEntry:r,onShiftTab:s,onTab:t,onUpArrow:u},inputRef:w,shouldHandleCloseAfterHandlePressEntry:x});j=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:D,helperText:e,highlightedEntry:C,inputLabel:f,isOpened:B,viewRole:v});k=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:B,xstyles:babelHelpers["extends"]({viewXStyle_DO_NOT_USE:[i.view,z]},y)});return h.jsx(c("CometTypeaheadInternalLayoutContextualStrategy.react"),babelHelpers["extends"]({},a,g,{extraLayoutProps:{afterViewContent:d,ariaProps:j,beforeViewContent:b,helperTextComponent:e!=null?h.jsx(c("CometTypeaheadHelperText.react"),{text:e}):null,isLoading:A,isOpened:B},helperText:e,inputRef:E,label:f,viewRole:v,xstyles:k}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadInternalLayoutInlineStrategy.react",["CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.extraLayoutProps,d=b.ariaProps,e=d.ariaDescribedByProps,f=d.ariaInputProps,g=d.ariaViewProps;d=b.helperTextComponent;var i=b.isLoading;b=b.isOpened;var j=a.description,k=a.errorMessage,l=a.extraViewProps,m=a.id,n=a.inputStrategyRenderer,o=a.label,p=a.onBackspace,q=a.onBlur,r=a.onChange,s=a.onClick,t=a.onDownArrow,u=a.onEnter,v=a.onEscape,w=a.onFocus,x=a.onShiftTab,y=a.onTab,z=a.onUpArrow,A=a.queryString,B=a.inputRef,C=a.viewStrategyRenderer,D=a.xstyles;D=D===void 0?{}:D;var E=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","description","errorMessage","extraViewProps","id","inputStrategyRenderer","label","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]);a=c("useCometInternalTypeaheadState")();var F=a.activeEntries,G=a.highlightedEntry;a=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:b,xstyles:D});D=a.inputXStyle;var H=a.layoutXStyle,I=a.viewXStyle_DO_NOT_USE,J=c("cometHandleHighlightDropOnMouseLeave")(E.onHighlightEntry);return h.jsxs("div",{className:c("stylex")(H),children:[h.jsx("div",{className:c("stylex")(D),children:h.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{onBackspace:p,onBlur:q,onChange:r,onClick:s,onDownArrow:t,onEnter:u,onEscape:v,onFocus:w,onShiftTab:x,onTab:y,onUpArrow:z,ref:B,children:function(a,b){return h.jsx(n,babelHelpers["extends"]({},b,{ariaProps:f,autoFocus:E.autoFocus,description:j,errorMessage:k,id:m,inputEndContent:E.inputEndContent,inputExtraProps:E.inputExtraProps,inputStartContent:E.inputStartContent,isDisabled:E.isDisabled,label:o,placeholder:E.placeholder,queryString:A,ref:a,testid:void 0}))}})}),d!=null&&h.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},e,{children:d})),b&&h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:E.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")(I),onMouseLeave:J,ref:a,children:h.jsx(C,{ariaProps:g,entries:F,extraViewProps:l,highlightedEntry:G,isLoading:i,onAbandonTypeahead_DO_NOT_USE:E.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:E.onHighlightEntry,onPressEntry:E.onPressEntry,queryString:A})})}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTypeaheadNavigate",["CometProductAttributionContext","goForceFullPageRedirectTo","isCometRouterUrl","react","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext;function a(a){var b=c("useCometRouterDispatcher")(),d=i(c("CometProductAttributionContext"));return h(function(e,f){if(e==null)return;if(b!=null){var g;g={fromLink:{tap_point:(g=a==null?void 0:a.tapPoint)!=null?g:"tap_scoped_search_bar"},linkContext:d};c("isCometRouterUrl")(e)?b.go(e,{productAttributionUpdateProps:g}):c("goForceFullPageRedirectTo")(e)}else f&&f(e)},[b,d,a==null?void 0:a.tapPoint])}g["default"]=a}),98);
__d("CometTypeaheadViewItemIcon.react",["ix","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.children;a=a.isActive;return i.jsx("div",{className:"x6s0dn4 x1o1ewxj x3x9cwd x1e5q0jg x13rtm0m x78zum5 xc9qbxq xl56j7k x14qfxbe"+(a?" x1jx94hy":" x443n21"),children:b})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.isActive;return i.jsx(j,{isActive:a,children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("478801"),20),size:20})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.isActive;return i.jsx(j,{isActive:a,children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("688945"),16),size:16})})}b.displayName=b.name+" [from "+f.id+"]";function e(a){a=a.isActive;return i.jsx(j,{isActive:a,children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("491282"),16),size:16})})}e.displayName=e.name+" [from "+f.id+"]";function k(a){a=a.isActive;return i.jsx(j,{isActive:a,children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("495586"),16),size:16})})}k.displayName=k.name+" [from "+f.id+"]";g.CometTypeaheadViewRecentIcon=a;g.CometTypeaheadViewTrophyIcon=b;g.CometTypeaheadViewTypedIcon=e;g.CometTypeaheadViewSavedContentIcon=k}),98);
__d("useCometTypeaheadEmptyState",["CometInternalTypeaheadEmptyFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(c("CometInternalTypeaheadEmptyFetchContext"))}g["default"]=a}),98);
__d("CometTypeaheadViewEmptyState.react",["TetraText.react","react","stylex","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=a.children;a=a.xstyle;var d=c("useCometTypeaheadEmptyState")();return d?h.jsx("div",{"aria-live":"polite","aria-selected":!1,className:c("stylex")(i.root,a),"data-testid":void 0,role:"option",children:h.jsx(c("TetraText.react"),{color:"tertiary",numberOfLines:1,type:"body3",children:b})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadKeywordViewItem.react",["CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,e=a.isActive,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,isActive:e,itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:e}),children:h.jsx(c("CometTypeaheadHighlight.react"),{content:b.label,query:f,strategy:"non-match",children:function(a){return h.jsx(c("TetraText.react"),{numberOfLines:1,type:"body3",children:a})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadRecentViewItem.react",["CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,e=a.isActive;a.queryString;var f=a.testid;f=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString","testid"]);return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},f,{entry:b,isActive:e,itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:e}),testid:void 0,children:h.jsx(c("TetraText.react"),{numberOfLines:2,type:"body3",children:(a=b.label)!=null?a:""})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withSearchCometTypeaheadBaseNavigationDecorator",["react","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){return function(b){var d=b.inputRef,e=b.onPressEntry,f=b.onSelectFreeformQuery;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","onSelectFreeformQuery"]);d=c("useCometTypeaheadInputRefs")(d);var g=d.composedRef,j=d.inputRef;d=i(function(a){j.current&&j.current.blur(),e&&e(a)},[j,e]);var k=i(function(a){j.current&&j.current.blur(),f&&f(a)},[j,f]);return h.jsx(a,babelHelpers["extends"]({},b,{inputRef:g,onPressEntry:d,onSelectFreeformQuery:k}))}}g["default"]=a}),98);
__d("withSearchCometTypeaheadSERPWarmCallDecorator",["CometRelay","CometRelayErrorHandling","react","withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useCallback;function a(a){return function(c){var e=c.onFocus;c=babelHelpers.objectWithoutPropertiesLoose(c,["onFocus"]);var f=d("CometRelay").useRelayEnvironment(),g=j(function(){d("CometRelay").fetchQuery(f,h!==void 0?h:h=b("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"),{},{fetchPolicy:"store-or-network"}).subscribe({error:function(a){d("CometRelayErrorHandling").markErrorAsHandled(a)}}),e&&e()},[e,f]);return i.jsx(a,babelHelpers["extends"]({},c,{onFocus:g}))}}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseViewRecentEmptyState.react",["fbt","CometTypeaheadViewEmptyState.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("CometTypeaheadViewEmptyState.react"),{children:h._("__JHASH__H5N-2GNjT0N__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSSyncStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];f.initializing=a;f.complete=c;f.resnapshotting=d;f.paging=e}),null);/*FB_PKG_DELIM*/
__d("AppLastUsedTimestampsFetcherQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5190954347621800"}),null);
__d("AppLastUsedTimestampsFetcherQuery.graphql",["AppLastUsedTimestampsFetcherQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"bookmarkIDs"}],c=[{kind:"Variable",name:"bookmark_ids",variableName:"bookmarkIDs"},{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"folder_id",value:"PRODUCT"},{kind:"Literal",name:"sections",value:["FACEBOOK_APP"]}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"last_used_timestamp",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"AppLastUsedTimestampsFetcherQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[d],storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"AppLastUsedTimestampsFetcherQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:null},e,d],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("AppLastUsedTimestampsFetcherQuery_facebookRelayOperation"),metadata:{},name:"AppLastUsedTimestampsFetcherQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometGlobalPanelDockedProductQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5890905294331635"}),null);
__d("CometGlobalPanelDockedProductQuery.graphql",["CometGlobalPanelDockedProductQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"bookmarkIDs"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"bookmark_ids",variableName:"bookmarkIDs"},{kind:"Literal",name:"environment",value:"COMET"}],d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometGlobalPanelDockedProductQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"nodes",plural:!0,selections:[d,{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[{kind:"RequiredField",field:e,action:"THROW",path:"viewer.bookmarks.nodes.bookmarked_node.id"}],storageKey:null},action:"THROW",path:"viewer.bookmarks.nodes.bookmarked_node"},f,{args:null,kind:"FragmentSpread",name:"CometGlobalPanelTab_bookmark"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometGlobalPanelDockedProductQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"nodes",plural:!0,selections:[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e],storageKey:null},f,{alias:null,args:[{kind:"Literal",name:"bookmark_render_location",value:"COMET_TOP_TAB"}],kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_TOP_TAB")'},{alias:null,args:null,kind:"ScalarField",name:"last_used_timestamp",storageKey:null},{alias:null,args:[{kind:"Literal",name:"icon_size",value:"DP24"},{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"XFBIXMapEntry",kind:"LinkedField",name:"bookmark_icon_sprite",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sprited",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sprite_map_css_class",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sprite_css_class",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preloading_spi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"p",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sz",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"spi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_id",storageKey:null}],storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometGlobalPanelDockedProductQuery_facebookRelayOperation"),metadata:{},name:"CometGlobalPanelDockedProductQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometGlobalPanelDockedProduct_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometGlobalPanelDockedProduct_viewer",selections:[{args:null,kind:"FragmentSpread",name:"useCometGlobalPanelDockedProductManager_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("useCometGlobalPanelDockExcludedProducts_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"environment",value:"COMET"},b={kind:"Variable",name:"first",variableName:"numTargetedTabs"},c=[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],d={kind:"Literal",name:"query_source",value:"BOOKMARKS_LIST"},e=[{alias:null,args:null,concreteType:"FolderBookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:c,storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__CometGlobalPanelUseBookmarkRankingrelayprovider"},{kind:"RootArgument",name:"excludedTabIDs"},{kind:"RootArgument",name:"isEligibleForProfessionalTools"},{kind:"RootArgument",name:"numTargetedTabs"}],kind:"Fragment",metadata:null,name:"useCometGlobalPanelDockExcludedProducts_viewer",selections:[{condition:"__relay_internal__pv__CometGlobalPanelUseBookmarkRankingrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[a,{kind:"Variable",name:"excluded_ids",variableName:"excludedTabIDs"},b,{kind:"Literal",name:"folder_id",value:"PRODUCT"}],concreteType:"TabBookmarksConnection",kind:"LinkedField",name:"tab_bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"TabBookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:c,storageKey:null}],storageKey:null}]},{condition:"__relay_internal__pv__CometGlobalPanelUseBookmarkRankingrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Literal",name:"folder",value:"PRODUCT"}],concreteType:"FolderBookmark",kind:"LinkedField",name:"bookmark_folder",plural:!1,selections:[{alias:null,args:[a,b,d,{kind:"Literal",name:"sections",value:["FOLDER","USER","USER_TOOL","GAME_TOOL","FACEBOOK_APP","APP_TOOL","PLATFORM_APP","EVENT","GROUP_TOOL","GROUP","WORK_GROUPS_TEAM","WORK_GROUPS_SOCIAL","WORK_GROUPS_FEEDBACK","WORK_GROUPS_ANNOUNCEMENT","WORK_GROUPS_MULTI_COMPANY","PAGE","PAGE_TOOL","LIST_TOOL","FRIEND_LIST","INTEREST_LIST","NEO_USER"]}],concreteType:"FolderBookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:e,storageKey:null}],storageKey:'bookmark_folder(folder:"PRODUCT")'}]},{alias:"professional_tools",args:[{kind:"Literal",name:"folder",value:"PROFESSIONAL"}],concreteType:"FolderBookmark",kind:"LinkedField",name:"bookmark_folder",plural:!1,selections:[{condition:"isEligibleForProfessionalTools",kind:"Condition",passingValue:!0,selections:[{alias:"professional_bookmark",args:[a,d],concreteType:"FolderBookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:e,storageKey:'bookmarks(environment:"COMET",query_source:"BOOKMARKS_LIST")'}]}],storageKey:'bookmark_folder(folder:"PROFESSIONAL")'}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("useCometGlobalPanelDockedProductManager_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"shouldFetchTargetedTabs"}],kind:"Fragment",metadata:null,name:"useCometGlobalPanelDockedProductManager_viewer",selections:[{condition:"shouldFetchTargetedTabs",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"useCometGlobalPanelDockExcludedProducts_viewer"}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("useCometGlobalPanelSetRecentProductMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5871608139536581"}),null);
__d("useCometGlobalPanelSetRecentProductMutation.graphql",["useCometGlobalPanelSetRecentProductMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"productIdentifier"}],c=[{kind:"Variable",name:"product_identifier",variableName:"productIdentifier"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useCometGlobalPanelSetRecentProductMutation",selections:[{alias:null,args:c,concreteType:"Bookmark",kind:"LinkedField",name:"xfb_update_comet_docked_tabs",plural:!1,selections:[d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useCometGlobalPanelSetRecentProductMutation",selections:[{alias:null,args:c,concreteType:"Bookmark",kind:"LinkedField",name:"xfb_update_comet_docked_tabs",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useCometGlobalPanelSetRecentProductMutation_facebookRelayOperation"),metadata:{},name:"useCometGlobalPanelSetRecentProductMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometGlobalPanelProductSection_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"shouldFetchGroups"}],kind:"Fragment",metadata:null,name:"CometGlobalPanelProductSection_viewer",selections:[{condition:"shouldFetchGroups",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometGlobalPanelGroupList_viewer"}]},{args:null,kind:"FragmentSpread",name:"CometGlobalPanelProductTabsWithDock_viewer"},{args:null,kind:"FragmentSpread",name:"CometGlobalPanelShortcutsList_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometGlobalPanelProductTabsWithDock_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"shouldFetchTargetedTabs"}],kind:"Fragment",metadata:null,name:"CometGlobalPanelProductTabsWithDock_viewer",selections:[{args:null,kind:"FragmentSpread",name:"CometGlobalPanelDockedProduct_viewer"},{condition:"shouldFetchTargetedTabs",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometGlobalPanelProductTabs_viewer"}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometGlobalPanelProductTabs_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__CometGlobalPanelUseBookmarkRankingrelayprovider"},{kind:"RootArgument",name:"isEligibleForProfessionalTools"}],kind:"Fragment",metadata:null,name:"CometGlobalPanelProductTabs_viewer",selections:[{condition:"__relay_internal__pv__CometGlobalPanelUseBookmarkRankingrelayprovider",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometGlobalPanelTargetedTabs_viewer"}]},{condition:"__relay_internal__pv__CometGlobalPanelUseBookmarkRankingrelayprovider",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometGlobalPanelBookmarks_viewer"}]},{condition:"isEligibleForProfessionalTools",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometGlobalPanelProToolsBookmarks_viewer"}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometGlobalPanelTab_bookmark.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometGlobalPanelTab_bookmark",selections:[{alias:null,args:[{kind:"Literal",name:"bookmark_render_location",value:"COMET_TOP_TAB"}],kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_TOP_TAB")'},{alias:null,args:null,kind:"ScalarField",name:"last_used_timestamp",storageKey:null},{alias:null,args:[{kind:"Literal",name:"icon_size",value:"DP24"},{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"XFBIXMapEntry",kind:"LinkedField",name:"bookmark_icon_sprite",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometImageFromIXValueRelayWrapper_sprite"}],storageKey:null}],type:"Bookmark",abstractKey:null};e.exports=a}),null);
__d("CometGlobalPanelShortcutsListItem_bookmark.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometGlobalPanelShortcutsListItem_bookmark",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_used_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query_prefetching_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"section",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:[{kind:"Literal",name:"bookmark_render_location",value:"COMET_LEFT_NAV"},{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(bookmark_render_location:"COMET_LEFT_NAV",site:"comet")'},{args:null,kind:"FragmentSpread",name:"useCometGlobalPanelShortcutsImage_bookmark"}],type:"Bookmark",abstractKey:null};e.exports=a}),null);
__d("CometGlobalPanelShortcutsList_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometGlobalPanelShortcutsList_viewer",selections:[{alias:"shortcut_bookmarks",args:[{kind:"Literal",name:"folder",value:"FAVORITES"}],concreteType:"FolderBookmark",kind:"LinkedField",name:"bookmark_folder",plural:!1,selections:[{alias:"shortcut_bookmark",args:[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"first",value:5},{kind:"Literal",name:"query_source",value:"BOOKMARKS_LIST"},{kind:"Literal",name:"sections",value:["PAGE","GROUP","FACEBOOK_APP","EVENT"]}],concreteType:"FolderBookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"FolderBookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_user_hidden",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometGlobalPanelShortcutsListItem_bookmark"}],storageKey:null}],storageKey:null}],storageKey:'bookmarks(environment:"COMET",first:5,query_source:"BOOKMARKS_LIST",sections:["PAGE","GROUP","FACEBOOK_APP","EVENT"])'}],storageKey:'bookmark_folder(folder:"FAVORITES")'}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometGlobalPanelShortcutsPopoverQuery$Parameters",["CometGlobalPanelShortcutsPopoverQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometGlobalPanelShortcutsPopoverQuery_facebookRelayOperation"),metadata:{},name:"CometGlobalPanelShortcutsPopoverQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("AppLastUsedTimestampsFetcher",["AppLastUsedTimestampsFetcherQuery.graphql","CometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c,e){return d("CometRelay").fetchQuery(a,h!==void 0?h:h=b("AppLastUsedTimestampsFetcherQuery.graphql"),{bookmarkIDs:c}).subscribe({next:function(a){a=a.viewer.bookmarks.edges.reduce(function(a,b){b=b.node;var c=b.bookmarked_node;b=b.last_used_timestamp;if(c==null)return a;c=c.id;if(c==null||b==null)return a;a[c]=b;return a},{});e(a)}})}c={fetch:a};e=c;g["default"]=e}),98);
__d("CometGlobalPanelProductItem.react",["fbt","CometGlobalPanelListItemLabel.react","CometGlobalPanelListItemSelectedIndicator.react","CometGlobalPanelPopoverActiveContext","CometImageFromIXValueRelayWrapper.react","CometPressable.react","CometTooltip.react","react","unrecoverableViolation","useIsGlobalPanelTooltipHidden"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext,k={pressable:{alignItems:"x6s0dn4",display:"x78zum5",paddingStart:"x1egjynq",paddingEnd:"x1ou2tus",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},root:{display:"x78zum5",justifyContent:"x1nhvcw1",position:"x1n2onr6",$$css:!0}};function a(a,b){var d=a.badgeComponent,e=a.badgeCount;e=e===void 0?0:e;var f=a.icon,g=a.isActive,l=a.label,m=a.linkProps,n=a.nuxRef,o=a.onPress;a=a.testid;if(f==null)throw c("unrecoverableViolation")("Unexpected null icon","comet");a=j(c("CometGlobalPanelPopoverActiveContext"));a=a.isPopoverActive;var p=c("useIsGlobalPanelTooltipHidden")();e=e>0?h._("__JHASH__8R80vfw61_2__JHASH__",[h._plural(e,"number"),h._param("label",l)]):l;e=i.jsx("span",{className:"x78zum5 x1nhvcw1 x1n2onr6",children:i.jsxs(c("CometPressable.react"),{"aria-current":g?"page":void 0,"aria-label":e,linkProps:m,onPress:o,overlayOffset:{bottom:0,left:-8,right:-8,top:0},overlayRadius:8,ref:b,testid:void 0,xstyle:k.pressable,children:[i.jsx(c("CometGlobalPanelListItemSelectedIndicator.react"),{showIndicator:g&&!a}),i.jsx(c("CometImageFromIXValueRelayWrapper.react"),{ref:n,sprite:f}),d,i.jsx(c("CometGlobalPanelListItemLabel.react"),{label:l})]})},"CometGlobalPanelTabRenderer");return i.jsx(c("CometTooltip.react"),{disabled:p,position:"end",tooltip:l,children:e})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("CometGlobalPanelTabRenderer.react",["CometErrorBoundary.react","CometGlobalPanelExpandedContext","CometGlobalPanelExpandedState","CometGlobalPanelProductItem.react","CometPlaceholder.react","qex","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=9;function a(a){var b,e=a.badgeCount,f=a.badgeRenderer,g=a.isActiveTab,k=a.isBadgeHidden;k=k===void 0?!1:k;var l=a.isPendingTab,m=a.label,n=a.linkProps,o=a.nuxRef,p=a.onPress,q=a.spriteIcon,r=a.tabKey;a=a.testid;a=i(c("CometGlobalPanelExpandedContext"));if(q==null)throw c("unrecoverableViolation")("Unexpected null customIcon for tabKey: "+r,"comet");a=a===d("CometGlobalPanelExpandedState").ExpandedState.Expanding||a===d("CometGlobalPanelExpandedState").ExpandedState.Expanded;b=(b=c("qex")._("1246"))!=null?b:!1;r=r==="most_recent_feed"&&b?o==null?void 0:o.feedsNux:null;b=g||l;return h.jsx(c("CometGlobalPanelProductItem.react"),{badgeComponent:f!=null?h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return h.jsx("span",{})},children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx("span",{}),children:h.jsx("span",{className:""+(a?" x92rtbv x10l6tqk x1eu8d0j x1mn5pkg xtt99h0":" xlr8s2x x10l6tqk x13vifvy"),children:f({isBadgeHidden:k,isTab:!0,overflow:j})})})}):void 0,badgeCount:e,icon:q,isActive:b,label:m,linkProps:n,nuxRef:r,onPress:p,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("CometGlobalPanelTab.react",["CometGlobalPanelTabRenderer.react","CometGlobalPanelTab_bookmark.graphql","CometRelay","CometTopNavTargetedTabWrapper.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.actorID,f=a.bookmark,g=a.isActiveTabOverride,j=a.nuxRef,k=a.pendingTabKey,l=a.position,m=a.setIsPendingTab;a=a.tabConfig;f=d("CometRelay").useFragment(h!==void 0?h:h=b("CometGlobalPanelTab_bookmark.graphql"),f);if(a==null)return null;var n=a.badgeComponent,o=a.badgeSubscriptionCallbackForTargetedTabs,p=a.badgeTestID;a=babelHelpers.objectWithoutPropertiesLoose(a,["badgeComponent","badgeSubscriptionCallbackForTargetedTabs","badgeTestID"]);return i.jsx(c("CometTopNavTargetedTabWrapper.react"),{actorID:e,badgeComponent:n,badgeCount:(e=f==null?void 0:f.unread_count)!=null?e:0,badgeSubscriptionCallback:o,badgeTestID:p,isActiveTabOverride:g,lastUsedTimestamp:f==null?void 0:f.last_used_timestamp,nuxRef:j,pendingTabKey:k,position:l,setIsPendingTab:m,spriteIcon:f==null?void 0:f.bookmark_icon_sprite,tabConfig:a,tabRenderer:c("CometGlobalPanelTabRenderer.react")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometGlobalPanelDockExcludedProducts",["CometGlobalPanelGating","CometRelay","react","useCometGlobalPanelDockExcludedProducts_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo,j="2361831622",k="4748854339",l="1603421209951282",m="391724414624676",n="190055527696468";function a(a){var c=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometGlobalPanelDockExcludedProducts_viewer.graphql"),a);return i(function(){var a,b,e;a=(a=c==null?void 0:(a=c.tab_bookmarks)==null?void 0:a.edges)!=null?a:[];b=(b=c==null?void 0:(b=c.bookmark_folder)==null?void 0:(b=b.bookmarks)==null?void 0:b.edges)!=null?b:[];e=(e=c==null?void 0:(e=c.professional_tools)==null?void 0:(e=e.professional_bookmark)==null?void 0:e.edges)!=null?e:[];b=new Set([].concat(b,a,e).map(function(a){a=a.node;return a==null?void 0:(a=a.bookmarked_node)==null?void 0:a.id}).filter(Boolean).concat([k,l,m,n]));d("CometGlobalPanelGating").shouldShowGroupsInGlobalPanel()&&b.add(j);return b},[c])}g["default"]=a}),98);
__d("useCometGlobalPanelDockManager",["cr:4234","react"],(function(a,b,c,d,e,f,g){"use strict";c=d("react");var h=c.useEffect,i=c.useRef,j=c.useState;function a(a){var c=a.activeID,d=a.dockedID,e=a.dockPrefetchMap,f=a.excludedIDs,g=a.fetchAndSetDockedItem;a=j(d!=null&&d===c&&c!=null&&!f.has(c));var k=a[0],l=a[1];a=j(0);var m=a[0],n=a[1],o=b("cr:4234")(),p=i();h(function(){var a=d!=null&&d===c&&c!=null&&!f.has(c);if(c!=null&&c!==p.current&&c!==d&&!f.has(c)){p.current=c;var b=e==null?void 0:e.get(c),h=(b==null?void 0:b.icon)!=null&&(b==null?void 0:b.name)!=null&&(b==null?void 0:b.url)!=null,i=!k,j=function(){i?(l(!0),o==null?void 0:o()):n(function(a){return a+1})};g({dockedPrefetchEntry:b,newDockedID:c,onCompleted:function(){h||j()}});h&&j()}else a!==k&&(l(a),o==null?void 0:o())},[c,d,f,e,g,k,o]);return[k,m]}g["default"]=a}),98);
__d("useCometGlobalPanelDockedProductManager",["CometGlobalPanelDockedProductQuery.graphql","CometRelay","WebPixelRatio","react","useCometGlobalPanelCoerceProductID","useCometGlobalPanelDockExcludedProducts","useCometGlobalPanelDockManager","useCometGlobalPanelDockedProductManager_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback;function a(a,e,f,g){g=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometGlobalPanelDockedProductManager_viewer.graphql"),g);g=c("useCometGlobalPanelDockExcludedProducts")(g);var k=c("useCometGlobalPanelCoerceProductID")(),l=d("CometRelay").useRelayEnvironment(),m=i(function(a){var b=a.newDockedID;a=a.onCompleted;j(l,b,a,f)},[l,f]);return c("useCometGlobalPanelDockManager")({activeID:k(a),dockedID:e,excludedIDs:g,fetchAndSetDockedItem:m})}function j(a,b,e,f){d("CometRelay").fetchQuery(a,c("CometGlobalPanelDockedProductQuery.graphql"),{bookmarkIDs:[b],scale:d("WebPixelRatio").get()}).subscribe({next:function(a){e(),f(b)}})}g["default"]=a}),98);
__d("CometGlobalPanelDockedProduct.react",["Actor","CometGlobalPanelDockedProductQuery.graphql","CometGlobalPanelDockedProduct_viewer.graphql","CometGlobalPanelTab.react","CometLoggedInTargetedTabsList","CometRelay","WebPixelRatio","cr:4231","cr:4232","cr:4233","react","useCometGlobalPanelDockedProductManager","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");e=d("react");var k=e.useCallback,l=e.useState;function m(a){var e;a=a.dockedProductID;a=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometGlobalPanelDockedProductQuery.graphql"),{bookmarkIDs:[a],scale:d("WebPixelRatio").get()},{fetchPolicy:"store-only"});a=a.viewer;var f=d("Actor").useActor();f=f[0];var g=l(null),i=g[0],m=g[1];g=k(function(a,b){m(a?b:null)},[m]);a=a==null?void 0:(a=a.bookmarks)==null?void 0:(a=a.nodes)==null?void 0:a[0];var n=a==null?void 0:a.name,o=a==null?void 0:a.url;e=a==null?void 0:(e=a.bookmarked_node)==null?void 0:e.id;if(e==null)return null;n=n!=null&&o!=null?{appID:e,label:n,tabKey:"__no_tab_key",url:o}:null;e=(o=e!=null?c("CometLoggedInTargetedTabsList").get(e):null)!=null?o:n;return j.jsx(c("CometGlobalPanelTab.react"),{actorID:f,bookmark:a,isActiveTabOverride:!0,pendingTabKey:i,position:-1,setIsPendingTab:g,tabConfig:e})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var e;a=a.viewer$key;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometGlobalPanelDockedProduct_viewer.graphql"),a);e=(e=c("useCometRouterState")())==null?void 0:e.main.route.productAttributionId;var f=l(null),g=f[0];f=f[1];e=c("useCometGlobalPanelDockedProductManager")(e,g,f,a);var h=e[0];f=e[1];return j.jsx(b("cr:4233"),{children:g!=null?j.jsx(b("cr:4232"),{children:function(a,c){return j.jsx(b("cr:4231"),{hidden:!h,isPresent:a,mountFrom:{opacity:0,y:-52},onExitComplete:c,springConfig:{bounciness:4,speed:40},unmountTo:{opacity:0,y:-52},children:j.jsx(m,{dockedProductID:g})})}},f):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometGlobalPanelJewelPopoverContainer.react",["BaseContextualLayerAnchorRootContext","BaseContextualLayerDefaultContainer.react","BasePortal.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={mask:{backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",end:"xds687c",position:"xixxii4",start:"x1uvyrtv",top:"xxzkxad",$$css:!0},root:{position:"xixxii4",start:"x1uvyrtv",top:"xxzkxad",$$css:!0}};function a(a,b){var d=a.children,e=a.hidden;e=e===void 0?!1:e;a=a.showMask;a=a===void 0?!0:a;var f=i(c("BaseContextualLayerAnchorRootContext"));return h.jsx(c("BasePortal.react"),{target:f.current,children:h.jsxs("div",{ref:b,children:[a&&!e&&h.jsx("div",{className:"x1h0vfkc x1ey2m1c xds687c xixxii4 x1uvyrtv xxzkxad"}),h.jsx(c("BaseContextualLayerDefaultContainer.react"),{hidden:e,xstyle:j.root,children:d})]})})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("GlobalPanelJewelPopoverTriggerBase.react",["BaseButtonPopoverContext","BaseContextualLayerAnchorRoot.react","BasePopoverLayerVisibility.react","CometErrorBoundary.react","CometEventTimings","CometGlobalPanelJewelPopoverContainer.react","CometHeroInteractionContextPassthrough.react","CometHeroInteractionWithDiv.react","CometHeroLogging","CometHideLayerOnEscape.react","CometPlaceholder.react","FocusRegion.react","cr:1791018","cr:1802022","focusScopeQueries","react","useCometPrerenderer","useOnOutsideClick"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useMemo,k=e.useRef,l=e.useState;function m(a){var b=a.content;a=a.fallback;return h.jsx(c("CometPlaceholder.react"),{fallback:(a=a)!=null?a:null,children:b})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var e=a.children,f=a.fallback,g=a.focusQuery,n=g===void 0?d("focusScopeQueries").headerFirstTabbableSecondScopeQuery:g;g=a.onHighIntentPreload;var o=a.onLayerDetached,p=a.onVisibilityChange,q=a.interactionTracker,r=a.popover,s=a.popoverRenderer,t=s===void 0?m:s,u=a.popoverPreloadResource,v=a.popoverProps,w=a.triggerOutsideClickOnDrag;s=a.preloadTrigger;a=l(!1);var x=a[0],y=a[1];a=l(null);var z=a[0],A=a[1],B=k(null),C=i(function(a){y(a),p&&p(a)},[p]),D=i(function(){C(!1)},[C]),E=i(function(a){if(!x)if(q==null)C(!0);else{a=d("CometEventTimings").getCurrentQueueTime(a==null?void 0:a.timeStamp);var b=a[0];a=a[1];q(function(a){C(!0),A(c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId()))},b,a)}},[x,q,C]),F=i(function(a){b("cr:1791018")&&a!=null&&z!=null&&b("cr:1791018").addMutationRootForTraceId(z,a)},[z]);a=c("useCometPrerenderer")(s,x,u,g);s=a[0];g=a[1];var G=a[2],H=a[3];a=a[4];var I=i(function(a){B.current=a!=null?a:null},[]),J=c("useOnOutsideClick")(x?D:null,j(function(){return{isTargetEligible:function(a){var b=B.current;return b!=null?!b.contains(a):!0},triggerOutsideClickOnDrag:w}},[w])),K=i(function(a){x?D():E(a)},[x,D,E]);return h.jsxs(h.Fragment,{children:[h.jsx(c("BaseButtonPopoverContext").Provider,{value:null,children:e(I,K,D,g,G,H,a,x)}),h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(b("cr:1802022"),{prerenderingProps:s,children:function(a){a=a.hidden;return h.jsx(c("CometGlobalPanelJewelPopoverContainer.react"),{hidden:a,ref:F,showMask:x,children:h.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:a?null:n,autoRestoreFocus:!a,containFocusQuery:a?null:d("focusScopeQueries").tabbableScopeQuery,recoverFocusQuery:a?null:n,children:h.jsx(c("BaseContextualLayerAnchorRoot.react"),{children:h.jsx(c("CometHideLayerOnEscape.react"),{onHide:D,children:h.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:h.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"popover_"+(u!=null?u.getModuleId():"Unknown"),interactionUUID:z,ref:J,children:h.jsx(c("BasePopoverLayerVisibility.react"),{onLayerDetached:o,children:t({content:h.jsx(r,babelHelpers["extends"]({},v,{onClose:D})),fallback:f})})})})})})})},"popover")}})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometGlobalPanelJewelPopoverTrigger.react",["CometEntryPointPopoverContainer.react","CometPopoverLoadingState.react","CometRelay","GlobalPanelJewelPopoverTriggerBase.react","deepEquals","react","tracePolicyFromResource","useCometPopoverInteractionTracing","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo,k=b.useRef;function a(a){var b=a.children,e=a.doNotCloseOnOutsideClick,f=a.entryPointParams,g=a.fallback,l=a.focusQuery,m=a.onVisibilityChange,n=a.otherProps,o=a.popoverEntryPoint,p=a.preloadTrigger;a=a.tracePolicy;a=c("useCometPopoverInteractionTracing")((a=a)!=null?a:c("tracePolicyFromResource")("comet.jewel",o.root),"entrypoint",p);var q=c("useCometRelayEntrypointContextualEnvironmentProvider")();q=d("CometRelay").useEntryPointLoader(q,o);var r=q[0],s=q[1];q=q[2];var t=k(null),u=i(function(){if(f==null)return;if(r!==null&&c("deepEquals")(t.current,f))return;t.current=f;s(f)},[f,r,s]),v=j(function(){return{entryPointParams:f,entryPointReference:r,load:u,otherProps:n}},[f,r,u,n]),w=i(function(){(arguments.length<=0?void 0:arguments[0])&&u(),m&&m.apply(void 0,arguments)},[u,m]);return h.jsx(c("GlobalPanelJewelPopoverTriggerBase.react"),{doNotCloseOnOutsideClick:e,fallback:(e=g)!=null?e:h.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0}),focusQuery:l,interactionTracker:a,onHighIntentPreload:u,onLayerDetached:q,onVisibilityChange:w,popover:c("CometEntryPointPopoverContainer.react"),popoverPreloadResource:o.root,popoverProps:v,preloadTrigger:p,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometGlobalPanelMegaMenuJewel.react",["fbt","ix","CometGlobalPanelJewelPopoverTrigger.react","CometGlobalPanelListItem.react","CometGlobalPanelListItemLabel.react","CometGlobalPanelPopoverActiveContext","CometHomeMegaMenuRoot.entrypoint","CometMegaMenuLoadingState.react","fbicon","react","useTopNavigationLogging"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext,l={pressable:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0},root:{position:"x1n2onr6",$$css:!0}},m={icon:d("fbicon")._(i("584531"),16),type:"contained-icon"};function a(){var a=d("useTopNavigationLogging").useMegaMenuLoggingCallbacks(),b=a[0],e=a[1];a=k(c("CometGlobalPanelPopoverActiveContext"));a=a.setIsPopoverActive;return j.jsx("div",{className:"x1n2onr6","data-testid":void 0,children:j.jsx(c("CometGlobalPanelJewelPopoverTrigger.react"),{align:"start",entryPointParams:{},fallback:j.jsx(c("CometMegaMenuLoadingState.react"),{}),onVisibilityChange:a,otherProps:{},popoverEntryPoint:c("CometHomeMegaMenuRoot.entrypoint"),position:"end",preloadTrigger:"button_aggressive",tracePolicy:"comet.jewel.megamenu",children:function(a,d,f,g,i,k,n,o){return j.jsx(c("CometGlobalPanelListItem.react"),{LabelComponent:c("CometGlobalPanelListItemLabel.react"),addOnStart:m,isHeading:!1,isSelected:o,label:h._("__JHASH__g1XuqrO4u78__JHASH__"),loggingRef:e,onHoverIn:g,onHoverOut:i,onPress:function(){d(),b()},onPressIn:k,pressableXStyle:l.pressable,ref:a})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometGlobalPanelPopoverLoadingState.react",["CometGlobalPanelPopoverPanel.react","CometSettingsListDropdownLoadingState.react","CometTopNavListDropdown.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.hasActions;b=b===void 0?!1:b;var d=a.numberOfItems;a=a.title;return h.jsx(c("CometGlobalPanelPopoverPanel.react"),{children:h.jsx(c("CometTopNavListDropdown.react").Card,{background:"white",useMaxHeight:!0,children:h.jsx("div",{className:"x96k8nx",children:h.jsx(c("CometSettingsListDropdownLoadingState.react").WithoutPopover,{hasActions:b,numberOfItems:d,title:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometGlobalPanelSetRecentProduct",["CometRelay","react","useCometGlobalPanelSetRecentProductMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j="comet-dock-";function a(){var a=d("CometRelay").useMutation(h!==void 0?h:h=b("useCometGlobalPanelSetRecentProductMutation.graphql")),c=a[0];return i(function(a){return c({updater:function(b){var c;b=b.getRoot().getLinkedRecord("viewer");if(b==null)return;c=(c=b==null?void 0:b.getLinkedRecords("comet_docked_tabs",{first:5}))!=null?c:[];var d=c.find(function(b){return(b==null?void 0:(b=b.getLinkedRecord("bookmarked_node"))==null?void 0:b.getDataID())===a});if(d!=null){d=[d].concat(c.filter(function(b){return(b==null?void 0:(b=b.getLinkedRecord("bookmarked_node"))==null?void 0:b.getDataID())!==a}));b.setLinkedRecords(d,"comet_docked_tabs",{first:5})}else c.forEach(function(a){return a==null?void 0:a.invalidateRecord()})},variables:{productIdentifier:""+j+a}})},[c])}g["default"]=a}),98);
__d("useCometGlobalPanelRecentsTracker",["JSScheduler","react","useCometGlobalPanelCoerceProductID","useCometGlobalPanelSetRecentProduct","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=new Set(["1603421209951282","391724414624676","190055527696468"]);function a(){var a;a=(a=c("useCometRouterState")())==null?void 0:a.main.route.productAttributionId;var b=c("useCometGlobalPanelCoerceProductID")(),e=b(a),f=i(null),g=c("useCometGlobalPanelSetRecentProduct")();h(function(){e!=null&&e!==f.current&&!j.has(e)&&(f.current=e,d("JSScheduler").scheduleLoggingPriCallback(function(){return g(e)}))},[e,g])}g["default"]=a}),98);
__d("CometGlobalPanelRecentsTracker.react",["useCometGlobalPanelRecentsTracker"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("useCometGlobalPanelRecentsTracker")();return null}g["default"]=a}),98);
__d("CometGlobalPanelCard.react",["CometAnimatedLayoutContainer_DO_NOT_USE.react","CometDivider.react","CometGlobalPanelExpandedContext","CometGlobalPanelExpandedState","CometGlobalPanelPopoverActiveContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={card:{width:"xh8yej3",$$css:!0},cardMargin:{marginBottom:"x12nagc",$$css:!0},container:{width:"xh8yej3",$$css:!0},divider:{marginBottom:"x1e56ztr",marginStart:"x1d52u69",marginEnd:"xktsk01",$$css:!0},dividerCollapsed:{width:"x54akz5",$$css:!0}},k={bounciness:4,speed:40},l=h.memo(function(a){var b=a.children,d=a.hasTopDivider;a=a.xstyle;return h.jsx(c("CometAnimatedLayoutContainer_DO_NOT_USE.react"),{borderRadius:8,showOverflow:!0,springConfig:k,xstyle:[j.card,d!==!0&&j.cardMargin,a],children:b})});function a(a){var b=a.children,e=a.hasTopDivider;e=e===void 0?!1:e;a=a.xstyle;var f=i(c("CometGlobalPanelPopoverActiveContext"));f=f.isPopoverActive;var g=i(c("CometGlobalPanelExpandedContext"));return h.jsxs("div",{className:"xh8yej3",children:[e&&h.jsx("div",{className:"x1e56ztr x1d52u69 xktsk01"+(f||g===d("CometGlobalPanelExpandedState").ExpandedState.Collapsing?" x54akz5":""),children:h.jsx(c("CometDivider.react"),{})}),h.jsx(l,{hasTopDivider:e,xstyle:a,children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useExtractCometBookmarkTracking",["useJSON"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("useJSON")((a=a)!=null?a:null);var b=a!=null?a.bmid:null;a=a!=null?a.bookmark_type:null;return{bookmarkID:b,bookmarkType:a}}g["default"]=a}),98);
__d("useCometGlobalPanelNUXTargets",["nux:198"],(function(a,b,c,d,e,f,g){"use strict";a=b("nux:198")==null?void 0:b("nux:198")("comet_community_panel_nux");g["default"]=a}),98);
__d("CometGlobalPanelProductTabs.react",["CometAnimatedLayoutContainer_DO_NOT_USE.react","CometGlobalPanelProductTabs_viewer.graphql","CometRelay","cr:1011","cr:2228","cr:2651","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j={bounciness:4,speed:40};function a(a){a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometGlobalPanelProductTabs_viewer.graphql"),a);var e=b("cr:2651")!=null?i.jsx(b("cr:2651"),{viewer:a}):null;a=b("cr:1011")!=null?i.jsx(b("cr:1011"),{viewer:a}):b("cr:2228")!=null?i.jsx(b("cr:2228"),{viewer:a}):null;return a!=null||e!=null?i.jsxs(c("CometAnimatedLayoutContainer_DO_NOT_USE.react"),{showOverflow:!0,springConfig:j,children:[e,a]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometGlobalPanelProductTabsWithDock.react",["CometColumn.react","CometColumnItem.react","CometErrorBoundary.react","CometGlobalPanelCard.react","CometGlobalPanelDockedProduct.react","CometGlobalPanelMegaMenuJewel.react","CometGlobalPanelProductTabs.react","CometGlobalPanelProductTabsWithDock_viewer.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.productSectionNUXTarget;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometGlobalPanelProductTabsWithDock_viewer.graphql"),a);return i.jsxs(c("CometGlobalPanelCard.react"),{hasTopDivider:!0,children:[i.jsxs(c("CometColumn.react"),{align:"start",children:[i.jsx(c("CometColumnItem.react"),{children:i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometGlobalPanelDockedProduct.react"),{viewer$key:a})})}),i.jsx(c("CometColumnItem.react"),{children:i.jsx(c("CometGlobalPanelProductTabs.react"),{viewer:a})}),i.jsx(c("CometColumnItem.react"),{children:i.jsx(c("CometGlobalPanelMegaMenuJewel.react"),{})})]}),e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometGlobalPanelShortcutsListItem.react",["CometGlobalPanelListItemLabel.react","CometGlobalPanelShortcutsListItem_bookmark.graphql","CometPressable.react","CometRelay","CometTooltip.react","react","requireDeferred","translatedServerString","useBookmarkFalcoFullViewLogger","useCometGlobalPanelShortcutsImage","useExtractCometBookmarkTracking","useIsGlobalPanelTooltipHidden","useShouldPrefetchQueriesBasedOnLastUsedTimestamp"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=c("requireDeferred")("CometRecordProductUsageMutation").__setRef("CometGlobalPanelShortcutsListItem.react"),k=c("requireDeferred")("WebBookmarkClickFalcoEvent").__setRef("CometGlobalPanelShortcutsListItem.react"),l=c("requireDeferred")("logCometBookmarkListItemPressed").__setRef("CometGlobalPanelShortcutsListItem.react"),m={pressable:{alignItems:"x6s0dn4",display:"x78zum5",paddingStart:"x1egjynq",paddingEnd:"x1ou2tus",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",position:"x1n2onr6",$$css:!0}};function a(a){var e=a.bookmark$key,f=a.position;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometGlobalPanelShortcutsListItem_bookmark.graphql"),e);e=a.bookmarked_node;var g=a.last_used_timestamp,n=a.name,o=a.query_prefetching_eligible,p=a.section,q=a.tracking,r=a.url,s=d("CometRelay").useRelayEnvironment();a=c("useCometGlobalPanelShortcutsImage")({bookmark$key:a,size:24});var t=c("useIsGlobalPanelTooltipHidden")();o=c("useShouldPrefetchQueriesBasedOnLastUsedTimestamp")(o,g);var u=e==null?void 0:e.id;g=c("useExtractCometBookmarkTracking")(q);var v=g.bookmarkID;e=g.bookmarkType;g=c("useBookmarkFalcoFullViewLogger")(q,f,null,"comet_lhc");var w=function(){k.onReady(function(a){a.log(function(){return{interface_override:"comet_www",item_rank:f.toString(),surface:"comet_lhc",tracking_data:q}}),j.onReady(function(a){v!=null&&a.updateProductUsage(s,v)})}),l.onReady(function(a){return a(p,(a=r)!=null?a:"",u,!1)})};return i.jsx(c("CometTooltip.react"),{disabled:t,position:"end",tooltip:n,children:i.jsxs(c("CometPressable.react"),{"aria-label":(t=n)!=null?t:"",linkProps:{passthroughProps:{ref:"bookmark"},prefetchQueriesOnHover:o,preloadCodeOnMount:!0,productAttribution:{bookmark_id:u,bookmark_type_name:e,tap_point:"tap_bookmark"},traceParams:{navigation_source:"community_panel_shortcut_click"},url:r},onPress:w,overlayOffset:{bottom:0,left:-8,right:-8,top:0},overlayRadius:8,ref:g,xstyle:m.pressable,children:[a,i.jsx(c("CometGlobalPanelListItemLabel.react"),{label:c("translatedServerString")((t=n)!=null?t:"")})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometGlobalPanelShortcutsPopover.entrypoint",["CometGlobalPanelShortcutsPopoverQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("CometGlobalPanelShortcutsPopoverQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometGlobalPanelShortcutsPopover.react").__setRef("CometGlobalPanelShortcutsPopover.entrypoint")};b=a;g["default"]=b}),98);
__d("CometGlobalPanelShortcutsPopoverButton.react",["fbt","ix","CometGlobalPanelJewelPopoverTrigger.react","CometGlobalPanelListItem.react","CometGlobalPanelListItemLabel.react","CometGlobalPanelPopoverActiveContext","CometGlobalPanelPopoverLoadingState.react","CometGlobalPanelShortcutsPopover.entrypoint","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext,l={icon:d("fbicon")._(i("481759"),16),type:"contained-icon"};function a(a){var b=a.xstyle;a=k(c("CometGlobalPanelPopoverActiveContext"));a=a.setIsPopoverActive;var d=h._("__JHASH__EE08iVX9Nc-__JHASH__");return j.jsx(c("CometGlobalPanelJewelPopoverTrigger.react"),{align:"start",entryPointParams:{},fallback:j.jsx(c("CometGlobalPanelPopoverLoadingState.react"),{title:d}),onVisibilityChange:a,otherProps:{},popoverEntryPoint:c("CometGlobalPanelShortcutsPopover.entrypoint"),position:"end",preloadTrigger:"button_aggressive",children:function(a,e,f,g,h,i,k,m){return j.jsx(c("CometGlobalPanelListItem.react"),{LabelComponent:c("CometGlobalPanelListItemLabel.react"),addOnStart:l,isHeading:!1,isSelected:m,label:d,onHoverIn:g,onHoverOut:h,onPress:e,onPressIn:i,pressableXStyle:b,ref:a})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometGlobalPanelShortcutsList.react",["CometColumn.react","CometColumnItem.react","CometGlobalPanelCard.react","CometGlobalPanelShortcutsListItem.react","CometGlobalPanelShortcutsList_viewer.graphql","CometGlobalPanelShortcutsPopoverButton.react","CometProductAttributionContextProvider.react","CometRelay","react","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j={popoverButton:{marginBottom:"xjpr12u",$$css:!0}};function a(a){a=a.viewer$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometGlobalPanelShortcutsList_viewer.graphql"),a);var e=c("useCometRouterState")();e=(e==null?void 0:e.main.route.tabKey)==="home";a=((a=(a=a.shortcut_bookmarks)==null?void 0:(a=a.shortcut_bookmark)==null?void 0:a.edges)!=null?a:[]).map(function(a){a=a.node;return(a==null?void 0:a.has_user_hidden)===!0?null:a}).filter(Boolean);return i.jsx(c("CometProductAttributionContextProvider.react"),{value:"bookmarks",children:i.jsx(c("CometProductAttributionContextProvider.react"),{value:"shortcuts",children:i.jsx(c("CometGlobalPanelCard.react"),{hasTopDivider:!0,children:i.jsxs(c("CometColumn.react"),{align:"start",children:[e?a.map(function(a,b){return i.jsx(c("CometColumnItem.react"),{children:i.jsx(c("CometGlobalPanelShortcutsListItem.react"),{bookmark$key:a,position:b})},a.id)}):null,i.jsx(c("CometColumnItem.react"),{expanding:!1,children:i.jsx(c("CometGlobalPanelShortcutsPopoverButton.react"),{xstyle:j.popoverButton})})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometGlobalPanelProductSection.react",["CometColumn.react","CometColumnItem.react","CometGlobalPanelProductSection_viewer.graphql","CometGlobalPanelProductTabsWithDock.react","CometGlobalPanelShortcutsList.react","CometLayoutAnimationBoundary_DO_NOT_USE.react","CometPlaceholder.react","CometRelay","cr:2726","cr:2850","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=(e=b("cr:2726"))!=null?e:function(){return{groupsTarget:null,productSectionTarget:null}};function a(a){a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometGlobalPanelProductSection_viewer.graphql"),a);var e=j(),f=e.groupsNUXTarget;e=e.productSectionNUXTarget;return i.jsx(c("CometLayoutAnimationBoundary_DO_NOT_USE.react"),{children:i.jsxs(c("CometColumn.react"),{align:"start",children:[i.jsx(c("CometColumnItem.react"),{paddingTop:4,paddingVertical:8,children:i.jsx(c("CometGlobalPanelProductTabsWithDock.react"),{productSectionNUXTarget:e,viewer:a})}),b("cr:2850")!=null&&i.jsx(c("CometColumnItem.react"),{paddingTop:0,paddingVertical:8,children:i.jsx(b("cr:2850"),{groupsNUXTarget:f,viewer:a})}),i.jsx(c("CometColumnItem.react"),{paddingTop:0,paddingVertical:8,children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("CometGlobalPanelShortcutsList.react"),{viewer$key:a})})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometGlobalPanelNavigationSearchPlaceholder.react",["fbt","CometGlobalPanelGating","CometPressable.react","CometRoundedTextInput.react","MagnifyingGlassFilled16IconSvg.react","SearchCometTypeaheadLoggingContextProvider","TetraIcon.react","cometGetKeyCommandConfig","cometTypeaheadInputWebkitStyles","react","useCometTypeaheadInputDirection","useGlobalKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useMemo,m=b.useRef,n={root:{flexGrow:"x1iyjqo2",marginTop:"x1xmf6yo",$$css:!0}};function o(a){var b=a.inputElmRef,e=a.setIsFocused,f=a.setOpened,g=j(function(){var a;e(!0);f(!0);b==null?void 0:(a=b.current)==null?void 0:a.focus()},[b,e,f]);a=l(function(){return[d("cometGetKeyCommandConfig").getCometKeyCommandConfig("global","search",g)]},[g]);c("useGlobalKeyCommands")(a);return void 0}function a(a){var b=a.autoFocus;b=b===void 0?!1:b;var e=a.inputXStyle,f=a.onChange,g=a.onInteracted,l=a.queryString,p=a.setIsFocused,q=a.setOpened;a=m();var r=k(d("SearchCometTypeaheadLoggingContextProvider").CometLoggingProviderContext),s=r.onSessionStart;r=h._("__JHASH___9EIWdQL4U5__JHASH__");var t=h._("__JHASH__oTSOcwn1bTU__JHASH__"),u=c("useCometTypeaheadInputDirection")({queryString:l}),v=j(function(a){f(a.target.value),q(!0),g()},[f,q,g]),w=j(function(){g(),q(!0),p(!0)},[g,q,p]),x=j(function(){g(),p(!0),s()},[p,g,s]),y=j(function(){p(!1),q(!1)},[p,q]);return i.jsxs(c("CometPressable.react"),{"aria-placeholder":r,expanding:!0,hideFocusOverlay:!0,hideHoverOverlay:!0,onHoverIn:g,onPress:w,onPressIn:g,testid:void 0,xstyle:n.root,children:[d("CometGlobalPanelGating").isGlobalPanelVisible()?i.jsx(o,{inputElmRef:a,setIsFocused:p,setOpened:q}):null,i.jsx(c("CometRoundedTextInput.react"),{autoComplete:"off",autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:b,dir:u,icon:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:c("MagnifyingGlassFilled16IconSvg.react"),size:16}),label:t,onBlur:y,onChange:v,onFocus:x,placeholder:r,ref:a,size:"large",spellCheck:!1,suppressHydrationWarning:!0,type:"search",value:l,xstyle:[e,c("cometTypeaheadInputWebkitStyles")["default"]]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometCommunityPanelActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1988");b=d("FalcoLoggerInternal").create("comet_community_panel_action",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("CometUFICommentsCount_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentsCount_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},{alias:"i18n_comment_count",args:null,kind:"ScalarField",name:"comment_count_reduced",storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentActionRenderer_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometUFICommentActionRenderer_renderer$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("CometUFICommentActionRenderer_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActionRenderer_renderer",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"UFICommentActionRenderer",abstractKey:null};e.exports=a}),null);
__d("CometUFIShareActionRenderer_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareActionRenderer_feedback",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIShareAction_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIShareActionRenderer_shareable.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareActionRenderer_shareable",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIShareAction_shareable"}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("CometUFIShareActionRenderer_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareActionRenderer_story",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIShareAction_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometUFIStoryReactActionRenderer_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],c={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},d=[a,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_deprecated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}];return{kind:"SplitOperation",metadata:{},name:"CometUFIStoryReactActionRenderer_renderer$normalization",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:"viewer_custom_reaction",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_render_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFIReactButtonBase_feedback",fragmentName:"CometUFIViewerCustomReactionIcon_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},a],storageKey:null},{alias:null,args:b,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[a,c],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[a],storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[c,a],storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_use_group_custom_reactions_beta",plural:!1,selections:[{args:null,documentName:"CometUFIReactionsMenu_feedback",fragmentName:"CometUFIReactionsMenuDynamicBeta_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},a],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_cannot_use_group_custom_reactions_beta",plural:!1,selections:[{args:null,documentName:"CometUFIReactionsMenu_feedback__cannot_use_group_custom_reactions_beta",fragmentName:"CometUFIReactionsMenuClassic_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},a],storageKey:null},a,{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_render_group_custom_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"supported_reaction_infos",plural:!0,selections:d,storageKey:null},a],storageKey:null}],storageKey:null},{alias:"hideLabelForAMA",args:null,kind:"ScalarField",name:"hide_label",storageKey:null}]}}();e.exports=a}),null);
__d("CometUFIStoryReactActionRenderer_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIStoryReactActionRenderer_renderer",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIReactButtonBase_feedback"}],storageKey:null},{alias:"hideLabelForAMA",args:null,kind:"ScalarField",name:"hide_label",storageKey:null}],type:"UFIStoryReactActionRenderer",abstractKey:null};e.exports=a}),null);
__d("CometUFIShareAction_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareAction_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_reshare_warning",storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIShareAction_shareable.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareAction_shareable",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},{args:null,kind:"FragmentSpread",name:"CometUFIShareActionLinkMenu_shareable"}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("CometUFIShareAction_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareAction_story",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIShareActionLinkMenu_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometUFIReactButtonBase_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFIReactButtonBase_feedback",selections:[{alias:"viewer_custom_reaction",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_render_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFIReactButtonBase_feedback",fragmentName:"CometUFIViewerCustomReactionIcon_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[a,b],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[a],storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[b],storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIReactionsMenu_feedback"},{args:null,kind:"FragmentSpread",name:"useCometUFIReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"useCometUFIReactionUtils_feedback"}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("useCometUFIReactMutation_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"useCometUFIReactMutation_feedback",selections:[a,{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("ReshareWarningCometDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6194606293911836"}),null);
__d("ReshareWarningCometDialogQuery$Parameters",["ReshareWarningCometDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("ReshareWarningCometDialogQuery_facebookRelayOperation"),metadata:{},name:"ReshareWarningCometDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFIClassicTopReactions_feedback$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometUFIClassicTopReactions_feedback$normalization",selections:[{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[a],storageKey:null},a,{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null}],storageKey:null},{alias:"i18n_reaction_count",args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'}]}}();e.exports=a}),null);
__d("CometUFIClassicTopReactions_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFIClassicTopReactions_feedback",selections:[{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[a],storageKey:null},a,{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null}],storageKey:null},{alias:"i18n_reaction_count",args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFITopReactions_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFITopReactions_feedback",selections:[{alias:"can_see_top_custom_reactions",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_render_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFITopReactions_feedback",fragmentName:"CometUFICustomTopReactions_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],storageKey:null},{alias:"cannot_see_top_custom_reactions",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_cannot_render_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFITopReactions_feedback__cannot_use_group_custom_reactions",fragmentName:"CometUFIClassicTopReactions_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("PressableGroup.react",["PressableGroupContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo,l=b.useRef;function a(a){a=a.children;var b=l(null),d=l(new Map()),e=i(function(){var a,c=(a=window)==null?void 0:a.document;if(c==null)return;var e=function a(e){b.current=null;c.removeEventListener("touchend",a);var f=e.changedTouches[0],g=f.clientX,h=f.clientY;d.current.forEach(function(a,b){b=b.getBoundingClientRect();var c=b.bottom,d=b.left,f=b.right;b=b.top;b<=h&&h<=c&&d<=g&&g<=f&&a(e)})};b.current=function(){c.removeEventListener("touchend",e)};c.addEventListener("touchend",e)},[]),f=i(function(a,b){d.current.set(a,b)},[]),g=i(function(a){d.current["delete"](a)},[]),m=k(function(){return{onTouchStart:e,register:f,unRegister:g}},[e,f,g]);j(function(){return function(){b.current&&b.current()}},[]);return h.jsx(c("PressableGroupContext").Provider,{value:m,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometWithReactionBounceAnimation.react",["react","useOnUpdateEffect","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var b=a.children,d=a.reactionID;a=i(0);var e=a[0],f=a[1],g=c("usePrevious")(d);c("useOnUpdateEffect")(function(){if(d==null)return;g!==d&&f(function(a){return a+1})},[g,d]);return h.jsx("span",{className:"x3nfvp2"+(e>0?" x2mfxb x1au9nqc":""),children:b},e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentsCount.react",["fbt","CometFeedARIAProperties.react","CometPressable.react","CometRelay","CometTrackingNodeProvider.react","CometUFICommentsCount_feedback.graphql","CometUFISummaryBarLabel.react","CometUFITooltip.react","JSResourceForInteraction","gkx","react","unrecoverableViolation","useRadicalUFIClickInteractionLogging"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useContext,l=c("JSResourceForInteraction")("CometUFICommentsCountTooltipContent.react").__setRef("CometUFICommentsCount.react"),m={link:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",color:"x1heor9g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",":hover_textDecoration":"xt0b8zv",$$css:!0}};function a(a){var e=a.feedback,f=a.onClick;a=a.textType;a=a===void 0?"body3":a;f=c("useRadicalUFIClickInteractionLogging")(f,{clickInteractionSource:"comment_count"});e=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentsCount_feedback.graphql"),e);var g=e.comment_count,n=e.i18n_comment_count;e=e.id;var o=k(c("CometFeedARIAProperties.react"));g=g==null?void 0:g.total_count;if(g==null)throw c("unrecoverableViolation")("CometUFICommentsCount: Expected a comments count","ufi2");else if(g===0)return null;if(e==null)throw c("unrecoverableViolation")("CometUFICommentsCount: Expected feedback target to have an id","ufi2");var p=h._("__JHASH__ddzzyA7bQn8__JHASH__",[h._plural(g,"number",n)]);f=j.jsx(c("CometPressable.react"),babelHelpers["extends"]({},o.commentCountTargetProps,{onPress:f,overlayDisabled:!0,ref:o.commentCountTargetRef,testid:void 0,xstyle:m.link,children:j.jsx(c("CometUFISummaryBarLabel.react"),{count:g,icon:"comment",label:p,reducedCount:n,textType:a})}));return j.jsx(c("CometUFITooltip.react"),{tooltipContentComponent:l,tooltipContentProps:{queryVariables:{feedbackTargetID:e}},children:c("gkx")("7956")?j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:24,children:f}):f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIShareActionLinkLabel",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__gtwmLwbC7w3__JHASH__");b=a;g["default"]=b}),98);
__d("CometUFISummaryContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({width:void 0});g["default"]=b}),98);
__d("CometUFISummaryBarLabelCollapsible.react",["ix","CometRow.react","CometRowItem.react","CometUFISummaryContext.react","TetraIcon.react","TetraText.react","fbicon","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext;function k(a){switch(a){case"comment":return d("fbicon")._(h("508557"),16);case"share":return d("fbicon")._(h("484398"),16);case"eye":return d("fbicon")._(h("491230"),16);case"ballot-box":return d("fbicon")._(h("1478524"),16);case"play":return d("fbicon")._(h("484865"),16)}}function a(a){var b=a.color;b=b===void 0?"secondary":b;var d=a.count,e=a.icon,f=a.label,g=a.reducedCount;a=a.textType;a=a===void 0?"body3":a;var h=j(c("CometUFISummaryContext.react"));h=h.width;h=h!=null&&h<500;if(h){h=k(e);if(g==null&&d==null||h==null)return null;g=(e=g)!=null?e:c("intlSummarizeNumber")(d);return i.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,spacingHorizontal:4,verticalAlign:"center",children:[i.jsx(c("CometRowItem.react"),{children:i.jsx(c("TetraText.react"),{color:b,type:a,children:g})}),i.jsx(c("CometRowItem.react"),{children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:h})})]})}return i.jsx(c("TetraText.react"),{color:b,type:a,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFISummaryBarLabelDefault.react",["TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.color;b=b===void 0?"secondary":b;var d=a.label;a=a.textType;a=a===void 0?"body3":a;return h.jsx(c("TetraText.react"),{color:b,type:a,children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentActionRenderer.react",["fbt","ix","CometPressable.react","CometRow.react","CometRowItem.react","CometTrackingNodeProvider.react","CometUFICommentActionRenderer_renderer.graphql","TetraIcon.react","TetraText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react"),l={labelContainer:{height:"xn3w4p2",whiteSpace:"xuxw1ft",$$css:!0}};j!==void 0?j:j=b("CometUFICommentActionRenderer_renderer.graphql");function a(a){var b=a.onCommentClick;a=a.textType;a=a===void 0?"bodyLink3":a;return k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:26,children:k.jsx(c("CometPressable.react"),{label:h._("__JHASH__HRfzouPTO1Z__JHASH__"),onPress:b,overlayRadius:4,preventContextMenu:!0,testid:void 0,children:k.jsxs(c("CometRow.react"),{align:"center",expanding:!0,paddingTop:0,spacingHorizontal:8,verticalAlign:"center",xstyle:l.labelContainer,children:[k.jsx(c("CometRowItem.react"),{children:k.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(i("508558"),18)})}),k.jsx(c("CometRowItem.react"),{children:k.jsx(c("TetraText.react"),{color:"secondary",type:a,children:h._("__JHASH__6AnPTfCVKjd__JHASH__")})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ReshareWarningCometDialog.entrypoint",["JSResourceForInteraction","ReshareWarningCometDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.feedbackID;return{queries:{queryReference:{parameters:b("ReshareWarningCometDialogQuery$Parameters"),variables:{feedbackID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("ReshareWarningCometDialog.react").__setRef("ReshareWarningCometDialog.entrypoint")};g["default"]=a}),98);
__d("CometUFIShareAction.react",["CometEntryPointPopoverTrigger.react","CometPressable.react","CometRelay","CometTrackingNodeProvider.react","CometUFIShareActionLinkMenu.entrypoint","CometUFIShareAction_feedback.graphql","CometUFIShareAction_shareable.graphql","CometUFIShareAction_story.graphql","CometUFISharePopoverContext.react","ReshareWarningCometDialog.entrypoint","cometGetKeyCommandConfig","cr:1761713","gkx","react","recoverableViolation","requireDeferred","useCometEntryPointDialog","useKeyCommands","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("react");e=d("react");var l=e.useCallback,m=e.useContext,n=e.useMemo,o=e.useRef,p=e.useState,q=c("requireDeferred")("ShareMetricsLoggingController").__setRef("CometUFIShareAction.react"),r={circularButton:{borderTopColor:"x1l1xfun",borderEndColor:"xv160w3",borderBottomColor:"xwwskcc",borderStartColor:"xsb8bxb",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",height:"x90ne7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"x1691je0",$$css:!0}};function s(a){var b=a.children;a=a.refs;return b(c("useMergeRefs").apply(void 0,a))}function t(){var a=o(null),b=l(function(){var b=a.current;b!=null&&b.click()},[]),e=n(function(){return[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","shareStory",b)]},[b]);c("useKeyCommands")(e,!0);return a}function a(a){var e=a.buttonVariant,f=e===void 0?"DEFAULT":e,g=a.children;e=a.feedback;var n=a.feedLocation,u=a.onPress,v=a.parentStory,w=a.productData;a=a.shareable;e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIShareAction_feedback.graphql"),e);var x=m(c("CometUFISharePopoverContext.react"));x=x.ufiSharePopoverRef;v=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIShareAction_story.graphql"),v);var y=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFIShareAction_shareable.graphql"),a);a=p(!e.should_show_reshare_warning);var z=a[0],A=a[1],B=o(null);e=c("useCometEntryPointDialog")(c("ReshareWarningCometDialog.entrypoint"),{feedbackID:(a=e.id)!=null?a:""});var C=e[0],D=l(function(a){C({},function(b){A(b),b&&a()})},[C]),E=o(!1),F=t();if(y.url==null){c("recoverableViolation")("Can't render a share button without a `url`","ufi2");return null}a=function(a){E.current&&!a?q.onReady(function(a){a.logShareFlowAbandoned(y.id,n)}):!E.current&&a&&q.onReady(function(a){a.logShareFlowStarted(y.id,n)}),E.current=a};e=v!=null?{feedLocation:n,parentStory:v,productData:w,shareable:y}:{feedLocation:n,productData:w,shareable:y};return k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:17,children:k.jsx(c("CometEntryPointPopoverTrigger.react"),{align:"middle",entryPointParams:{feedLocation:n,qe_optional_share_to_page:c("gkx")("546"),url:y.url},imperativeRef:x,onVisibilityChange:a,otherProps:e,popoverEntryPoint:c("CometUFIShareActionLinkMenu.entrypoint"),preloadTrigger:"button_aggressive",children:function(a,d,e,h,i,j){return k.jsx(s,{refs:[a,B,F],children:function(a){return k.jsx(c("CometPressable.react"),{label:b("cr:1761713"),onHoverIn:h,onHoverOut:i,onPress:function(){z?d():D(d),u==null?void 0:u()},onPressIn:j,overlayRadius:4,preventContextMenu:!0,ref:a,testid:void 0,xstyle:f==="CIRCULAR"&&r.circularButton,children:g})}})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIShareActionRenderer.react",["fbt","ix","CometRelay","CometRow.react","CometRowItem.react","CometUFIShareAction.react","CometUFIShareActionRenderer_feedback.graphql","CometUFIShareActionRenderer_shareable.graphql","CometUFIShareActionRenderer_story.graphql","TetraIcon.react","TetraText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=d("react"),n={labelContainer:{height:"xn3w4p2",whiteSpace:"xuxw1ft",$$css:!0}};function a(a){var e,f=a.color,g=a.feedback,o=a.feedLocation,p=a.onPress,q=a.parentStory,r=a.productData,s=a.shareable,t=a.textType;t=t===void 0?"bodyLink3":t;a=a.xstyle;g=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFIShareActionRenderer_feedback.graphql"),g);q=d("CometRelay").useFragment(k!==void 0?k:k=b("CometUFIShareActionRenderer_story.graphql"),q);s=d("CometRelay").useFragment(l!==void 0?l:l=b("CometUFIShareActionRenderer_shareable.graphql"),s);if(g==null||s==null)return null;e=(e=f)!=null?e:"secondary";f=(f=f)!=null?f:"secondary";return m.jsx(c("CometUFIShareAction.react"),{feedLocation:o,feedback:g,onPress:p,parentStory:q,productData:r,shareable:s,children:m.jsxs(c("CometRow.react"),{align:"center",expanding:!0,paddingTop:0,spacingHorizontal:8,verticalAlign:"center",xstyle:[n.labelContainer,a],children:[m.jsx(c("CometRowItem.react"),{children:m.jsx(c("TetraIcon.react"),{color:e,icon:d("fbicon")._(i("484399"),18)})}),m.jsx(c("CometRowItem.react"),{children:m.jsx(c("TetraText.react"),{color:f,type:t,children:h._("__JHASH__N9rSO3UZBVz__JHASH__")})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometUFIReactMutation",["CometRelay","ODS","collectDataAttributes","react","recoverableViolation","requireDeferred","unrecoverableViolation","useCometUFIReactMutation_feedback.graphql","useMinifiedProductAttribution","useTrackingCodeFnForComet","useTriggeredStoryCTAHandler"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useCallback,j=e.useRef,k=c("requireDeferred")("CometUFIFeedbackReactMutation").__setRef("useCometUFIReactMutation"),l=h!==void 0?h:h=b("useCometUFIReactMutation_feedback.graphql");function a(a){var b=a.feedback,e=a.feedbackSource,f=a.onAfterMutation,g=a.onBeforeMutation,h=a.onError,m=a.triggerElementRef,n=d("CometRelay").useFragment(l,b);if(n==null)throw c("unrecoverableViolation")("Failed to load `feedback` with which to render the reaction button.","ufi2");var o=d("CometRelay").useRelayEnvironment(),p=j(),q=j(),r=c("useTrackingCodeFnForComet")();a=c("useTriggeredStoryCTAHandler")();var s=a[0],t=c("useMinifiedProductAttribution")();return i(function(a){var b,i;g&&g(a);var j=n.id;b=(b=n.viewer_actor)==null?void 0:b.id;(i=q.current)==null?void 0:i.dispose();(i=p.current)==null?void 0:i.remove();if(j==null||b==null){c("recoverableViolation")("Error feedbackID or actorID is undefined so a user cannot react","ufi2");return}function l(a,b){var d=m.current;return d?c("collectDataAttributes")(d,a,b):null}var u=babelHelpers["extends"]({attribution_id_v2:t,feedback_id:j,feedback_reaction_id:a,feedback_source:e},r(l));p.current=k.onReadyImmediately(function(a){q.current=a.commit({environment:o,input:u,onError:h,useDefaultActor:!1})});f&&f(a);switch(a){case"1635855486666999":s("LIKE");break;case"1678524932434102":s("LOVE");break;case null:break;default:s("REACT")}d("ODS").bumpFraction(2507,"ufi_reaction_mutation","deferred_mutation_code_not_yet_loaded",k.getModuleIfRequireable()?0:1,1)},[g,n.id,(b=n.viewer_actor)==null?void 0:b.id,e,t,r,f,m,o,h,s])}g["default"]=a}),98);
__d("useHoverState",["react","useBoolean"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b){var d=c("useBoolean")(!1),e=d.value,f=d.set,g=d.setTrue,i=d.setFalse;d=h(function(b){g(),a!=null&&a(b)},[g,a]);var j=h(function(a){i(),b!=null&&b(a)},[i,b]);return{isHovered:e,onMouseEnter:d,onMouseLeave:j,setIsHovered:f}}g["default"]=a}),98);
__d("useTimeout",["clearTimeout","react","setTimeout","useEffectOnce","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a,b){b===void 0&&(b=!0);var d=c("useUnsafeRef_DEPRECATED")(null),e=i(b),f=e[0],g=e[1],j=h(function(){g(!1),c("clearTimeout")(d.current)},[]),k=h(function(){g(!0),d.current=c("setTimeout")(function(){g(!1)},a)},[a]);e=h(function(){c("clearTimeout")(d.current),k()},[k]);c("useEffectOnce")(function(){b&&k();return j});return{pending:f,clear:j,restart:e}}g["default"]=a}),98);
__d("CometUFIReactButtonBase.react",["fbt","CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","CometUFIReactButtonBase_feedback.graphql","DynamicUFIReactionTypes","FocusWithinHandler.react","PressableGroup.react","UFICommonInteractionLogger","deferredLoadComponent","emptyFunction","gkx","react","requireDeferred","unrecoverableViolation","useCometUFICodedErrorDialog","useCometUFIReactMutation","useCometUFIReactionUtils","useGlobalEventListener","useHoverState","usePrevious","useTimeout","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useEffect,m=e.useRef,n=e.useState,o=c("deferredLoadComponent")(c("requireDeferred")("CometUFIReactionsMenu.react").__setRef("CometUFIReactButtonBase.react"));function a(a){var e,f=a.children,g=a.feedback,p=a.feedbackSource,q=a.interactionEvent,r=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIReactButtonBase_feedback.graphql"),g);if(r==null)throw c("unrecoverableViolation")("Failed to load `feedback` with which to render the reaction button.","ufi2");a=c("useCometUFIReactionUtils")({feedback$key:r});g=a[0];g=g((a=r.viewer_feedback_reaction_info)==null?void 0:a.id);var s,t,u;if(g==null)s=null,u=c("DynamicUFIReactionTypes").reactions["1635855486666999"].display_name,a=u;else{var v=g.accessibility_name,w=g.color;g=g.display_name;u=g;a=v;t=w;s=(g=r.viewer_feedback_reaction_info)==null?void 0:g.id}var x=s==null?a:h._("__JHASH__Jk5VXDJzn5C__JHASH__",[h._param("selected reaction",a)]);v=n(!1);var y=v[0],z=v[1];w=c("useTimeout")(500,!1);var A=w.clear,B=w.pending,C=w.restart,D=c("usePrevious")(B),E=m(c("emptyFunction"));c("useGlobalEventListener")("pointerup",function(){return E.current()});var F=m(!1),G=function(){F.current=!0,y===!1&&C(),E.current=function(){F.current=!1,E.current=c("emptyFunction"),z(!1)}},H=function(){y===!1&&A()};l(function(){D===!0&&B===!1&&(F.current&&z(!0))},[B,D]);g=c("useTimeout")(750,!1);var I=g.pending,J=g.restart;v=c("useTimeout")(525,!1);var K=v.pending,L=v.restart;w=c("useHoverState")();var M=w.isHovered,N=w.onMouseEnter,O=w.onMouseLeave,P=w.setIsHovered;g=c("useHoverState")();var Q=g.isHovered;v=g.onMouseEnter;w=g.onMouseLeave;var aa=g.setIsHovered,R=c("usePrevious")(M),S=c("usePrevious")(Q);g=n(M);var T=g[0],U=g[1],V=c("gkx")("1444");l(function(){if($.current)return;M!==R||Q!==S?M&&!V&&!T?L():!M&&!Q&&T&&J():(M&&!V||y||Q)&&!K&&!T?U(!0):!M&&!y&&!Q&&!I&&T&&(U(!1),$.current=!1)},[I,M,y,Q,T,R,S,J,L,K]);g=k(function(){U(!1),$.current=!1},[]);var W=m(null),X=k(function(a){if(q==null)return;var b=d("UFICommonInteractionLogger").startInteraction(q);W.current={nextReactionID:a,trackingID:b}},[q]);l(function(){var a=W.current;a&&(s===a.nextReactionID&&(d("UFICommonInteractionLogger").endInteraction(a.trackingID),W.current=null))},[r==null?void 0:(e=r.viewer_feedback_reaction_info)==null?void 0:e.key,s]);e=c("useCometUFICodedErrorDialog")();var ba=e.errorDialog;e=e.setError;var Y=m(null),Z=c("useCometUFIReactMutation")({feedback:r,feedbackSource:p,onBeforeMutation:function(){U(!1),P(!1),aa(!1)},onError:e,triggerElementRef:Y}),ca=k(function(){var a=s!=null?null:"1635855486666999";X(a);Z(a)},[Z,s,X]);p=k(function(a){X(a),Z(a)},[Z,X]);var da=s==null?h._("__JHASH__pl7xzoAPXow__JHASH__"):h._("__JHASH__PydxwM-nFfv__JHASH__",[h._param("selected reaction",a)]),$=c("useUnsafeRef_DEPRECATED")(!1);function ea(){$.current=!0,U(!0)}return j.jsx(c("PressableGroup.react"),{children:j.jsxs(c("CometTrackingNodeProvider.react"),{trackingNode:s==null?5:6,children:[j.jsx(c("FocusWithinHandler.react"),{children:function(a,b){a=a&&b||$.current||V;return f({a11yMenuTriggerLabel:da,handleA11yMenuActivate:ea,handleHoverIn:N,handleHoverOut:O,handlePress:ca,handlePressIn:G,handlePressOut:H,label:x,reactionColor:t,reactionDisplayName:u,reactionID:s,shouldShowReactA11yMenuTrigger:a,triggerRef:Y,viewer_custom_reaction:r.viewer_custom_reaction})}}),j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(o,{contextRef:Y,feedback:r,initialReactionID:s,onClose:g,onHoverIn:v,onHoverOut:w,onReactionSelect:p,scrubbingMode:y,shouldFocusOnShow:function(){return $.current},visible:T})}),ba]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIStoryReactActionRenderer.react",["ix","CometPressable.react","CometReactionIcon.react","CometRelay","CometRow.react","CometRowItem.react","CometTintedIcon.react","CometUFIReactButtonBase.react","CometUFIStoryReactActionRenderer_renderer.graphql","CometWithReactionBounceAnimation.react","DynamicUFIReactionTypes","TetraIcon.react","TetraText.react","cometGetKeyCommandConfig","fbicon","react","unrecoverableViolation","useKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useMemo,l={hiddenElement:{clip:"xzpqnlu",clipPath:"x179tack",position:"x10l6tqk",$$css:!0},labelContainer:{height:"xn3w4p2",whiteSpace:"xuxw1ft",$$css:!0},reactA11yMenuWithOverlay:{end:"x4r51d9",paddingTop:"x1d0ri9u",paddingEnd:"x4uap5",paddingBottom:"x1ug4tga",paddingStart:"xkhd6sd",position:"x10l6tqk",top:"xnfr1j",$$css:!0},reactionButtonWithA11yMenuSibling:{paddingEnd:"x1ou2tus",paddingStart:"x1egjynq",$$css:!0}};function m(a){var b=a.onKeyboardLike;a=k(function(){return[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","likeStory",b)]},[b]);c("useKeyCommands")(a,!0);return null}function a(a){var e=a.feedbackSource,f=a.renderer;a=a.textType;var g=a===void 0?"bodyLink3":a;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIStoryReactActionRenderer_renderer.graphql"),f);f=a.feedback;var k=a.hideLabelForAMA;if(f==null)throw c("unrecoverableViolation")("Failed to load `feedback` with which to render the story reaction button.","ufi2");return j.jsx(c("CometUFIReactButtonBase.react"),{feedback:f,feedbackSource:e,interactionEvent:"CometUFIStoryReaction",children:function(a){var b=a.a11yMenuTriggerLabel,e=a.handleA11yMenuActivate,f=a.handleHoverIn,i=a.handleHoverOut,n=a.handlePress,o=a.handlePressIn,p=a.handlePressOut,q=a.label,r=a.reactionColor,s=a.reactionDisplayName,t=a.reactionID,u=a.shouldShowReactA11yMenuTrigger,v=a.triggerRef;a=a.viewer_custom_reaction;var w,x="CometUFIReactionActionLinkReactionIcon-"+s.toString().toLowerCase();t==null?w=j.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("509926"),18),testid:void 0}):t!=="1635855486666999"&&(c("DynamicUFIReactionTypes").reactions[t]?w=j.jsx(c("CometReactionIcon.react"),{alt:s,reactionID:t,size:18,testid:void 0}):a!=null&&(w=j.jsx("span",{children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:{alt:s,feedback$key:a,size:18,testid:x}})})));w==null&&(w=j.jsx(c("TetraIcon.react"),{color:"highlight",icon:d("fbicon")._(h("509922"),18),testid:void 0}));return j.jsxs(j.Fragment,{children:[j.jsx(c("CometPressable.react"),{label:q,onHoverIn:f,onHoverOut:i,onPress:n,onPressIn:function(a){if(v.current!=null){var b=v.current;b.style.transform="scale("+Math.max(.96,(b.offsetWidth-10)/b.offsetWidth)+")"}o(a)},onPressOut:function(a){var b=v.current;b!=null&&(b.style.transform="none");p(a)},overlayRadius:4,preventContextMenu:!0,ref:v,testid:void 0,children:j.jsxs(c("CometRow.react"),{align:"center",expanding:!0,paddingTop:0,spacingHorizontal:8,verticalAlign:"center",xstyle:[l.labelContainer,u&&l.reactionButtonWithA11yMenuSibling],children:[j.jsx(c("CometRowItem.react"),{children:j.jsx(c("CometWithReactionBounceAnimation.react"),{reactionID:t,children:w})}),j.jsx(c("CometRowItem.react"),{children:j.jsx(c("TetraText.react"),{color:"secondary",type:g,children:j.jsx("span",{style:{color:r},children:k!==!0&&s})})})]})}),j.jsx(c("CometPressable.react"),{focusable:!0,label:b,onPress:e,preventContextMenu:!0,xstyle:[l.reactA11yMenuWithOverlay,!u&&l.hiddenElement],children:j.jsx(c("CometTintedIcon.react"),{color:"secondary",icon:d("fbicon")._(h("481882"),16)})}),j.jsx(m,{onKeyboardLike:e})]})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFITopReactionsRenderer.react",["fbt","CometFeedARIAProperties.react","CometLoggedOutCTAStrings","CometPressable.react","CometReactionIcon.react","CometTrackingNodeProvider.react","CometUFIReactionsDialog.entrypoint","CometUFITooltip.react","DynamicUFIReactionTypes","JSResourceForInteraction","emptyFunction","gkx","qpl","react","recoverableViolation","stylex","unrecoverableViolation","useCAALoggedOutDialogWrapper","useCometEntryPointDialog","useCometInteractionTracing"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useRef,m=c("gkx")("976093"),n=c("JSResourceForInteraction")("CometUFIReactionIconTooltipContent.react").__setRef("CometUFITopReactionsRenderer.react"),o={firstReaction:{zIndex:"xhtitgo",$$css:!0},icon:{verticalAlign:"x16dsc37",$$css:!0},noBorder:{borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",$$css:!0},reaction:{borderTopStartRadius:"x12myldv",borderTopEndRadius:"x1udsgas",borderBottomEndRadius:"xrc8dwe",borderBottomStartRadius:"xxxhv2y",display:"x1rg5ohu",height:"xmix8c7",width:"x1xp8n7a",$$css:!0},reactionContainer:{borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",borderTopStartRadius:"x13zp6kq",borderTopEndRadius:"x1mcfq15",borderBottomEndRadius:"xrosliz",borderBottomStartRadius:"x1wb7cse",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"xmix8c7",marginStart:"x139jcc6",position:"x1n2onr6",width:"x1xp8n7a",$$css:!0},reactionIconWrapper:{zIndex:"x1ja2u2z",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",paddingStart:"x1e558r4",$$css:!0},secondReaction:{zIndex:"x1vjfegm",$$css:!0},thirdReaction:{zIndex:"x1ja2u2z",$$css:!0}};function p(a){var b=a.dynamicReactionIcon,d=a.feedbackTargetID,e=a.i18nReactionCount,f=a.localizedName,g=a.noBorder,k=a.reactionCount,p=a.reactionID,q=a.shouldNotOpenTopReactorsDialogOnClick;a=a.xstyle;f=f;if(d==null)throw c("unrecoverableViolation")("CometUFITopReactionsRenderer: Expected feedback.id","ufi2");var r=l(null),s=c("useCometEntryPointDialog")(c("CometUFIReactionsDialog.entrypoint"),{feedbackTargetID:d,reactionID:p},"button"),t=s[0],u=s[1],v=s[2];s=s[3];var w=c("useCAALoggedOutDialogWrapper")({title:c("CometLoggedOutCTAStrings").popupTitle}),x=c("useCometInteractionTracing")(c("qpl")._(30605374,"8121"),"fluid","INTERACTION"),y=j(function(){x(function(){t({reactionID:p})})},[t,x]);w=m?w:y;y=m||q?[void 0,void 0,void 0]:[u,v,s];u=y[0];v=y[1];s=y[2];var z;p!=null&&c("DynamicUFIReactionTypes").reactions[p]?z=i.jsx(c("CometReactionIcon.react"),{reactionID:p,role:"presentation",size:18,xstyle:o.icon}):b!=null&&(z=b);return i.jsx("span",{className:c("stylex")(o.reactionContainer,g===!0&&o.noBorder,a),children:i.jsx("span",{className:"x12myldv x1udsgas xrc8dwe xxxhv2y x1rg5ohu xmix8c7 x1xp8n7a",children:i.jsx(c("CometUFITooltip.react"),{headline:(y=f)!=null?y:void 0,tooltipContentComponent:n,tooltipContentProps:{queryVariables:{feedbackTargetID:d,reactionID:p},reactionID:p},children:i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:137,children:i.jsx(c("CometPressable.react"),{label:h._("__JHASH__-W2MNJd1NY8__JHASH__",[h._plural((b=k)!=null?b:0,"number",e),h._param("i18nReactionName",f)]),onHoverIn:u,onHoverOut:v,onPress:q?c("emptyFunction"):w,onPressIn:s,overlayDisabled:!0,ref:r,children:z})})})})})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.feedbackID,d=a.noBorder,e=a.shouldNotOpenTopReactorsDialogOnClick,f=e===void 0?!1:e;e=a.topReactions;a=k(c("CometFeedARIAProperties.react"));return e.length===0?null:i.jsx("span",{"aria-label":h._("__JHASH__iYNpIF3OzJp__JHASH__"),className:"x1ja2u2z",role:"toolbar",children:i.jsx("span",babelHelpers["extends"]({},a.reactionTargetProps,{className:"x6s0dn4 x78zum5 x1e558r4",ref:a.reactionTargetRef,children:e.map(function(a,e){if(a==null)return null;var g=a.node;if(g==null)return null;var h=g.dynamicReactionIcon,j=g.id;g=g.localizedName;var k;switch(e){case 0:k=o.firstReaction;break;case 1:k=o.secondReaction;break;case 2:k=o.thirdReaction;break;default:c("recoverableViolation")("There seem to be more than three reactions in this top reactions pile. You need to update this z-index code now.","ufi2")}return i.jsx(p,{dynamicReactionIcon:h,feedbackTargetID:b,i18nReactionCount:a.i18nReactionCount,localizedName:g,noBorder:d,reactionCount:a==null?void 0:a.reactionCount,reactionID:j,shouldNotOpenTopReactorsDialogOnClick:f,xstyle:k},j)})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIClassicTopReactions.react",["CometRelay","CometUFIClassicTopReactions_feedback.graphql","CometUFITopReactionsRenderer.react","isNotOutlierReactionComet","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.noBorder,f=a.shouldNotOpenTopReactorsDialogOnClick;f=f===void 0?!1:f;a=babelHelpers.objectWithoutPropertiesLoose(a,["noBorder","shouldNotOpenTopReactorsDialogOnClick"]);a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIClassicTopReactions_feedback.graphql"),a.feedback$key);var g=a==null?void 0:a.id;if(g==null)throw c("unrecoverableViolation")("CometUFITopReactions: Expected feedback.id","ufi2");var j=a.top_reactions;j=j==null?void 0:j.edges;if(!j)throw c("unrecoverableViolation")("CometUFITopReactions: Expected top reactions","ufi2");if(j.length===0)return null;j=j.filter(function(a){return((a=a.node)==null?void 0:a.id)!=null}).filter(c("isNotOutlierReactionComet")(a)).filter(function(a,b,c){return c.findIndex(function(b){return((b=b.node)==null?void 0:b.id)===((b=a.node)==null?void 0:b.id)})===b}).slice(0,3);return i.jsx(c("CometUFITopReactionsRenderer.react"),{feedbackID:g,noBorder:e,shouldNotOpenTopReactorsDialogOnClick:f,topReactions:j.map(function(a){var b=a.node;if(b==null)return null;var d=b.id;b=b.localized_name;if(d==null)throw c("unrecoverableViolation")("CometUFITopReactions: Expected reaction_id on reaction","ufi2");return{i18nReactionCount:a==null?void 0:a.i18n_reaction_count,node:{id:d,localizedName:b},reactionCount:a==null?void 0:a.reaction_count}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFITopReactions.react",["CometRelay","CometUFITopReactions_feedback.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var c=a.noBorder,e=a.shouldNotOpenTopReactorsDialogOnClick;e=e===void 0?!1:e;a=babelHelpers.objectWithoutPropertiesLoose(a,["noBorder","shouldNotOpenTopReactorsDialogOnClick"]);a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFITopReactions_feedback.graphql"),a.feedback);return i.jsxs(i.Fragment,{children:[(a==null?void 0:a.can_see_top_custom_reactions)!=null&&i.jsx(d("CometRelay").MatchContainer,{match:a==null?void 0:a.can_see_top_custom_reactions,props:{feedback$key:a==null?void 0:a.can_see_top_custom_reactions,noBorder:c,shouldNotOpenTopReactorsDialogOnClick:e}}),(a==null?void 0:a.cannot_see_top_custom_reactions)!=null&&i.jsx(d("CometRelay").MatchContainer,{match:a==null?void 0:a.cannot_see_top_custom_reactions,props:{feedback$key:a==null?void 0:a.cannot_see_top_custom_reactions,noBorder:c,shouldNotOpenTopReactorsDialogOnClick:e}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useCometProgressRingSvg.react",["CometProgressRingUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useRef,k=2;function a(a){var b=a.color,c=a.isHidden,e=a.size,f=j(null),g=j(null),l=j(null);a=d("CometProgressRingUtils").getRingColor(b);var m=a.backgroundColor,n=a.foregroundColor,o=(e-k)*Math.PI;b=i(function(){return h.jsxs(h.Fragment,{children:[h.jsx("svg",{className:"x1ey2m1c x9f619 xds687c x10l6tqk x17qophe x13vifvy",height:e,ref:f,viewBox:"0 0 "+e+" "+e,width:e,children:h.jsx("circle",{cx:e/2,cy:e/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(e-k)/2,stroke:m,strokeLinecap:"round",strokeWidth:k})}),h.jsx("div",{className:"x1ey2m1c xds687c x6ikm8r x10wlt62 x10l6tqk xtzzx4i x13vifvy",children:h.jsx("svg",{className:"x1ey2m1c x9f619 xds687c x10l6tqk x1ytbgms x13vifvy x1jpgh95",height:e,ref:g,viewBox:"0 0 "+e+" "+e,width:e,children:h.jsx("circle",{cx:e/2,cy:e/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(e-k)/2,stroke:n,strokeDasharray:o/2,strokeDashoffset:3*o/4,strokeWidth:k,style:{visibility:c?"hidden":void 0}})})}),h.jsx("div",{className:"x1ey2m1c x8cgc45 x6ikm8r x10wlt62 x10l6tqk x17qophe x13vifvy",children:h.jsx("svg",{className:"x1ey2m1c x9f619 x14l5gr7 x10l6tqk x17qophe x13vifvy x1jpgh95",height:e,ref:l,viewBox:"0 0 "+e+" "+e,width:e,children:h.jsx("circle",{cx:e/2,cy:e/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(e-k)/2,stroke:n,strokeDasharray:o/2,strokeDashoffset:o/4,strokeWidth:k,style:{visibility:c?"hidden":void 0}})})})]})},[e,m,n,o,c]);return{backgroundRef:f,leftCircleRef:l,progressRing:b,rightCircleRef:g}}g["default"]=a}),98);
__d("CometProgressRingDeterminate.react",["BaseLoadingStateElement.react","react","useCometProgressRingSvg.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j={rootDiv:{position:"x1n2onr6",$$css:!0}};function a(a){var b=a.color,d=a.percentage;a=a.size;b=c("useCometProgressRingSvg.react")({color:b,isHidden:!1,size:a});var e=b.leftCircleRef,f=b.progressRing,g=b.rightCircleRef;i(function(){var a=g.current,b=e.current;if(a==null||b==null)return;if(!(a instanceof SVGSVGElement)||!(b instanceof SVGSVGElement))return;var c=Math.max(0,Math.min(100,d))/100*360;a.style.transform="rotate("+Math.min(c,180)+"deg)";b.style.transform="rotate("+Math.max(c-180,0)+"deg)"},[e,d,g]);return h.jsx(c("BaseLoadingStateElement.react"),{progress:d,style:{height:a,width:a},xstyle:j.rootDiv,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWXMAUtils",["WAArmadilloXMA.pb","WALogger","WAMsgType","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Hit Unreachable XMAType "," - checking isXMAShare"]);h=function(){return a};return a}function a(a){if(!a)return null;return a.type!==d("WAMsgType").MSG_TYPE.XMA?null:a}function b(a){if(a==null)return!1;switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_IGTV_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SHOP_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:return!1;default:d("WALogger").ERROR(h(),a);return!1}}function c(a){if(a==null)return!1;return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE?!0:!1}function e(a,b){return a!=null&&a||b!=null&&b<d("WATimeUtils").unixTime()}function f(a){a=a.ctas;a!=null&&(a=a.filter(function(a){return a.buttonType!==d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE}));return a}function i(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function j(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,defaultPreviewMediaId:void 0,faviconMediaId:void 0,headerMediaId:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,previewMediaIds:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function k(a){if(a==null)return!1;return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY?!0:!1}function l(a){return a==null?!1:a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION}function m(a){return a==null?!1:a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION}function n(a){return a==null?!1:a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE}function o(a){return a==null?!1:a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE}g.maybeXMAMessage=a;g.isXMAShare=b;g.isXMAStoryShare=c;g.isXMAExpired=e;g.removeCTAsForStoryMentionXMA=f;g.buildUnstoredTombstonedXMA=i;g.buildTombstonedDbXMA=j;g.isXMAStoryReply=k;g.isXMAStoryReaction=l;g.isXMAStoryMention=m;g.isIGXMAPostShare=n;g.isXMAGamingCustomUpdate=o}),98);
__d("LSMessageSendStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,4];b=[0,5];f.none=a;f.sendingToServer=c;f.serverReceived=d;f.nonRetriableError=e;f.retriableError=b}),null);
__d("LSMessageSendStatus.re",["LSMessageSendStatus.bs"],(function(a,b,c,d,e,f){c=(a=b("LSMessageSendStatus.bs")).none;f.none=c;d=a.sendingToServer;f.sendingToServer=d;e=a.serverReceived;f.serverReceived=e;b=a.nonRetriableError;f.nonRetriableError=b;c=a.retriableError;f.retriableError=c}),null);
__d("MAWAckLevel",["LSMessageSendStatus.re","LSMessageSendStatusV2.re"],(function(a,b,c,d,e,f,g){"use strict";var h={clock:0,contentGone:-3,contentTooBig:-4,contentUnuploadable:-5,expired:-2,failed:-1,inactiveReceived:-6,played:4,read:3,received:2,senderBackFillSent:-7,sent:1};function a(a){switch(a){case h.clock:return d("LSMessageSendStatusV2.re").sendingToServer;case h.sent:case h.received:case h.read:case h.played:return d("LSMessageSendStatusV2.re").serverReceived;default:return d("LSMessageSendStatusV2.re").nonRetriableError}}function b(a){switch(a){case h.clock:return d("LSMessageSendStatus.re").sendingToServer;case h.sent:case h.received:case h.read:case h.played:return d("LSMessageSendStatus.re").serverReceived;default:return d("LSMessageSendStatus.re").nonRetriableError}}g.ACK=h;g.levelToMessagingSendStatusV2=a;g.levelToMessagingSendStatus=b}),98);
__d("MAWAdminMsgNormalized",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:return{contactIds:b,contents:[]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:a=b[0];var c=b[1];return{contactIds:[a],contents:[c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:a=b[0];c=b[1];var e=b[2];return{contactIds:[a,c],contents:[e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:a=b[0];c=b[1];e=b[2];return{contactIds:[a],contents:[c,e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:default:return{contactIds:[],contents:b}}}g.deconstructContactIdsFromAdminContent=a}),98);
__d("MAWMedia.bs",["MAWDbMedia","MessagingAttachmentType.bs","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a===d("MAWDbMedia").IMAGE)return b!=null?d("MessagingAttachmentType.bs").ephemeralImage:d("MessagingAttachmentType.bs").image;else if(a===d("MAWDbMedia").VIDEO)return b!=null?d("MessagingAttachmentType.bs").ephemeralVideo:d("MessagingAttachmentType.bs").video;else if(a===d("MAWDbMedia").PTT)return d("MessagingAttachmentType.bs").audio;else if(a===d("MAWDbMedia").GIF)return d("MessagingAttachmentType.bs").animatedImage;else if(a===d("MAWDbMedia").STICKER)return d("MessagingAttachmentType.bs").sticker;return d("MessagingAttachmentType.bs").none}g.mediaTypeToMessageAttachmentType=a;g.mediaIdToIntExn=c("bs_caml_int64").of_int32}),98);
__d("MAWThreadIdWrapper",["MAWDbThread","MAWThreadId"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=d("MAWThreadId").ofThreadKey(a,b);return a.then(function(a){return a.TAG===0?{tag:"Valid",value:d("MAWDbThread").unsafeCoerceToChatId(a._0)}:"Invalid"})}g.ofThreadKey=a;g.isThreadId=d("MAWThreadId").isThreadId}),98);
__d("MAWBridgeMsg",["LSHotEmojiSize.bs","MAWAckLevel","MAWDbMsg","MAWGlobals","MAWImageUtils","MAWVault","MAWXMAUtils","WAAssertUnreachable","WADualSendMsgUtils","WAJids","WAMsgType","err"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=d("WAJids").extractDeviceIDParts(d("MAWGlobals").getMyDeviceJid()).userId;if(d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)){var e=a.author,f=a.mediaId,g=a.msgId,h=d("WAJids").authorToUserId(e,c);if(d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)){var i=a.threadJid,j;i!=null&&(j=d("WAJids").interpretAsUserJid(i));j!=null&&(h=d("WAJids").userIdFromJid(j))}return{isStoryMention:d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),isStoryReply:d("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType),replyMediaId:f,replyMediaUrlMimeType:f!=null?"image/jpeg":void 0,replySenderIsMe:e===d("WAJids").AUTHOR_ME||h===c,replySourceId:g,replyStatusType:f!=null?"Image":void 0,replyToUserId:h}}if(((i=a.quote)==null?void 0:i.content)==null||a.quote.content.msgId==null&&a.quote.content.sourceId==null)return;e=a.quote||{};g=e.content;h=((f=a.quote)==null?void 0:f.content)||{};i=h.author;e=h.mediaId;a=h.msgId;f=h.sourceId;var k=h.specialTextSize,l=h.type;h=h.xmaMessageType;var m=g.type===d("WAMsgType").MSG_TYPE.TEXT?g.msgContent.content:void 0,n=d("WAJids").authorToUserId(i,c);g=g.type===d("WAMsgType").MSG_TYPE.TEXT?g.msgContent.mentionedJids:void 0;i=i===d("WAJids").AUTHOR_ME||n===c;c=b||{};b=c.replyMediaId;var o=c.replyMediaPreviewHeight,p=c.replyMediaPreviewWidth,q=c.replyMediaUrlFallback,r=c.replyMediaUrlMimeType;c=c.replyXMAId;if(d("MAWXMAUtils").isXMAStoryReply(h))return{isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(h),isStoryReply:!0,replyMediaId:e,replyMediaUrlMimeType:e!=null?"image/jpeg":void 0,replySenderIsMe:i,replySourceId:f,replyStatusType:e!=null?"Image":void 0,replyToUserId:n};f=d("MAWImageUtils").boundHeightWidth(o,p,96*.8);e=f.height;f=f.width;return{isIGXMAPostShare:d("MAWXMAUtils").isIGXMAPostShare(h),isStoryReply:!1,replyMediaId:b,replyMediaPreviewHeight:l===d("WAMsgType").MSG_TYPE.STICKER?e:o,replyMediaPreviewWidth:l===d("WAMsgType").MSG_TYPE.STICKER?f:p,replyMediaUrlFallback:q,replyMediaUrlMimeType:r,replyMentionedJids:g,replyMessageText:m,replySenderIsMe:i,replySourceId:a,replyStatusType:k===1||k===2||k===3?d("WAMsgType").MSG_TYPE.STICKER:l,replyToUserId:n,replyXMAId:c}}function a(a){a=a.specialTextSize;switch(a){case 1:return d("LSHotEmojiSize.bs").small;case 2:return d("LSHotEmojiSize.bs").medium;case 3:return d("LSHotEmojiSize.bs").large;default:return d("LSHotEmojiSize.bs").none}}function b(a,b,e){var f,g=d("WAJids").extractDeviceIDParts(d("MAWGlobals").getMyDeviceJid()).userId;f=((f=a.isForwarded)!=null?f:!1)&&a.type!==d("WAMsgType").MSG_TYPE.STICKER;var i=d("MAWDbMsg").getCanonicalTsFromMsg(a);e=h(a,e);var j=d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType),k=d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),l=d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType),m=d("MAWDbMsg").getSortOrderWithFallback(a),n=d("WADualSendMsgUtils").isDualSendJid(a.threadJid);switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:var o=d("MAWVault").isVaulted(a.msgContent.content)?a.msgContent.content:d("MAWVault").vault(a.msgContent.content);return babelHelpers["extends"]({},e,{ack:a.ack,chatId:a.thread,content:o,ephemeralDurationInSec:(o=a.ephemeralSetting)==null?void 0:o.ephemeralExpirationInSec,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:n,isForwarded:f,mentionedJids:a.msgContent.mentionedJids,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,g),sortOrderMs:m,specialTextSize:a.specialTextSize,ts:i,type_:a.type});case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.RAVEN:return babelHelpers["extends"]({},e,{ack:a.ack,chatId:a.thread,ephemeralDurationInSec:(o=a.ephemeralSetting)==null?void 0:o.ephemeralExpirationInSec,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:n,isForwarded:f,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,g),sortOrderMs:m,ts:i,type_:a.type});case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:throw c("err")("File message type not implemented");case d("WAMsgType").MSG_TYPE.FUTUREPROOF:return babelHelpers["extends"]({},e,{ack:d("MAWAckLevel").ACK.clock,chatId:a.thread,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:n,isForwarded:f,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,g),sortOrderMs:m,ts:i,type_:a.type});case d("WAMsgType").MSG_TYPE.CIPHERTEXT:return{ack:d("MAWAckLevel").ACK.clock,chatId:a.thread,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:n,isForwarded:f,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,g),sortOrderMs:m,ts:i,type_:a.type};case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers["extends"]({},e,{ack:d("MAWAckLevel").ACK.clock,chatId:a.thread,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:n,isForwarded:f,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,g),sortOrderMs:m,ts:i,type_:a.type});case d("WAMsgType").MSG_TYPE.ICDC_ALERT:return{ack:a.ack,adminContent:[a.msgContent.authorName],adminType:a.msgContent.adminType,chatId:a.thread,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:n,isForwarded:f,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,g),sortOrderMs:m,ts:i,type_:a.type};case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:return{ack:a.ack,adminContent:a.msgContent.adminMsgContent,adminType:a.msgContent.adminType,adminVersion:a.msgContent.version,chatId:a.thread,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:n,isForwarded:f,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,g),sortOrderMs:m,ts:i,type_:a.type};case d("WAMsgType").MSG_TYPE.REVOKED:return{ack:a.ack,chatId:a.thread,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:n,isForwarded:f,msgId:a.msgId,offlineMsg:b,originalTs:a.originalTs,sender:d("WAJids").authorToUserId(a.author,g),sortOrderMs:m,ts:i,type_:a.type};case d("WAMsgType").MSG_TYPE.XMA:return babelHelpers["extends"]({},e,{ack:a.ack,chatId:a.thread,content:k?(o=a.msgContent)==null?void 0:o.content:void 0,ephemeralDurationInSec:(e=a.ephemeralSetting)==null?void 0:e.ephemeralExpirationInSec,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isDualSend:n,isExpiredXmaMsg:a.isExpiredXmaMsg,isForwarded:f,isStoryMention:l,isStoryReaction:k,isStoryShare:j,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,g),sortOrderMs:m,ts:i,type_:a.type});default:return c("WAAssertUnreachable")(a.type)}}g.getSpecialTextSize=a;g.createBridgeMsg=b}),98);
__d("MAWThreadCustomizationUtils",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME}function b(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME}g.skipNicknameCheck=a;g.nicknameOnlyForFirstParticipantChecking=b}),98);
__d("MAWBridgeBuildAdminMsg",["I64","MAWAdminMsg","MAWAdminMsgNormalized","MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils","MAWThreadId","MAWUpdateMsg","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e,f,g,i){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,h,i){i===void 0&&(i=0);g=d("MAWAdminMsgNormalized").deconstructContactIdsFromAdminContent(h,g);var j=g.contactIds,k=g.contents;g=(yield d("MAWThreadId").toThreadKeyMaybe(a,c));var l=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(h),m=d("MAWThreadCustomizationUtils").skipNicknameCheck(h);if(i===1){i=h===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP?d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME;i=(yield d("MAWSubscribeToContactNames").getContactNamesFromContactIDs({contactIDs:[].concat(j),db:a,nameMode:i,nicknameOnlyForFirstParticipant:l,onResolve:function(b){b=d("MAWAdminMsg").buildLocalizedString(k,b,h);return d("MAWUpdateMsg").mutateThreadText(a,c,e,f,{text:b})},skipNickname:m,subscriptionKey:d("I64").to_string(e),threadKey:g,txn:b}));return d("MAWAdminMsg").buildLocalizedString(k,i,h)}return d("MAWAdminMsg").buildLocalizedString(k,j,h)});return h.apply(this,arguments)}g.buildAdminMsgText=a}),98);
__d("fillArray",[],(function(a,b,c,d,e,f){function a(a,b){var c=new Array(a);for(var d=0;d<a;d++)c[d]=b;return c}f["default"]=a}),66);
__d("mapPull",[],(function(a,b,c,d,e,f){function a(a,b,c){var d=new Map();for(a of a)d.set(c(a),b(a));return d}f["default"]=a}),66);
__d("MAWBridgeBuildMsgMentions",["MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils","MAWThreadId","WAJids","asyncToGeneratorRuntime","emptyFunction","fillArray","mapPull"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.length>0?a.join(","):void 0}function i(a,b){return a.index-b.index}function j(a,b){return a==null||a===""?a:Array.from(b).reduce(function(a,b){var c=b[0];b=b[1];return a.replaceAll(c,b)},a)}function k(a,b){return a==null||a===""?[]:Array.from(b.keys()).flatMap(function(b){return Array.from(a.matchAll(b))}).sort(i)}function l(a,b,e,f){e=c("mapPull")(e,function(a){var c=a[0];a[1];return d("MAWSubscribeToContactNames").getContactNameFromLookup(b,c)},function(a){a[0];a=a[1];return a});var g=k(a,e),i=[],l=[],m=[],n=0;for(var o of g){var p=d("WAJids").unsafeCoerceToUserJid(o[0]);i.push(d("WAJids").userIdFromJid(p));var q=d("MAWSubscribeToContactNames").getContactNameFromLookup(e,p);l.push(q.length);m.push(o.index+n);n+=q.length-p.length}q=c("fillArray")(g.length,"p");return{mentionIds:h(i),mentionLengths:h(l),mentionOffsets:h(m),mentionTypes:h(q),replyMessageText:j(f,e),text:j(a,e)}}function m(a,b,c,e){a=l(a,c,e);e=a.text;a=b.map(function(a){return d("MAWSubscribeToContactNames").getContactNameFromLookup(c,a)});return[e,a]}function a(a,b,c,d,e,f,g){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i){var j=c("mapPull")(g,c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);g=(yield d("MAWSubscribeToContactNames").genContacts({contactIDs:Array.from(j.keys()),db:a,nameMode:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME,onResolve:function(a){a=l(f,a,j,i);return h(a)},subscriptionKey:e,txn:b}));return l(f,g,j,i)});return n.apply(this,arguments)}function e(a,b,c,d,e,f,g,h){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j){var k=c("mapPull")((g=g)!=null?g:[],c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);if(k.size===0||f==null||f===""){var l;i===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG&&(l=d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME);g=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(i);i=d("MAWThreadCustomizationUtils").skipNicknameCheck(i);var n=(yield d("MAWThreadId").toThreadKeyMaybe(a,typeof e==="string"?parseInt(e,10):e));g=(yield d("MAWSubscribeToContactNames").getContactNamesFromContactIDs({contactIDs:h,db:a,nameMode:l,nicknameOnlyForFirstParticipant:g,onResolve:function(a){return j([f,a])},skipNickname:i,subscriptionKey:e,threadKey:n,txn:b}));return[f,g]}i=(yield d("MAWSubscribeToContactNames").genContacts({contactIDs:[].concat(Array.from(k.keys()),h),db:a,nameMode:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME,onResolve:function(a){a=m(f,h,a,k);return j(a)},subscriptionKey:e,txn:b}));return m(f,h,i,k)});return o.apply(this,arguments)}g.buildMsgTextWithMentions=a;g.buildThreadSnippetWithMentions=e}),98);
__d("LSReplyMessageStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,VALID:1,DELETED:2,TEMPORARY_UNAVAILABLE:3,EXPIRED:4});f["default"]=a}),66);
__d("MAWMsgReply",["fbt","LSReplyMessageStatus","MAWSubscribeToContactNames","MAWThreadId","MAWTimeUtils","ODS","Promise","ReQL","WAMsgType","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){var b=a.isAuthorMe,c=a.isDeletedMsg,d=a.isStoryMention;d=d===void 0?!1:d;var e=a.isStoryReaction;e=e===void 0?!1:e;var f=a.isStoryReply;f=f===void 0?!1:f;var g=a.isStoryShare;g=g===void 0?!1:g;var i=a.recipientName,j=a.replySenderIsMe;j=j===void 0?!1:j;var k=a.replySenderIsRecepient;k=k===void 0?!1:k;a=a.senderName;switch(!0){case b&&c:return h._("__JHASH__FzueDOoURT8__JHASH__");case b&&g:return h._("__JHASH__d4DLCdwDC03__JHASH__");case b&&e:return h._("__JHASH__yaEVWahdF8q__JHASH__");case b&&d:return i!=null?h._("__JHASH__ZcIFbzn42DR__JHASH__",[h._param("name",i)]):h._("__JHASH__M3uJqhYYEHf__JHASH__");case d:return h._("__JHASH__dgpS1OhnF7B__JHASH__");case b&&j:return h._("__JHASH__GiGYAtipVIl__JHASH__");case b&&f:return i!=null?h._("__JHASH__ZkkDtvZx-as__JHASH__",[h._param("name",i)]):h._("__JHASH__GEUovmERkjj__JHASH__");case b:return i!=null?h._("__JHASH__eQLjVyXwwuH__JHASH__",[h._param("other_name",i)]):h._("__JHASH__NYU_gsfRGpq__JHASH__");case c:return h._("__JHASH__30kvLEU_B_p__JHASH__",[h._param("name",a)]);case e:return h._("__JHASH__hL-kQNnvv8D__JHASH__");case k:return h._("__JHASH__RWi7lW394uo__JHASH__",[h._param("other",a)]);case g:return h._("__JHASH__JQwHPEO2e9j__JHASH__",[h._param("user",a)]);case j&&f:return h._("__JHASH__zc6GoZLyKDZ__JHASH__",[h._param("name",a)]);case j:return h._("__JHASH__uU6-xunUPnp__JHASH__",[h._param("other_name",a)]);default:return i!=null?h._("__JHASH__iOHMd6RP1E7__JHASH__",[h._param("other",a),h._param("other_name",i)]):h._("__JHASH__JL2f9yie2zt__JHASH__",[h._param("other",a)])}}function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=f.chatId,h=f.isAuthorMe,j=f.isStoryMention,m=j===void 0?!1:j,n=f.isStoryReaction,o=f.isStoryReply;j=f.isStoryShare;var p=j===void 0?!1:j,q=f.msgId,r=f.originalTs,s=f.replySenderIsMe;j=f.replySourceId;var t=f.replyToUserId,u=f.sender,v=f.ts,w=f.type_;if(j==null&&!p&&!m)return b("Promise").resolve();if(t==null||u==null)throw c("err")("Error getting reply snippet without replyToUserId or sender");j=(yield d("MAWThreadId").toThreadKeyMaybe(a,g));var x=d("MAWSubscribeToContactNames").getContactNameFromContactID(e,t,d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME,j)==null,y=d("MAWSubscribeToContactNames").getContactNameFromContactID(e,u,d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME,j)==null;d("ODS").bumpEntityKey(3185,"armadillo_reply","creating_reply_snippet");x&&y?d("ODS").bumpEntityKey(3185,"armadillo_reply","missing_both"):y?d("ODS").bumpEntityKey(3185,"armadillo_reply","missing_sender"):x&&d("ODS").bumpEntityKey(3185,"armadillo_reply","missing_reply_to");y=(yield d("MAWSubscribeToContactNames").getContactNamesFromContactIDs({contactIDs:[t,u],db:a,nameMode:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME,onResolve:function(b){var e,j=b[0];b=b[1];return l(a,g,d("MAWTimeUtils").toTimestamp(w===d("WAMsgType").MSG_TYPE.REVOKED?(e=r)!=null?e:v:v),q,(e=i({isAuthorMe:h,isDeletedMsg:k(f)===c("LSReplyMessageStatus").DELETED,isStoryMention:m,isStoryReaction:n,isStoryReply:o,isStoryShare:p,recipientName:j,replySenderIsMe:s,replySenderIsRecepient:u===t,senderName:b}))==null?void 0:e.toString())},subscriptionKey:q,threadKey:j,txn:e}));j=y[0];e=y[1];return b("Promise").resolve((y=i({isAuthorMe:h,isDeletedMsg:k(f)===c("LSReplyMessageStatus").DELETED,isStoryMention:m,isStoryReaction:n,isStoryReply:o,isStoryShare:p,recipientName:x?void 0:j,replySenderIsMe:s,replySenderIsRecepient:u===t,senderName:e}))==null?void 0:y.toString())});return j.apply(this,arguments)}function k(a){a=a.replyStatusType;switch(a){case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.REVOKED:return c("LSReplyMessageStatus").DELETED;case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.XMA:return c("LSReplyMessageStatus").VALID;case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:return c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE;case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return c("LSReplyMessageStatus").UNKNOWN;case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return c("LSReplyMessageStatus").EXPIRED;default:return void 0}}function l(a,b,c,d,e){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){var h=(yield d("MAWThreadId").toThreadKeyMaybe(a,c));return h==null?b("Promise").resolve():a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.table("messages");var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(h,e,f)));b&&(yield a.put(babelHelpers["extends"]({},b,{replySnippet:g})))});return function(b){return a.apply(this,arguments)}}(),"readwrite")});return m.apply(this,arguments)}g.buildLocalizedReplySnippet=i;g.getReplySnippet=a;g.getReplyStatus=k}),98);
__d("MAWMsgReply.bs",["LSMessageReplySourceTypeV2.bs","LSReplyMessageAttachmentType.bs","MAWGating","bs_belt_Option","bs_caml_format","bs_caml_int64","cr:2382"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return!c("bs_belt_Option").isNone(a.replySourceId)}function e(a){a=a.replyToUserId;return a==null?void 0:c("bs_caml_format").caml_int64_of_string(a)}function f(a){var b=a.isForwarded,e=!c("bs_belt_Option").isNone(a.replySourceId),f=a.isStoryReply;a=a.isStoryShare;if(b)return d("LSMessageReplySourceTypeV2.bs").forward;if(a!==void 0&&a)return d("LSMessageReplySourceTypeV2.bs").fbStoryShare;if(e)if(f!==void 0&&f)return d("LSMessageReplySourceTypeV2.bs").story;else return d("LSMessageReplySourceTypeV2.bs").message}function h(a){var b=!c("bs_belt_Option").isNone(a.replySourceId),e=a.isStoryReply;a=a.isStoryShare;if(a!==void 0&&a)return d("LSMessageReplySourceTypeV2.bs").fbStoryShare;if(b)if(e!==void 0&&e)return d("LSMessageReplySourceTypeV2.bs").story;else return d("LSMessageReplySourceTypeV2.bs").message}function i(a){if(!c("bs_belt_Option").isNone(a.replySourceId))return a.replySourceId}function j(a){if(!c("bs_belt_Option").isNone(a.replySourceId))return a.replyMessageText}function k(a){if(!c("bs_belt_Option").isNone(a.replySourceId))return a.replyMentionedJids}function l(a){if(c("bs_belt_Option").isNone(a.replySourceId))return!1;else return c("bs_belt_Option").isSome(a.replyMediaUrlMimeType)}function m(a){if(l(a))return a.replyMediaUrlMimeType}function n(a){if(l(a))return c("bs_belt_Option").map(a.replyMediaPreviewHeight,c("bs_caml_int64").of_int32)}function o(a){if(l(a))return c("bs_belt_Option").map(a.replyMediaPreviewWidth,c("bs_caml_int64").of_int32)}function p(a){var c=a.replyMessageText;c=c!==void 0?b("cr:2382")==null?c:b("cr:2382").unvault(c):"";c=c==="\ud83d\udc4d"&&a.replyStatusType==="Sticker"&&d("MAWGating").isHotLikeEnabled();var e=l(a),f=a.replyStatusType;if(e){if(f===void 0)return;switch(f){case"Gif":if(c)return;else return d("LSReplyMessageAttachmentType.bs").gif;case"Ptt":if(c)return;else return d("LSReplyMessageAttachmentType.bs").other;case"Sticker":if(!c)return d("LSReplyMessageAttachmentType.bs").sticker;break;case"Video":if(c)return;else return d("LSReplyMessageAttachmentType.bs").video;case"Image":case"XMA":if(c)return;else if(a.isIGXMAPostShare)return d("LSReplyMessageAttachmentType.bs").feedPost;else return d("LSReplyMessageAttachmentType.bs").photo;default:}}if(f!==void 0&&f==="Sticker"&&c)return d("LSReplyMessageAttachmentType.bs").sticker}function q(a){var b=a.replyMediaId,d=a.replyXMAId;if(l(a)&&b!=null)return d!=null?void 0:c("bs_caml_int64").of_int32(b);if(b!=null||d==null)return;return c("bs_caml_int64").of_int32(d)}function r(a){var b=a.replyStatusType,d=p(a),e=q(a),f=a.replyMessageText;a=a.isStoryReply;if(b!==void 0&&b==="XMA"&&d===void 0){if(e!==void 0)return;if(f===void 0)return c("bs_caml_int64").zero}if(e!==void 0||!(a!==void 0&&a))return;return c("bs_caml_int64").zero}g.hasReply=a;g.getReplyUserId=e;g.getReplySourceTypeV2=f;g.getReplySourceType=h;g.getReplySourceId=i;g.getReplyMessageText=j;g.getReplyMentionedJids=k;g.hasReplyMedia=l;g.getReplyMediaMimeType=m;g.getReplyMediaHeight=n;g.getReplyMediaWidth=o;g.getReplyAttachmentType=p;g.getReplyAttachmentId=q;g.getReplyMediaExpirationTimestampMs=r}),98);
__d("MAWBridgeBuildMsg",["I64","LSIntEnum","MAWBridgeBuildAdminMsg","MAWBridgeBuildMsgMentions","MAWJids","MAWMsgReply","MAWMsgReply.bs","MAWThreadIdWrapper","MAWUpdateMsg","MAWVault","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).reduce(function(a,b){return[].concat(a,b)},[])}function i(a){return a!=null?d("MAWVault").unvault(a):void 0}function j(a){return a!=null?d("MAWVault").vault(a):void 0}function k(a){return babelHelpers["extends"]({},a,{replyMessageText:j(a.replyMessageText),text:j(a.text)})}function a(a){a=a.ephemeralDurationInSec;return a!=null?d("I64").of_int32(a):void 0}function c(a){a=d("MAWMsgReply").getReplyStatus(a);return a!=null?d("LSIntEnum").ofNumber(a):void 0}function e(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=d("MAWMsgReply.bs").getReplyMessageText(c),g=c.adminContent,j=c.adminType,l=c.adminVersion,m=c.chatId,n=c.content,o=c.isAdminMessage,p=c.msgId,q=n;o&&g!=null&&j!=null&&(q=(yield d("MAWBridgeBuildAdminMsg").buildAdminMsgText(a,b,m,e,p,g,j,l)));o=h(c.mentionedJids,d("MAWMsgReply.bs").getReplyMentionedJids(c));return o.length>0?d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(a,b,p,i(n),o,function(b){return d("MAWUpdateMsg").mutateThreadText(a,m,e,p,k(b))},i(f)).then(k):{replyMessageText:f,text:q}});return l.apply(this,arguments)}function f(a,c,e,f,g,j,l,m){var n=j==null?void 0:j.text;j=h(m,j==null?void 0:(m=j.mentionIds)==null?void 0:m.split(",").map(d("MAWJids").toUserJid));return j.length>0?d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(a,c,f,i(e),j,function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("MAWThreadIdWrapper").ofThreadKey(a,g));if(c!=="Invalid"){c=c.value;return d("MAWUpdateMsg").mutateThreadText(a,c,l,f,k(b))}});return function(a){return c.apply(this,arguments)}}(),i(n)).then(k):b("Promise").resolve({replyMessageText:n,text:e})}g.getEphemeralDurationInSec=a;g.getReplyStatus=c;g.buildMessage=e;g.buildOptimisticMessage=f}),98);
__d("LSMessageUnsendabilityStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8];f.canUnsend=a;f.denyLogMessage=c;f.denyTombstoneMessage=d;f.denyForNonSender=e;f.denyP2pPayment=b;f.denyStoryReaction=g;f.denyBlobAttachment=h;f.denyMessageNotFound=i;f.denyMessageInstagramDirectWriteRestriction=j}),null);
__d("LSMessageUnsendabilityStatus.re",["LSMessageUnsendabilityStatus.bs"],(function(a,b,c,d,e,f){c=(a=b("LSMessageUnsendabilityStatus.bs")).canUnsend;f.canUnsend=c;d=a.denyLogMessage;f.denyLogMessage=d;e=a.denyTombstoneMessage;f.denyTombstoneMessage=e;b=a.denyForNonSender;f.denyForNonSender=b;c=a.denyP2pPayment;f.denyP2pPayment=c;d=a.denyStoryReaction;f.denyStoryReaction=d;e=a.denyBlobAttachment;f.denyBlobAttachment=e;b=a.denyMessageNotFound;f.denyMessageNotFound=b;c=a.denyMessageInstagramDirectWriteRestriction;f.denyMessageInstagramDirectWriteRestriction=c}),null);
__d("MAWUpdateMsg",["LSAuthorityLevel.bs","LSMessageUnsendabilityStatus.re","MAWAckLevel","MAWBridgeBuildMsg","MAWBridgeMsg","MAWMsg.bs","MAWMsgReply.bs","MAWThreadId","MAWTimeUtils","ReQL","asyncToGeneratorRuntime","bs_belt_Option","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,e,f,g){return a.runInTransaction(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var h=(yield d("MAWThreadId").toThreadKeyMaybe(a,c));if(h==null)return;b=b.table("messages");h=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b).getKeyRange(h,e,f)));h!=null&&(yield b.put(babelHelpers["extends"]({},h,g)))});return function(a){return h.apply(this,arguments)}}(),"readwrite")}function e(a,b,c,d,e,f){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){var i=d("MAWTimeUtils").toTimestamp(e.type_===d("MAWMsg.bs").unsent?c("bs_belt_Option").getWithDefault(e.originalTs,e.ts):e.ts),j=e.type_===d("MAWMsg.bs").unsent;a=(yield d("MAWBridgeBuildMsg").buildMessage(a,b,e,i));return b.table("messages").put(babelHelpers["extends"]({},f,a,{adminMsgCtaId:g==null?void 0:g.ctaId,adminMsgCtaTitle:g==null?void 0:g.title,adminMsgCtaType:g==null?void 0:g.ctaType,authorityLevel:d("LSAuthorityLevel.bs").authoritative,cannotUnsendReason:j||!e.isAuthorMe?c("LSMessageUnsendabilityStatus.re").denyForNonSender:void 0,displayedContentTypes:d("MAWMsg.bs").getDisplayedContentTypes(e.type_,e.isForwarded,e.isExpiredXmaMsg),ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(e),hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(e),isUnsent:e.type_===d("MAWMsg.bs").unsent,messageId:e.msgId,primarySortKey:c("bs_caml_int64").of_float(e.sortOrderMs),replyAttachmentId:d("MAWMsgReply.bs").getReplyAttachmentId(e),replyAttachmentType:d("MAWMsgReply.bs").getReplyAttachmentType(e),replyMediaExpirationTimestampMs:d("MAWMsgReply.bs").getReplyMediaExpirationTimestampMs(e),replyMediaPreviewHeight:d("MAWMsgReply.bs").getReplyMediaHeight(e),replyMediaPreviewWidth:d("MAWMsgReply.bs").getReplyMediaWidth(e),replyMediaUrlMimeType:d("MAWMsgReply.bs").getReplyMediaMimeType(e),replySnippet:h,replySourceId:d("MAWMsgReply.bs").getReplySourceId(e),replySourceType:d("MAWMsgReply.bs").getReplySourceType(e),replySourceTypeV2:d("MAWMsgReply.bs").getReplySourceTypeV2(e),replyStatus:d("MAWBridgeBuildMsg").getReplyStatus(e),replyToUserId:d("MAWMsgReply.bs").getReplyUserId(e),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(e.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(e.ack),timestampMs:i}))});return h.apply(this,arguments)}g.mutateThreadText=a;g.call=e}),98);
__d("MAWBumpThread.bs",["ODS","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e,f){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)));if(b==null)return d("ODS").bumpEntityKey(3185,"armadillo_thread_bump","missing_thread");g=(g=g)!=null?g:b.snippetSenderContactId;return a.table("threads").put(babelHelpers["extends"]({},b,{snippetSenderContactId:g,snippet:f,lastReadWatermarkTimestampMs:e,lastActivityTimestampMs:c}))});return h.apply(this,arguments)}g.threadMutation=a}),98);
__d("LSMessageViewFlag.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,4];b=[0,8];var g=[0,16],h=[0,256],i=[0,1024],j=[0,2048],k=[0,4096],l=[0,8192],m=[0,16384],n=[0,524288],o=[0,1048576],p=[0,2097152],q=[0,8388608],r=[0,16777216],s=[0,33554432];f.uncalculated=a;f.showProfileImage=c;f.showTimestamp=d;f.showSender=e;f.connectTop=b;f.connectBottom=g;f.statusSending=h;f.statusDelivered=i;f.statusReadBy=j;f.statusReadByExcept=k;f.statusReadByAll=l;f.statusRead=m;f.isSendError=n;f.statusSent=o;f.isHotLike=p;f.isLocalMessage=q;f.isForwardedMedia=r;f.statusReadByAndMore=s}),null);
__d("WAChatState",[],(function(a,b,c,d,e,f){"use strict";a="typing";b="recording_audio";c="idle";d={TYPING:a,RECORDING_AUDIO:b};e={IDLE:c};f.TYPING=a;f.RECORDING_AUDIO=b;f.IDLE=c;f.ACTIVE_CHAT_STATE_TYPE=d;f.IDLE_CHAT_STATE_TYPE=e}),66);/*FB_PKG_DELIM*/
__d("CometProductTagFunnelIDContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometBlurredBackgroundImage.react",["CometBackgroundImage.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={blur:{filter:"xtea3wc",$$css:!0},fallback:{backgroundColor:"x2bj2ny",height:"x5yr21d",width:"xh8yej3",$$css:!0},imageContainer:{height:"xu1mrb",transform:"x1yyh9jt",width:"x1jx8tsq",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0}},j=!c("gkx")("1299319");function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);a=j?h.jsx("div",{className:"xu1mrb x1yyh9jt x1jx8tsq",children:h.jsx("span",{className:"xtea3wc",children:h.jsx(c("CometBackgroundImage.react"),babelHelpers["extends"]({},a))})}):h.jsx("div",{className:"x2bj2ny x5yr21d xh8yej3"});return h.jsx("div",{className:c("stylex")(i.root,b),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometSize_DO_NOT_USE",["CometThrottle","ExecutionEnvironment","FBLogger","HiddenSubtreePassiveContext","react","useLayoutEffect_SAFE_FOR_SSR","useResizeObserver","useStable","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect,j=b.useRef,k=b.useState;function l(a){var b=a.setBoxStateStable,d=null,e=function(a){var c;if(((c=d)==null?void 0:c.height)===a.height&&((c=d)==null?void 0:c.width)===a.width)return;d=a;b(a)};a=function(a){a=a.getBoundingClientRect();var b=a.height;a=a.width;e({height:b,width:a})};var f=c("CometThrottle")(function(a){var b=a.height;a=a.width;if(b===0&&a===0)return;e({height:b,width:a})},200,{leading:!0,trailing:!0});return{measure:a,onResizeThrottled:f}}function a(){if(!c("ExecutionEnvironment").canUseDOM)throw c("FBLogger")("comet_ssr").blameToPreviousFile().mustfixThrow("useCometSize is not compatible with Server Rendering. This will break SSR! See https://fburl.com/wiki/xrzohrqb");var a=j(null),b=k(null),d=b[0],e=b[1],f=h(c("HiddenSubtreePassiveContext")),g=c("useStable")(function(){return l({setBoxStateStable:e})}),m=c("useResizeObserver")(g.onResizeThrottled),n=j(m);c("useLayoutEffect_SAFE_FOR_SSR")(function(){n.current=m},[m]);b=c("useUnsafeRef_DEPRECATED")(function(b){b!==a.current&&(a.current=b,b!=null&&g.measure(b)),n.current(a.current)});i(function(){if(!f.getCurrentState().hidden)return;var b=f.subscribeToChanges(function(c){!c.hidden&&a.current!=null&&(g.measure(a.current),b.remove())});return function(){return b.remove()}},[f,g]);i(function(){return function(){g.onResizeThrottled.cancel()}},[g]);return[b.current,d]}g["default"]=a}),98);
__d("useStatesInMap",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState;function a(a,b){var c=i(a),d=i({}),e=j(b),f=e[0],g=e[1];h(function(){if(c.current!==a){var e;c.current=a;g((e=d.current[a])!=null?e:b)}},[d,g,c,a,b]);h(function(){d.current[a]=f},[f,a]);return[f,g]}g["default"]=a}),98);
__d("CometWarningScreenContext",["react","useStatesInMap"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");d=d("react");var i=d.createContext,j=d.useCallback,k=d.useContext,l=d.useMemo,m=i({makeContentVisibleDespiteOverlay:function(){},overlaySettings:{additionalRequiredHeight:0,isContentVisibleDespiteOverlay:null,isOnFeedMedia:!1,overlayExists:!1,overlayShown:!1,parentRenderInstructions:"CLIP_TO_MEDIA",videoController:null},setAdditionalRequiredHeight:function(){},setIsOnFeedMedia:function(){},setOverlayExists:function(){},setParentRenderInstructions:function(){},showOverlay:function(){}});function a(a){var b=a.children,d=a.identifier,e=a.isOnFeedMedia,f=a.overlayExists,g=a.overlayShownOverride;a=a.videoController;e=c("useStatesInMap")(d,{additionalRequiredHeight:0,isContentVisibleDespiteOverlay:null,isOnFeedMedia:e,overlayExists:f,overlayShown:(d=g)!=null?d:f,parentRenderInstructions:"CLIP_TO_MEDIA",videoController:a});var i=e[0],k=e[1],n=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{overlayShown:a})})},[k]),o=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{isContentVisibleDespiteOverlay:a})})},[k]),p=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{overlayExists:a})})},[k]),q=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{isOnFeedMedia:a})})},[k]),r=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{additionalRequiredHeight:a})})},[k]),s=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{parentRenderInstructions:a})})},[k]);g=l(function(){return{makeContentVisibleDespiteOverlay:o,overlaySettings:i,setAdditionalRequiredHeight:r,setIsOnFeedMedia:q,setOverlayExists:p,setParentRenderInstructions:s,showOverlay:n}},[i,r,n,o,p,s,q]);return h.jsx(m.Provider,{value:g,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=k(m);a=a.overlaySettings;return a.overlayExists}function e(){var a=k(m);a=a.overlaySettings;return a.videoController}function n(){var a=k(m);a=a.overlaySettings;return a.overlayShown}function o(){var a=k(m);a=a.overlaySettings;return a.isOnFeedMedia}function p(){var a=k(m);a=a.overlaySettings;return a.isContentVisibleDespiteOverlay}function q(){var a=n(),b=p();return!a?!0:b}function r(){var a=k(m);a=a.overlaySettings;return a.additionalRequiredHeight}function s(){var a=k(m);a=a.overlaySettings;return a.parentRenderInstructions}function t(){var a=k(m);a=a.showOverlay;return a}function u(){var a=k(m);a=a.makeContentVisibleDespiteOverlay;return a}function v(){var a=k(m);a=a.setOverlayExists;return a}function w(){var a=k(m);a=a.setIsOnFeedMedia;return a}function x(){var a=k(m);a=a.setAdditionalRequiredHeight;return a}function y(){var a=k(m);a=a.setParentRenderInstructions;return a}g.CometWarningScreenContextProvider=a;g.useHasOverlay=b;g.useHasVideoController=e;g.useIsOverlayShown=n;g.useIsOnFeedMedia=o;g.useIsContentVisibleDespiteOverlay=p;g.useIsContentVisible=q;g.useAdditionalRequiredHeight=r;g.useParentRenderInstructions=s;g.useShowOverlay=t;g.useMakeContentVisibleDespiteOverlay=u;g.useSetOverlayExists=v;g.useSetIsOnFeedMedia=w;g.useSetAdditionalRequiredHeight=x;g.useSetParentRenderInstructions=y}),98);
__d("CometTrackingCodeProvider.react",["CometTrackingCodeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo;function k(a,b){return a&&a!==""?b.concat(a):b}function a(a){var b=a.children;a=a.trackingCode;var d=a.click_tracking_linkshim_cb,e=a.encrypted_click_tracking,f=a.encrypted_tracking,g=i(c("CometTrackingCodeContext"));a=j(function(){return{click_tracking_linkshim_cb:k(d,g.click_tracking_linkshim_cb),encrypted_click_tracking:k(e,g.encrypted_click_tracking),encrypted_tracking:k(f,g.encrypted_tracking)}},[g,d,e,f]);return h.jsx(c("CometTrackingCodeContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";e=h.memo(a);g["default"]=e}),98);
__d("LSMessageReplySourceType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,13];f.none=a;f.message=c;f.story=d;f.forward=e;f.fbStoryShare=b;f.igStoryShare=g;f.lightweightStatus=h;f.lightweightStatusReaction=i;f.fbFeedPost=j}),null);
__d("MAWMsg.bs",["LSMessageContentType.bs","LSMessageReplySourceType.bs","WAMsgType","bs_caml"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a===d("WAMsgType").TEXT)return d("LSMessageReplySourceType.bs").message;else if(a===d("WAMsgType").FUTUREPROOF||a===d("WAMsgType").CIPHERTEXT||a!==d("WAMsgType").UNAVAILABLE)return d("LSMessageReplySourceType.bs").none;else return d("LSMessageContentType.bs").unavailablePlaceholder}function b(a,b,c){if(a===d("WAMsgType").TEXT)if(b)return d("LSMessageContentType.bs").forwardIndicator;else return d("LSMessageContentType.bs").text;else if(a===d("WAMsgType").IMAGE||a===d("WAMsgType").VIDEO||a===d("WAMsgType").RAVEN)return d("LSMessageContentType.bs").mediaPreview;else if(a===d("WAMsgType").PTT)return d("LSMessageContentType.bs").audioClip;else if(a===d("WAMsgType").FUTUREPROOF)return d("LSMessageContentType.bs").futureproofPlaceholder;else if(a===d("WAMsgType").CIPHERTEXT)return d("LSMessageContentType.bs").encryptionPlaceholder;else if(a===d("WAMsgType").UNAVAILABLE)return d("LSMessageContentType.bs").unavailablePlaceholder;else if(a===d("WAMsgType").GIF)return d("LSMessageContentType.bs").animatedImage;else if(a===d("WAMsgType").STICKER)return d("LSMessageContentType.bs").sticker;else if(a===d("WAMsgType").DOCUMENT_FILE)return d("LSMessageContentType.bs").fileAttachment;else if(a===d("WAMsgType").XMA)if(c!==void 0&&c)return d("LSMessageContentType.bs").tombstone;else return d("LSMessageContentType.bs").singleXma;else return d("LSMessageContentType.bs").text}function e(a){a=a.displayedContentTypes;return c("bs_caml").i64_eq(a,d("LSMessageContentType.bs").mediaPreview)||c("bs_caml").i64_eq(a,d("LSMessageContentType.bs").audioClip)||c("bs_caml").i64_eq(a,d("LSMessageContentType.bs").animatedImage)||c("bs_caml").i64_eq(a,d("LSMessageContentType.bs").lwaWave)||c("bs_caml").i64_eq(a,d("LSMessageContentType.bs").fileAttachment)||c("bs_caml").i64_eq(a,d("LSMessageContentType.bs").sticker)}function f(a){a=a.displayedContentTypes;if(c("bs_caml").i64_eq(a,d("LSMessageContentType.bs").admin))return!0;else return!1}function h(a){a=a.displayedContentTypes;if(c("bs_caml").i64_eq(a,d("LSMessageContentType.bs").singleXma))return!0;else return!1}function i(a){a=a.displayedContentTypes;if(c("bs_caml").i64_eq(a,d("LSMessageContentType.bs").encryptionPlaceholder)||c("bs_caml").i64_eq(a,d("LSMessageContentType.bs").futureproofPlaceholder))return!0;else return c("bs_caml").i64_eq(a,d("LSMessageContentType.bs").unavailablePlaceholder)}a=a;b=b;e=e;f=f;h=h;i=i;g.text=d("WAMsgType").TEXT;g.image=d("WAMsgType").IMAGE;g.video=d("WAMsgType").VIDEO;g.ptt=d("WAMsgType").PTT;g.xma=d("WAMsgType").XMA;g.futureproof=d("WAMsgType").FUTUREPROOF;g.ciphertext=d("WAMsgType").CIPHERTEXT;g.unavailable=d("WAMsgType").UNAVAILABLE;g.unsent=d("WAMsgType").REVOKED;g.gif=d("WAMsgType").GIF;g.sticker=d("WAMsgType").STICKER;g.raven=d("WAMsgType").RAVEN;g.documentFile=d("WAMsgType").DOCUMENT_FILE;g.replyMsgTypeToLSReplySourceType=a;g.getDisplayedContentTypes=b;g.isMediaMsg=e;g.isAdminMsg=f;g.isXMAMsg=h;g.isPlaceholder=i}),98);
__d("MWLSThread.bs",["ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=function(a){return a};function a(a,b){b===void 0&&(b=h);var e=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a).map(function(a){return b(a)}):d("ReQL").empty()},[e,a])}function b(a,b){b===void 0&&(b=h);var e=c("useReStore")();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a).map(function(a){var c;return(c=b==null?void 0:b(a))!=null?c:a})},[e,a])}g.useThread=a;g.useThreadExn=b}),98);
__d("MWLSThreadOtherParticipants.bs",["LSInt64.bs","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_belt_Array","bs_belt_Option","bs_caml_format","bs_caml_option","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor();return d("ReQLSubscription.bs").useArray(h.useMemo(function(){return c("bs_belt_Option").mapWithDefault(a,d("SortedAsyncIterable.bs").empty(),function(a){return d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a,tl:0}),function(a){return a.contactId}),function(a){return d("LSInt64.bs").compare(a,e)!==0})})},[b,e,a]))}function a(a){return c("bs_belt_Array").map(i(a),c("bs_int64").to_string)}function b(a){var b=h.useMemo(function(){return c("bs_belt_Option").map(a==null?void 0:c("bs_caml_option").some(a),c("bs_caml_format").caml_int64_of_string)},[a]);return c("bs_belt_Array").map(i(b),c("bs_int64").to_string)}function j(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:a,tl:0}),function(a){return{id:c("bs_int64").to_string(a.id),name:a.name,profilePicture:a.profilePictureUrl}})},[b,a]))}function e(a){return c("bs_belt_Array").map(c("bs_belt_Array").map(i(a),j).filter(c("bs_belt_Option").isSome),c("bs_belt_Option").getExn)}f=i;a=a;b=b;var k=j;e=e;g.useOtherParticipantsIdsFromThreadKey=f;g.useOtherParticipantsIdsStringFromThreadKey=a;g.useOtherParticipantsIdsStringFromThreadId=b;g.useParticipantIdToData=k;g.useOtherParticipantsData=e}),98);
__d("CometUFIVideoPlayerPortableIDContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b=a(null);g["default"]=b}),98);
__d("VideoPlayerAudioAvailabilityInfo",["recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.audioAvailability;a=a.mutedSegmentsUnsanitized;a=a.map(function(a){return a.muteStartTimeInSec!=null&&a.muteEndTimeInSec!=null&&a.muteEndTimeInSec>a.muteStartTimeInSec?{muteEndTimeInSec:a.muteEndTimeInSec,muteStartTimeInSec:a.muteStartTimeInSec}:null}).filter(Boolean);return{audioAvailability:b,mutedSegments:a}}function b(a,b){var d=a.audioAvailability;a=a.mutedSegments;var e=b.playheadPosition,f;b=!1;var g=!1;switch(d){case"AVAILABLE_BUT_MUTED":a.length>0?(b=e!=null&&a.some(function(a){return a.muteStartTimeInSec<=e&&e<=a.muteEndTimeInSec}),b?(f="VOLUME_COPYRIGHT_PARTIAL_SILENCED",g=!0):f="VOLUME_COPYRIGHT_PARTIAL_NOT_SILENCED"):(f="VOLUME_COPYRIGHT_FULL",g=!0);break;case"AVAILABLE_BUT_SILENT":case"UNAVAILABLE":f="VOLUME_SILENT";g=!0;break;case"AVAILABLE":case"UNKNOWN":case null:case void 0:f="VOLUME_DEFAULT";break;default:c("recoverableViolation")("Unhandled audio availability: "+d,"comet_video_player");f="VOLUME_DEFAULT";break}return{isPlayheadWithinMutedSegment:b,isSilentAtPlayhead:g,volumeControlState:f}}d=a({audioAvailability:null,mutedSegmentsUnsanitized:[]});g.makeVideoPlayerAudioAvailabilityInfo=a;g.makeVideoPlayerAudioAvailabilityAtPlayheadInfo=b;g.VideoPlayerAudioAvailabilityInfoDefault=d}),98);
__d("VideoPlayerContexts",["VideoPlayerAudioAvailabilityInfo","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b=a(null);c=a(!1);e=a("");f=a("");var h=a(null),i=a(0),j=a(0),k=a(!1),l=a(!1),m=a(!0),n=a(!1),o=a(!1),p=a(null),q=a(!1),r=a(!1),s=a(null),t=a(null),u=a(null),v=a(null),w=a([]),x=a("notselected"),y=a(""),z=a(null),A=a(!1),B=a(!1),C=a(null),D=a({setVolume:function(a){},volume:1}),E=a(!1),F=a(0),G=a(0),H=a(null),I=a(null),J=a(null),K=a(null),L=a(!1),M=a(!1),N=a(null),O=a("deny"),P=a(null),Q=a("unknown"),R=a(!1),S=a(!1),T=a({release:function(a){},reserve:function(a){return a}}),U=a([]),V=a(!1),W=a(0),X=a(0),Y=a(null),Z=a(!1);d=a(d("VideoPlayerAudioAvailabilityInfo").VideoPlayerAudioAvailabilityInfoDefault);var $=a(1),aa=a(!1),ba=a(!1),ca=a(null),da=a("normal");a=a([]);g.VideoFBIDContext=b;g.IsAbrEnabledContext=c;g.TargetAudioQualityContext=e;g.TargetVideoQualityContext=f;g.AdClientTokenContext=h;g.LoopCountContext=i;g.LoopCurrentContext=j;g.PlayingContext=k;g.StallingContext=l;g.PausedContext=m;g.EndedContext=n;g.InPlayStallingContext=o;g.ErrorContext=p;g.IsLiveContext=q;g.SeekingContext=r;g.ControllerContext=s;g.LastMuteReasonContext=t;g.LastPlayReasonContext=u;g.LastPauseReasonContext=v;g.AvailableVideoQualitiesContext=w;g.SelectedVideoQualityContext=x;g.CurrentVideoQualityContext=y;g.ActiveCaptionsContext=z;g.CaptionsVisibleContext=A;g.CaptionsLoadedContext=B;g.CaptionDisplayStyleContext=C;g.VolumeContext=D;g.MutedContext=E;g.DurationContext=F;g.BufferEndContext=G;g.InstanceKeyContext=H;g.VideoPixelsAspectRatioContext=I;g.DimensionsContext=J;g.PlayerImplementationNameContext=K;g.VideoPlayerMouseHoverContext=L;g.VideoPlayerMouseIdleContext=M;g.BroadcastStatusContext=N;g.CanAutoplayContext=O;g.VolumeSettingContext=P;g.AutoplayGatingResultContext=Q;g.InbandCaptionsAutogeneratedContext=R;g.IsExternalMediaContext=S;g.VideoPlayerCaptionsReservationActionsContext=T;g.VideoPlayerCaptionsReservationsContext=U;g.StreamInterruptedContext=V;g.WatchTimeContext=W;g.LastPlayedTimeContext=X;g.SeekableRangesContext=Y;g.IsLiveRewindActiveContext=Z;g.AudioAvailabilityInfoContext=d;g.PlaybackRateContext=$;g.IsNCSRContext=aa;g.IsPremiumMusicVideoContext=ba;g.InitialTracePolicyContext=ca;g.LatencyLevelContext=da;g.ActiveEmsgBoxesContext=a}),98);
__d("VideoPlayerViewabilityContexts",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b=a(null);c=a(!1);e=a(!1);f=a(null);g.VideoPlayerPassiveViewabilityInfoContext=b;g.VideoPlayerDesktopPictureInPictureContext=c;g.VideoPlayerFullscreenContext=e;g.VideoPlayerExtendedPassiveViewabilityInfoContext=f}),98);
__d("VideoPlayerHooks",["DOMRectIsEqual","VideoPlayerContexts","VideoPlayerViewabilityContexts","clearTimeout","react","removeFromArray","setTimeout","unrecoverableViolation","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.useContext,j=h.useEffect,k=h.useRef,l=h.useState;function a(a){var b=k(a);j(function(){b.current=a},[a]);return b}function m(){var a=i(d("VideoPlayerContexts").ControllerContext);if(a==null)throw c("unrecoverableViolation")("Empty ControllerContext. Are you rendering useController outside of VideoPlayerRelay/VideoPlayerX?","comet_video_player");return a}function b(){var a=i(d("VideoPlayerContexts").InstanceKeyContext);if(a==null)throw c("unrecoverableViolation")("Empty InstanceKeyContext. Are you rendering useInstanceKey outside of VideoPlayerRelay/VideoPlayerX?","comet_video_player");return a}function n(){var a=T();return a==="LIVE"}function e(){var a=T();return a==="LIVE"||a==="VOD_READY"}function f(){return i(d("VideoPlayerContexts").BufferEndContext)}function o(){return i(d("VideoPlayerContexts").DurationContext)}function p(){return i(d("VideoPlayerContexts").SeekingContext)}function q(){return i(d("VideoPlayerContexts").EndedContext)}function r(){return i(d("VideoPlayerContexts").ErrorContext)}function s(){return i(d("VideoPlayerContexts").PlayingContext)}function t(){var a=l(0),b=a[0],c=a[1],d=m();j(function(){var a=d.subscribe(function(){c(d.getPlayheadPosition())});c(d.getPlayheadPosition());return function(){return a.remove()}},[d]);return b}function u(a,b){var d=l(0),e=d[0],f=d[1],g=m(),h=k(null),i=k(e);j(function(){var d=g.subscribe(function(){i.current=b?b(g):g.getPlayheadPosition();if(h.current!=null)return;h.current=c("setTimeout")(function(){f(i.current),h.current=null},a)});f(g.getPlayheadPosition());return d.remove},[g,a]);j(function(){return function(){h.current!==null&&(c("clearTimeout")(h.current),h.current=null)}},[]);return e}function v(a){a===void 0&&(a=200);var b=l(0),d=b[0],e=b[1],f=m(),g=n(),h=k(null),i=k(d);j(function(){if(!g)return;var b=f.subscribe(function(){if(h.current!=null)return;h.current=c("setTimeout")(function(){f.getCurrentState().paused||(i.current+=a/1e3,e(i.current)),h.current=null},a)});e(0);return function(){return b.remove()}},[f,a,g]);j(function(){return function(){h.current!==null&&(c("clearTimeout")(h.current),h.current=null)}},[]);return!g?null:d}function w(){var a=m(),b=k([]),d=k(a.isFrozen()),e=c("useStable")(function(){return{getCurrentState:function(){return a.isFrozen()},subscribeToChanges:function(a){var d=b.current;d.push(a);return{remove:function(){return c("removeFromArray")(d,a)}}}}});j(function(){var c=a.subscribe(function(){var c=d.current,e=a.isFrozen();d.current=e;if(e!==c){c=b.current;c.forEach(function(a){return a(e)})}});return function(){c.remove()}},[a]);return e}function x(){return i(d("VideoPlayerContexts").WatchTimeContext)}function y(){return i(d("VideoPlayerContexts").LastPlayedTimeContext)}function z(){return i(d("VideoPlayerContexts").PausedContext)}function A(){return i(d("VideoPlayerContexts").StallingContext)}function B(){return i(d("VideoPlayerContexts").InPlayStallingContext)}function C(){return i(d("VideoPlayerContexts").LastMuteReasonContext)}function D(){return i(d("VideoPlayerContexts").LastPauseReasonContext)}function E(){return i(d("VideoPlayerContexts").LastPlayReasonContext)}function F(){return i(d("VideoPlayerContexts").AvailableVideoQualitiesContext)}function G(){return i(d("VideoPlayerContexts").CaptionsVisibleContext)}function H(){return i(d("VideoPlayerContexts").CaptionDisplayStyleContext)}function I(){return i(d("VideoPlayerContexts").ActiveCaptionsContext)}function J(){return i(d("VideoPlayerContexts").CurrentVideoQualityContext)}function K(){return i(d("VideoPlayerContexts").SelectedVideoQualityContext)}function L(){return i(d("VideoPlayerContexts").MutedContext)}function M(){return i(d("VideoPlayerContexts").VolumeContext).volume}function N(){return i(d("VideoPlayerContexts").VolumeContext).setVolume}function O(){return i(d("VideoPlayerViewabilityContexts").VideoPlayerDesktopPictureInPictureContext)}function P(){return i(d("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext)}function Q(){return i(d("VideoPlayerContexts").DimensionsContext)}function R(){return i(d("VideoPlayerContexts").VideoPixelsAspectRatioContext)}function aa(){return i(d("VideoPlayerContexts").PlayerImplementationNameContext)}function ba(){return i(d("VideoPlayerContexts").CaptionsLoadedContext)}function ca(){return i(d("VideoPlayerContexts").IsAbrEnabledContext)}function da(){return i(d("VideoPlayerContexts").TargetVideoQualityContext)}function ea(){return i(d("VideoPlayerContexts").TargetAudioQualityContext)}function fa(){return i(d("VideoPlayerContexts").VideoPlayerMouseHoverContext)}function ga(){return i(d("VideoPlayerContexts").VideoPlayerMouseIdleContext)}function S(){return i(d("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext)}function ha(){return i(d("VideoPlayerViewabilityContexts").VideoPlayerExtendedPassiveViewabilityInfoContext)}function ia(){var a=S(),b=l(null),d=b[0],e=b[1],f=k(d);j(function(){f.current=d},[d]);j(function(){if(a){var b=function(){var b=a.getCurrent();if(b){var d=b.positionToViewport;b=b.visiblePercentage;var g=f.current;(g==null||b!==g.visiblePercentage||!c("DOMRectIsEqual")(d,g.positionToViewport))&&e({positionToViewport:d,visiblePercentage:b})}},d=a.subscribe(function(){b()});return function(){return d.remove()}}},[e,a]);return d}function T(){return i(d("VideoPlayerContexts").BroadcastStatusContext)}function ja(){return i(d("VideoPlayerContexts").CanAutoplayContext)}function ka(){return i(d("VideoPlayerContexts").VolumeSettingContext)}function la(){return i(d("VideoPlayerContexts").AutoplayGatingResultContext)}function ma(){return i(d("VideoPlayerContexts").VideoFBIDContext)}function U(){return i(d("VideoPlayerContexts").AdClientTokenContext)}function V(){return i(d("VideoPlayerContexts").LoopCurrentContext)}function W(){return i(d("VideoPlayerContexts").LoopCountContext)}function na(){return i(d("VideoPlayerContexts").InbandCaptionsAutogeneratedContext)}function oa(){return i(d("VideoPlayerContexts").IsExternalMediaContext)}function pa(){return i(d("VideoPlayerContexts").VideoPlayerCaptionsReservationsContext)}function qa(){return i(d("VideoPlayerContexts").VideoPlayerCaptionsReservationActionsContext)}function ra(){return i(d("VideoPlayerContexts").StreamInterruptedContext)}function sa(){return i(d("VideoPlayerContexts").SeekableRangesContext)}function X(){return i(d("VideoPlayerContexts").IsLiveRewindActiveContext)}function Y(){var a=q(),b=V(),c=W();a=a&&(c===-1||c>0&&b<c);return a}function ta(){var a=q(),b=Y();return a&&!b}function ua(){return i(d("VideoPlayerContexts").PlaybackRateContext)}function va(){return i(d("VideoPlayerContexts").IsNCSRContext)}function Z(){return i(d("VideoPlayerContexts").IsPremiumMusicVideoContext)}function wa(){var a=U()!=null,b=n(),c=Z(),d=X();if(a||c)return!1;if(b)return d;else return!0}function xa(){return i(d("VideoPlayerContexts").InitialTracePolicyContext)}function ya(){return i(d("VideoPlayerContexts").LatencyLevelContext)}function za(){return i(d("VideoPlayerContexts").AudioAvailabilityInfoContext)}function Aa(){var a=U()!=null,b=n(),c=Z();return a||c||b?!1:!0}function $(a){a===void 0&&(a=!0);var b=m();j(function(){if(a){var c=b.registerEmsgObserver();return function(){b.unregisterEmsgObserver(c)}}},[b,a])}function Ba(){$();return i(d("VideoPlayerContexts").ActiveEmsgBoxesContext)}g.useLatestValueRef=a;g.useController=m;g.useInstanceKey=b;g.useIsLive=n;g.useIsVideoBroadcast=e;g.useBufferEnd=f;g.useDuration=o;g.useSeeking=p;g.useEnded=q;g.useError=r;g.usePlaying=s;g.useCurrentTime_DO_NOT_USE=t;g.useCurrentTimeThrottled=u;g.useLiveTimeElapsedThrottled=v;g.useIsFrozenPassive=w;g.useWatchTime=x;g.useLastPlayedTime=y;g.usePaused=z;g.useStalling=A;g.useInPlayStalling=B;g.useLastMuteReason=C;g.useLastPauseReason=D;g.useLastPlayReason=E;g.useAvailableVideoQualities=F;g.useCaptionsVisible=G;g.useCaptionDisplayStyle=H;g.useActiveCaptions=I;g.useCurrentVideoQuality=J;g.useSelectedVideoQuality=K;g.useMuted=L;g.useVolume=M;g.useSetVolume=N;g.useIsDesktopPictureInPicture=O;g.useIsFullscreen=P;g.useDimensions=Q;g.useVideoPixelsAspectRatio=R;g.usePlayerImplementationName=aa;g.useCaptionsLoaded=ba;g.useIsAbrEnabled=ca;g.useTargetVideoQuality=da;g.useTargetAudioQuality=ea;g.useIsHovering=fa;g.useIsMouseIdle=ga;g.useVideoPlayerPassiveViewabilityInfo=S;g.useVideoPlayerExtendedPassiveViewabilityInfo=ha;g.useVideoPlayerViewabilityInfo=ia;g.useBroadcastStatus=T;g.useCanAutoplay=ja;g.useVolumeSetting=ka;g.useAutoplayGatingResult=la;g.useVideoFbid=ma;g.useAdClientToken=U;g.useVideoPlayerCurrentLoop=V;g.useVideoPlayerTotalLoops=W;g.useInbandCaptionsAutogenerated=na;g.useIsExternalMedia=oa;g.useVideoPlayerCaptionsReservations=pa;g.useVideoPlayerCaptionsReservationActions=qa;g.useStreamInterrupted=ra;g.useSeekableRanges_DO_NOT_USE=sa;g.useIsLiveRewindActive=X;g.useIsTransitioningToNextLoop=Y;g.useVideoPlaybackEnded=ta;g.usePlaybackRate=ua;g.useIsNCSR=va;g.useIsPremiumMusicVideo=Z;g.useShouldShowPlaybackRateControl=wa;g.useVideoPlayerInitialTracePolicy=xa;g.useLatencyLevel=ya;g.useAudioAvailabilityInfo=za;g.useShouldPersistPlaybackRate=Aa;g.useEmsgObserver=$;g.useActiveEmsgBoxes=Ba}),98);
__d("VideoPlayerPortalingPlaceInfoProvider.react",["emptyFunction","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");d=e.createContext;var i=e.useContext,j=e.useEffect,k=e.useMemo,l=d(null);function a(a){var b=a.children,c=a.currentPlaceID,d=a.currentVideoID,e=a.portalingEnabled,f=a.previousPlaceMetaData,g=a.thisPlaceID;a=k(function(){return{currentPlaceID:c,currentVideoID:d,portalingEnabled:e,previousPlaceMetaData:f,thisPlaceID:g}},[c,d,e,f,g]);return h.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";var m=c("emptyFunction");function b(){var a=i(l);m(a);return a==null?{currentPlaceID:null,currentVideoID:null,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:null}:a}g.VideoPlayerPortalingPlaceInfoProvider=a;g.useVideoPlayerPortalingPlaceInfo=b}),98);
__d("useVideoPlayerPortalingPassthroughProps",["VideoPlayerPortalingPlaceInfoProvider.react","cr:2889","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i=((e=b("cr:2889"))!=null?e:{useVideoPlayerViewabilityInfo:c("emptyFunction")}).useVideoPlayerViewabilityInfo;function a(){var a=d("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo(),b=a.currentVideoID,c=a.thisPlaceID,e=(a=(a=i())==null?void 0:a.positionToViewport)!=null?a:null;return h(function(){return{portableVideoID:b,portalingPlaceID:c,positionToViewport:e}},[b,e])}g["default"]=a}),98);
__d("CometUFIVideoPlayerUtils",["CometUFIVideoPlayerContext","CometUFIVideoPlayerPortableIDContext","VideoPlayerHooks","react","useCometUFIVideoPlayerStateAndController","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.useCallback,k=i.useContext,l=i.useEffect,m=i.useState;function a(a){a=a.children;var b=m(null),d=b[0];return h.jsx(c("CometUFIVideoPlayerContext").Provider,{value:b,children:h.jsx(c("CometUFIVideoPlayerPortableIDContext").Provider,{value:d==null?void 0:(b=d.data)==null?void 0:b.portableVideoID,children:a})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.data,e=d("VideoPlayerHooks").useController(),f=c("useVideoPlayerPortalingPassthroughProps")();a=k(c("CometUFIVideoPlayerContext"));a[0];var g=a[1];l(function(){g({controller:e,data:babelHelpers["extends"]({},b,f)});return function(){g(null)}},[e,b,f,g]);return null}b.displayName=b.name+" [from "+f.id+"]";function e(){var a=c("useCometUFIVideoPlayerStateAndController")();return j(function(){return a==null?null:Math.floor(a.controller.getPlayheadPosition())},[a])}g.CometUFIVideoPlayerStateAndControllerContextProvider=a;g.CometUFIVideoPlayerStateAndControllerExtractor=b;g.useGetCometUFIVideoPlayerTimestampInteger=e}),98);
__d("createVideoStateHook",["VideoPlayerHooks","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useEffect,i=e.useRef,j=e.useState,k=new Set();function a(a){var b=new Map();k.add(b);function e(){var a=d("VideoPlayerHooks").useInstanceKey();b.has(a)||b.set(a,{consumers:new Set(),key:a,lastValue:void 0});var e=b.get(a);if(e==null)throw c("unrecoverableViolation")('createVideoStateHook useInstance missing instance by key "'+a+'"',"comet_video_player");return e}function f(a,b){a.consumers.add(b)}function g(a,b){a.consumers["delete"](b)}function l(a,b,c){a.lastValue=b,a.consumers.forEach(function(a){c!==a&&a(b)})}function m(a){var b=e(),c=i(b);c.current=b;a=b.lastValue!=null?b.lastValue:a;var d=i(a);d.current=a;a=j(a);var k=a[0],m=a[1];h(function(){m(d.current);f(b,m);return function(){g(b,m)}},[b]);h(function(){l(c.current,k,m)},[k]);return[k,m]}function a(a){a=m(a);a[0];a=a[1];return a}function n(a){a=m(a);var b=a[0];a[1];return b}return{setterHook:a,stateHook:m,valueHook:n}}function b(a){h(function(){return function(){k.forEach(function(b){b["delete"](a)})}},[a])}f=b;g.createVideoStateHook=a;g.useCleanupVideoStateHooks_INTERNAL=f}),98);
__d("VideoPlayerInteractionOverlay.react",["VideoPlayerHooks","createVideoStateHook","performanceNow","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j={hiddenCursor:{cursor:"xjfk50j",$$css:!0},pointer:{cursor:"x1ypdohk",$$css:!0},root:{bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0}};b=d("createVideoStateHook").createVideoStateHook(null);var k=b.setterHook;e=b.valueHook;function a(a,b){var e=a.children,f=a.pressInteraction,g=a.style;a=a.xstyle;var l=k(),m=i(function(a){a.preventDefault(),l({left:a.clientX,time:c("performanceNow")(),top:a.clientY})},[l]),n=f==null?void 0:f.handler,o=f==null?void 0:f.onPressStart,p=f==null?void 0:f.onMouseEnter;f=f==null?void 0:f.onMouseLeave;var q=d("VideoPlayerHooks").useIsFullscreen(),r=d("VideoPlayerHooks").useIsMouseIdle();return h.jsx("div",{className:c("stylex")(j.root,!!n&&j.pointer,q&&r&&j.hiddenCursor,a),onClick:n,onContextMenu:m,onMouseEnter:p,onMouseLeave:f,onPointerDown:o,ref:b,role:"presentation",style:g,children:e})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);f=e;g.VideoPlayerInteractionOverlay=b;g.useLastRightClick=f}),98);
__d("VideoPlayerWithLiveVideoInterruptedOverlay.react",["fbt","CometLoadingAnimation.react","TetraTextPairing.react","VideoPlayerHooks","VideoPlayerInteractionOverlay.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){var a=d("VideoPlayerHooks").useStreamInterrupted(),b=d("VideoPlayerHooks").useIsLiveRewindActive();return!a||b?null:i.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{children:i.jsxs("div",{className:"x6s0dn4 x18l40ae x1ey2m1c x9f619 x78zum5 xds687c xdt5ytf xl56j7k x10l6tqk x17qophe x13vifvy",children:[i.jsx("div",{children:i.jsx(c("TetraTextPairing.react"),{body:h._("__JHASH__VF7_ry1JLc___JHASH__"),bodyColor:"white",headline:h._("__JHASH__BFvlG3IxPd7__JHASH__"),headlineColor:"white",level:2,textAlign:"center"})}),i.jsx("div",{className:"xc9qbxq x1sy10c2 x1n2onr6 x14qfxbe",children:i.jsx(c("CometLoadingAnimation.react"),{size:36})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePlayerOriginRouteTracePolicy",["CometIsInNotificationsContext","CometRouteRenderType","react","useCometRouteTracePolicy","useCometRouterState","useParentRoute","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("CometIsInNotificationsContext")),b=c("useCometRouteTracePolicy")(),e=d("CometRouteRenderType").useIsPushView(),f=c("useParentRoute")(),g=c("useCometRouterState")(),i=c("useRoutePassthroughProps")();if((i==null?void 0:i.isARLTW)===!0)return"comet.watch.arltw";i=b==="comet.videos.tahoe";var j=b==="comet.stories.viewer",k=b==="comet.reels.home";if(e){if(i)return"unknown";if(j)return b;if(k&&(f==null?void 0:f.tracePolicy)==null&&g!=null){e=g.main;j=g.pushViewStack;k=j&&j.length>1?j[j.length-2]:e;g=k.route;return(j=g.tracePolicy)!=null?j:b}}return a&&!i?b:(e=f==null?void 0:f.tracePolicy)!=null?e:b}g["default"]=a}),98);
__d("PlaybackSpeedExperiments",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("1755152")}function i(){return!1}function a(){return h()||i()||c("qex")._("2095")}function j(){return i()?!1:c("qex")._("2096")||c("qex")._("2097")}function b(){return k()||j()}function k(){if(i())return!0;return j()?!1:h()||c("qex")._("2098")}function d(){if(h())return!1;if(i())return!0;return j()?!1:!!c("qex")._("2099")}function e(){if(h())return!1;if(i())return!1;return!j()?!1:!!c("qex")._("2100")}function f(){return!0}function l(){return!!c("qex")._("2101")}g.enableWwwPlaybackSpeedControl=a;g.isInCometHeadroomTest=j;g.enableCometPlaybackSpeedControl=b;g.enableCometPlaybackSpeedControlPublicTest=k;g.enableCometPlaybackSpeedControlNUX=d;g.enableCometPlaybackSpeedControlHeadroomTestNUX=e;g.enablePlaybackSpeedLogging=f;g.enablePersistPlaybackSpeed=l}),98);
__d("DOMContainer.react",["invariant","isNode","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.containerNode=null,c.setContainerNode=function(a){c.containerNode=a;var b=c.props.containerRef;typeof b==="function"&&b(a)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.getDOMChild=function(){var a=this.props.children;c("isNode")(a)||h(0,1533);return a};d.shouldComponentUpdate=function(a){return a.children!==this.props.children};d.componentDidMount=function(){var a=this.containerNode;a!=null&&a.appendChild(this.getDOMChild())};d.componentDidUpdate=function(a){a=this.containerNode;if(a==null)return;while(a.lastChild)a.removeChild(a.lastChild);a.appendChild(this.getDOMChild())};d.render=function(){var a=this.props,b=a.display;a=babelHelpers.objectWithoutPropertiesLoose(a,["display"]);b=b==="block"?"div":"span";return i.jsx(b,babelHelpers["extends"]({},a,{ref:this.setContainerNode,children:void 0}))};return b}(i.Component);a.defaultProps={display:"inline"};g["default"]=a}),98);
__d("addToMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(a.get(b)===c)return a;a=new Map(a);a.set(b,c);return a}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("LSTruncateTableAndSetShowError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.fe(b.db.table(115).fetch(),function(a){return a["delete"]()})},function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(115).add({statusId:[0,0],timestampMs:c[0],errorShouldBeShown:a[0]})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSDeleteAllAndInsertConnectivityStatus",["LSTruncateTableAndSetShowError"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(a){return c.fe(c.db.table(114).fetch(),function(a){return a["delete"]()})},function(b){return d[0]=c.i64.of_float(Date.now()),c.db.table(114).add({statusId:void 0,timestampMs:d[0],internetConnectionState:a[0]})},function(d){return c.sp(b("LSTruncateTableAndSetShowError"),c.i64.neq(a[0],[0,1]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MWChatConfirmTabCloseDialog.bs",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._("__JHASH__BpxPpP9rp8f__JHASH__"),confirm:h._("__JHASH__CqytfJoYvSJ__JHASH__"),title:h._("__JHASH__56tk0437PKy__JHASH__")};g.content=a}),98);
__d("MWChatEphemeralMediaTemporarySeenState.bs",["JSMap.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=new Map();function a(a,b){a=d("JSMap.bs").getOrMake(i,a,function(){return new Set()});a.add(b)}function b(a,b){a=i.get(a);if(a==null)return!1;else return a.has(b)}function j(a){i["delete"](a)}function c(a){h.useEffect(function(){return function(){return j(a)}},[a])}e=a;f=b;a=j;b=c;g.markSeenThisSession=e;g.isSeenThisSession=f;g.endSession=a;g.useEndSessionOnDismount=b}),98);
__d("MWV2ComposerHasContentContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext({hasContentRef:void 0,shouldClearDraftMessageRef:void 0});function a(a){a=a.children;var b=h.useRef(!1),c=h.useRef(!1),d=h.useMemo(function(){return{hasContentRef:b,shouldClearDraftMessageRef:c}},[b,c]);return h.createElement(i.Provider,{children:a,value:d})}function b(){return h.useContext(i)}c=a;g.useContext=b;g.make=c}),98);
__d("UseMWV2CloseTab",["I64","MWChatConfirmTabCloseDialog.bs","MWChatEphemeralMediaTemporarySeenState.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWV2ComposerHasContentContext.bs","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b){var e=d("MWChatStateV2.bs").useDispatch(),f=c("useCometConfirmationDialog")(),g=d("MWV2ComposerHasContentContext.bs").useContext(),i=g.shouldClearDraftMessageRef,j=g.hasContentRef;return h(function(){var c=function(){a!==void 0&&d("MWChatEphemeralMediaTemporarySeenState.bs").endSession(d("I64").to_string(a.threadKey)),e(d("MWChatStateActions.bs").closeTab(Date.now(),b.tabId))};if(a!==void 0&&(j==null?void 0:j.current)===!0)return f(d("MWChatConfirmTabCloseDialog.bs").content,function(){i!==void 0&&(i.current=!0),c()},function(){i!==void 0&&(i.current=!1)});c()},[a,b,e,f,j,i])}g.useHook=a}),98);
__d("WALoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("WALogger").__setRef("WALoggerDeferred");function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){return b.DEV.apply(b,[a].concat(c))})})}function b(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){return b.DEV_XMPP.apply(b,[a].concat(c))})})}function d(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){return b.LOG.apply(b,[a].concat(c))})})}function e(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){return b.WARN.apply(b,[a].concat(c))})})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){return b.ERROR.apply(b,[a].concat(c))})})}g.DEV=a;g.DEV_XMPP=b;g.LOG=d;g.WARN=e;g.ERROR=f}),98);
__d("MWChatFocusComposerContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext({focusComposer:void 0,setFocusComposer:function(){}});function a(a){a=a.children;var b=h.useRef(),c=b.current,d=h.useMemo(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return h.createElement(i.Provider,{children:a,value:d})}b=a;g.context=i;g.provider=b}),98);
__d("MWInboxURIState.bs",["CometRouteParams","CurrentEnvironment","I64","MAWGating","MWCMIsAnyCMThread","MWLSThread.bs","MercuryFilters.bs","MercuryIDs","MessengerURIConstants","URI","bs_belt_Option","bs_caml_exceptions","bs_caml_format","bs_caml_option","bs_curry","bs_js_json","bs_js_null_undefined","cr:3904","cr:3905","gkx","qex","useCurrentRoute","useGroupThreadViewParams"],(function(a,b,c,d,e,f,g){"use strict";f={};var h=c("bs_caml_exceptions").create("MWInboxURIState.NonMessengerState"),i="/?$";function j(a){a=a.match(new RegExp(c("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));return c("bs_belt_Option").map(a===null?void 0:c("bs_caml_option").some(a),function(a){return decodeURIComponent(a[1])})}function k(a){a=a.match(new RegExp(c("MessengerURIConstants").FOLDERS_PATH+("/([^/]+)"+(c("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"))));return c("bs_belt_Option").map(a===null?void 0:c("bs_caml_option").some(a),function(a){return decodeURIComponent(a[1])})}var l=c("qex")._("1507")===!0,m=c("CurrentEnvironment").instagramdotcom?c("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:c("CurrentEnvironment").facebookdotcom?c("MessengerURIConstants").FACEBOOK_PREFIX:"";function n(a){a=new(c("URI"))(a.url);var b=a.getPath();a=a.getQueryData();var e=c("gkx")("1300945"),f=new RegExp("^"+(m+"(/|$)")),g=c("bs_belt_Option").isSome(a.story_id);if(c("CurrentEnvironment").facebookdotcom&&!(f.test(b)||e&&b==="/"&&!g))throw{Error:new Error(),RE_EXN_ID:h};e=b.replace(f,"/");g=a.filter;b=a.fbid;f=a.qa;var n=a.sa,o=a.t,p=a.threadIDs;a=a.id;try{p=c("bs_belt_Option").map(p,function(a){return JSON.parse(a)});p!==void 0&&c("bs_belt_Option").map(c("bs_js_json").decodeArray(c("bs_caml_option").valFromOption(p)),function(a){return a.reduce(function(a,b){b=c("bs_js_json").decodeString(b);if(d("MercuryIDs").isValidThreadID(c("bs_js_null_undefined").fromOption(c("bs_belt_Option").map(b,function(a){return a}))))return a.concat([b]);else return a},[])})}catch(a){}if(c("bs_belt_Option").isSome(c("bs_caml_option").null_to_opt(e.match(new RegExp("^"+c("MessengerURIConstants").PEOPLE_PATH)))))p={_0:void 0,TAG:1};else if(c("bs_belt_Option").isSome(c("bs_caml_option").null_to_opt(e.match(new RegExp("^"+c("MessengerURIConstants").PAYMENT_PATH)))))p={_0:void 0,TAG:2};else if(c("bs_belt_Option").isSome(c("bs_caml_option").null_to_opt(e.match(new RegExp("^"+c("MessengerURIConstants").SEARCH_PATH)))))if(l)if(f!==void 0)p={_0:void 0,TAG:4};else if(n!==void 0&&o!==void 0){f=c("bs_caml_option").valFromOption(o);p=f==="friend"||f==="non_friend"?{_0:void 0,TAG:5}:f==="page"?{_0:void 0,TAG:6}:f==="thread"?{_0:void 0,TAG:7}:{_0:void 0,TAG:3}}else p={_0:void 0,TAG:3};else p={_0:void 0,TAG:3};else if(c("bs_belt_Option").isSome(c("bs_caml_option").null_to_opt(e.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_GROUP_VIEW)))))p={_0:void 0,TAG:7};else if(c("bs_belt_Option").isSome(c("bs_caml_option").null_to_opt(e.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_CHAT_VIEW)))))p={_0:void 0,TAG:5};else if(c("bs_belt_Option").isSome(c("bs_caml_option").null_to_opt(e.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_UNREAD_VIEW)))))p={_0:void 0,TAG:8};else if(c("bs_belt_Option").isSome(c("bs_caml_option").null_to_opt(e.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW)))))p={_0:void 0,TAG:9};else if(e==="/read/")p={_0:b!==void 0?{_0:c("bs_caml_format").caml_int64_of_string(b),TAG:3}:void 0,TAG:10};else{if(c("bs_belt_Option").isSome(c("bs_caml_option").null_to_opt(e.match(new RegExp("^"+(c("MessengerURIConstants").COMPOSE_SUBPATH+i))))))n=[{_0:"E2EEToggleOff",TAG:0},void 0,void 0];else if(c("bs_belt_Option").isSome(c("bs_caml_option").null_to_opt(e.match(new RegExp("^"+(c("MessengerURIConstants").PAYMENT_PATH+c("MessengerURIConstants").PAYMENT_PAY_PATH))))))n=a!==void 0?[{_0:void 0,TAG:1},a,void 0]:[{_0:void 0,TAG:2},void 0,void 0];else{o=j(e);try{f=c("bs_belt_Option").map(o,c("bs_caml_format").caml_int64_of_string)}catch(a){f=void 0}b=f!==void 0?[{_0:f,TAG:3},o]:[void 0,void 0];a=k(e);n=[b[0],b[1],a]}p={_0:n[0],TAG:10}}c("bs_belt_Option").isSome(c("bs_caml_option").null_to_opt(e.match(new RegExp("^"+c("MessengerURIConstants").FILTERED_REQUESTS_PATH))))||(c("bs_belt_Option").isSome(c("bs_caml_option").null_to_opt(e.match(new RegExp("^"+c("MessengerURIConstants").ARCHIVED_PATH))))||c("bs_belt_Option").isSome(c("bs_caml_option").null_to_opt(e.match(new RegExp("^"+c("MessengerURIConstants").MESSAGE_REQUESTS_PATH)))));c("bs_belt_Option").mapWithDefault(g,!1,d("MercuryFilters.bs").isSupportedFilter)&&c("bs_belt_Option").getExn(g);return p}var o=b("cr:3904")==null?void 0:c("bs_caml_option").some(b("cr:3904"));function p(a){if(!d("MAWGating").isOccamadillo())return b("cr:3905")==null?void 0:b("cr:3905").isThreadId(a);else return!1}var q=c("gkx")("1968579")||c("gkx")("6975");function a(a){return new(c("URI"))(a.substring(m.length)).getPath().split("/")}function r(a){try{return a?d("I64").of_string_opt(a):void 0}catch(a){return void 0}}function e(a){var e=c("useCurrentRoute")(),f=c("useGroupThreadViewParams")();a=r(a);var g=d("CometRouteParams").useRouteParams(),i=d("MWLSThread.bs").useThread(a,function(a){return c("MWCMIsAnyCMThread")(a.threadType)});if(f!=null)return{_0:{_0:c("bs_caml_format").caml_int64_of_string(f.threadKey),TAG:3},TAG:10};if(e==null)return{_0:void 0,TAG:0};f=new(c("URI"))(e.url).getPath();if(!f.startsWith(m)&&!f.startsWith(c("MessengerURIConstants").GROUPS_PATH))throw{Error:new Error(),RE_EXN_ID:h};f=e.url.substring(m.length);var j;if(b("cr:3904")==null)j=void 0;else{var k=c("bs_curry")._1(o.getMostRecentSecureThreadKey);j=k!==void 0?k:void 0}k=g.initial_e2ee_toggle_position==="1"||g.initial_e2ee_toggle_position===1||g.initial_e2ee_toggle_position===!0?"E2EEToggleOn":"E2EEToggleOff";g=new(c("URI"))(f).getPath().split("/");var l;if(a!=null){if(g.length!==4)f=2;else{var s=g[0];if(s===""){s=g[1];if(s==="e2ee"){s=g[2];if(s==="t"&&j===void 0){if(d("MAWGating").isOccamadillo())return{_0:{_0:a,TAG:4},TAG:10};f=2}else f=2}else f=2}else f=2}if(f===2){if(p(a))return n(e);if(i&&!q)return{_0:void 0,TAG:0};else return{_0:{_0:a,TAG:3},TAG:10}}}else{s=g.length;if(s>=4)return n(e);switch(s){case 0:return n(e);case 1:f=g[0];if(f!=="")return n(e);if(j===void 0)return n(e);l=j;break;case 2:i=g[0];a=g[1];switch(a){case"":if(j===void 0)return n(e);l=j;break;case"new":return{_0:{_0:k,TAG:0},TAG:10};default:if(i!=="")return n(e);s=g[1];if(s!=="t")return n(e);if(j===void 0)return n(e);l=j}break;case 3:f=g[1];if(f!=="t")return n(e);a=g[2];if(a==="")return n(e);try{k=c("bs_caml_format").caml_int64_of_string(a)}catch(a){k=void 0}if(k!==void 0&&!p(k))return{_0:{_0:k,TAG:3},TAG:10};else return{_0:void 0,TAG:0}}}return{_0:{_0:c("bs_caml_format").caml_int64_of_string(l),TAG:4},TAG:10}}var s=k,t=l,u=m,v=n;a=a;e=e;g.MessagingTag=f;g.NonMessengerState=h;g._getFolderID=s;g.isSearchRefactor=t;g.prefix=u;g.parseURI_DEPRECATED=v;g.getRouteTokens=a;g.useState=e}),98);
__d("MWInboxProvider.bs",["MWInboxURIState.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext();function a(a){var b=a.children;a=a.threadKey;a=d("MWInboxURIState.bs").useState(a);return h.jsx(i.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWInboxProviderContext=i;g.MWInboxProvider=a}),98);
__d("MWInboxPassiveContext.bs",["MWInboxProvider.bs","bs_int64","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useMemo;e={isPassive:!1,setIsPassive:c("emptyFunction")};var l=h.createContext(e);function a(a){var b=a.children,e=a.isPassive,f=a.setIsPassive;a=i(d("MWInboxProvider.bs").MWInboxProviderContext);if((a==null?void 0:a.TAG)===10){a=a._0;a=a!==void 0&&a.TAG===3?c("bs_int64").to_string(a._0):""}else a="";j(function(){f(!1)},[f,a]);a=k(function(){return{isPassive:e,setIsPassive:f}},[e,f]);return h.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWInboxPassiveContext=l;g.MWInboxPassiveContextProvider=a}),98);
__d("useMWInboxPassiveContext",["MWInboxPassiveContext.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(d("MWInboxPassiveContext.bs").MWInboxPassiveContext)}g["default"]=a}),98);
__d("MWChatTabFocusHandler.bs",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext.bs","bs_caml_js_exceptions","bs_caml_option","bs_js_exn","gkx","react","stylex","useMWInboxPassiveContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{height:"x5yr21d",":focus_outline":"x1uvtmcs",$$css:!0}};function j(){try{return document.activeElement.getAttribute("data-release-focus-from")==="CLICK"}catch(b){var a=c("bs_caml_js_exceptions").internalToOCamlException(b);if(a.RE_EXN_ID===c("bs_js_exn").$$Error)return!1;throw a}}function a(a){var b=a.onEscape,e=a.onFocus,f=a.onBlur,g=a.xstyle;a=a.children;b=b!==void 0?b:function(){};var k=e!==void 0?e:function(){},l=f!==void 0?f:function(){};e=g!==void 0?c("bs_caml_option").valFromOption(g):!1;var m=h.useRef(null);f=c("useMWInboxPassiveContext")();var n=f.setIsPassive;g=h.useContext(d("MWChatFocusComposerContext.bs").context);var o=g.focusComposer;f=h.useCallback(function(a){a=m.current;if(a!=null&&o!==void 0&&window.getSelection().toString()===""&&(a===document.activeElement||j()))return o()},[m,o]);return h.jsx(c("FocusWithinHandler.react"),{onBlurWithin:function(){return l()},onFocusWithin:function(a){a.target.getAttribute("data-prevent_chattab_focus")==null&&k();var b=m.current;b!=null&&o!==void 0&&b===a.target&&o();if(c("gkx")("6531"))return n(!1)},children:h.jsx(c("CometHideLayerOnEscape.react"),{onHide:b,children:h.jsx("div",{className:c("stylex")(i.root,e),onClick:f,ref:m,tabIndex:-1,children:a})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.getShouldTakeFocusFromActiveElement=j;g.make=b}),98);
__d("MWV2HeaderCloseButton.bs",["fbt","CometPressable.react","MWTooltip.react","bs_caml_option","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__h_m7dC6Kxvx__JHASH__");function a(a){var b=a.label,d=a.color,e=a.onPress;a=a.testid;b=b!==void 0?b:j;var f=c("useSetAttributeRef")("data-prevent_chattab_focus","1");d={"aria-label":b,children:i.jsx("svg",{className:"xvijh9v xhhsvwb x1ty9z65 xgzva0m",height:"24px",viewBox:"0 0 24 24",width:"24px",children:i.jsxs("g",{stroke:d,strokeLinecap:"round",strokeWidth:"2",children:[i.jsx("line",{x1:"6",x2:"18",y1:"6",y2:"18"}),i.jsx("line",{x1:"6",x2:"18",y1:"18",y2:"6"})]})}),onPress:e,overlayRadius:"50%",ref:f};a!==void 0&&(d.testid=c("bs_caml_option").valFromOption(a));return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:b,children:i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},d))})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=j;d=b;g.defaultLabel=e;g.make=d}),98);
__d("MWV2HeaderContainer.bs",["MDSRow.react","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={divider:{boxShadow:"x7m3og9",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopEndRadius:"xgqcy7u",borderTopStartRadius:"x1lq5wgf",display:"x78zum5",flexShrink:"x2lah0s",height:"x10w6t97",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",position:"x1n2onr6",zIndex:"xhtitgo",$$css:!0}};function a(a){var b=a.startContent,d=a.endContent,e=a.backgroundColor;a=a.divider;b=b!==void 0?c("bs_caml_option").valFromOption(b):null;d=d!==void 0?c("bs_caml_option").valFromOption(d):null;a=a!==void 0?a:!0;var f={};e!==void 0&&(f.backgroundColor=e);return h.jsxs("div",{className:c("stylex")(i.root,a?i.divider:!1),style:f,children:[h.jsx(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:b}),d]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWFallbackWithTimeout.react",["FBLogger","react","useTimeout"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useEffect;function a(a){var b=a.children,d=a.message;a=c("useTimeout")(5e3);var e=a.pending;h(function(){e||c("FBLogger")("messenger_web_product","fallback_timeout").warn(d)},[d,e]);return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2IsTabFocusedContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext(!1);function a(a){var b=a.children;a=a.isFocused;return h.createElement(i.Provider,{children:b,value:a})}function b(){return h.useContext(i)}c=a;g.useContext=b;g.make=c}),98);
__d("MWV2TabContainer.bs",["MWChatFocusComposerContext.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatTabFocusHandler.bs","UseMWV2CloseTab","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.ariaBusy,e=a.ariaLabel,f=a.children,g=a.domRef,i=a.isFixedHeight;i=i===void 0?!1:i;var j=a.style,k=a.tab,l=a.tabIndex;a=a.thread;var m=d("MWChatStateV2.bs").useDispatch(),n=d("UseMWV2CloseTab").useHook(a,k);return h.jsx(d("MWChatFocusComposerContext.bs").provider,{children:h.jsx(d("MWChatTabFocusHandler.bs").make,{onBlur:function(){return c("bs_curry")._1(m,d("MWChatStateActions.bs").blurTab())},onEscape:function(){return c("bs_curry")._1(n)},onFocus:function(){return c("bs_curry")._1(m,d("MWChatStateActions.bs").focusTab(k.tabId))},children:h.jsx("div",{"aria-busy":b,"aria-label":e,className:"xcrg951 xgqcy7u x1lq5wgf x2c8kfy x78zum5 xdt5ytf x6prxxf xvq8zen x17adc0v xcn1v36 xi55695"+(i?" xt7dq6l":" x1rgmuzj xbbk1sx"),"data-testid":void 0,ref:g,style:j,tabIndex:l,children:f})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("LSInternetConnectionState",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_CONNECTED:0,CONNECTED:1});f["default"]=a}),66);
__d("LSPlatformConnectionStatusProvider",["I64","LSDeleteAllAndInsertConnectivityStatus","LSFactory","LSInternetConnectionState","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.createContext,j=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useMemo,n=e.useState;e={setStatus:function(a){},status:"Connected"};var o=i(e);function a(a){var b=p();l(function(){var c=a.onConnectionStatusChange(b);return function(){c()}},[a,b])}function b(a){var b=a.children,e=a.onConnectionStatusChange,f=c("useReStore")();a=n("Connected");var g=a[0],i=a[1];l(function(){return e(function(a){i(a)})},[e,i]);l(function(){(g==="Connected"||g==="Disconnected")&&c("promiseDone")(f.runInTransaction(function(a){return c("LSDeleteAllAndInsertConnectivityStatus")(g==="Connected"?d("I64").of_int32(c("LSInternetConnectionState").CONNECTED):d("I64").of_int32(c("LSInternetConnectionState").NOT_CONNECTED),c("LSFactory")(a))},"readwrite"))},[f,g]);var k=j(function(a){return i(a)},[i]);a=m(function(){return{setStatus:k,status:g}},[k,g]);return h.jsx(o.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";function p(){var a=k(o),b=a.setStatus;return m(function(){return function(a){b(a)}},[b])}g.Context=o;g.useSubscribeOnConnectionStatusChange=a;g.Provider=b;g.useStatusChangeHandler=p}),98);
__d("MqttState.bs",[],(function(a,b,c,d,e,f){"use strict";a="Connected";b="Disconnected";c="Connecting";f.connected=a;f.disconnected=b;f.connecting=c}),66);
__d("bs_caml_bytes",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};a[b]=c}function b(a,b){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};return a[b]}function c(a,b,c,d){if(c<=0)return;for(var e=b,c=c+b|0;e<c;++e)a[e]=d}function d(a){if(a<0)throw{RE_EXN_ID:"Invalid_argument",_1:"String.create",Error:new Error()};var b=new Array(a);for(var c=0;c<a;++c)b[c]=0;return b}function e(a,b,c,d,e){if(e<=0)return;if(a===c){if(b<d){var f=(a.length-d|0)-1|0,g=e-1|0;g=f>g?g:f;for(f=g;f>=0;--f)a[d+f|0]=a[b+f|0];return}if(b<=d)return;g=(a.length-b|0)-1|0;f=e-1|0;f=g>f?f:g;for(g=0;g<=f;++g)a[d+g|0]=a[b+g|0];return}g=a.length-b|0;if(e<=g){for(f=0;f<e;++f)c[d+f|0]=a[b+f|0];return}for(f=0;f<g;++f)c[d+f|0]=a[b+f|0];for(f=g;f<e;++f)c[d+f|0]=0}function g(a){var b=0,c=a.length,d="",e=c;if(b===0&&c<=4096&&c===a.length)return String.fromCharCode.apply(null,a);b=0;while(e>0){c=e<1024?e:1024;var f=new Array(c);for(var g=0;g<c;++g)f[g]=a[g+b|0];d=d+String.fromCharCode.apply(null,f);e=e-c|0;b=b+c|0}return d}function h(a,b,c,d,e){if(e<=0)return;var f=a.length-b|0;if(e<=f){for(var g=0;g<e;++g)c[d+g|0]=a.charCodeAt(b+g|0);return}for(g=0;g<f;++g)c[d+g|0]=a.charCodeAt(b+g|0);for(g=f;g<e;++g)c[d+g|0]=0}function i(a){var b=a.length,c=new Array(b);for(var d=0;d<b;++d)c[d]=a.charCodeAt(d);return c}function j(a,b,c,d,e){while(!0){var f=c;if(f>=d)return e;var g=a[f],h=b[f];if(g>h)return 1;if(g<h)return-1;c=f+1|0;continue}}function k(a,b){var c=a.length,d=b.length;if(c===d)return j(a,b,0,c,0);else if(c<d)return j(a,b,0,c,-1);else return j(a,b,0,d,1)}function l(a,b){var c=a.length,d=b.length;if(c===d){d=0;while(!0){var e=d;if(e===c)return!0;var f=a[e],g=b[e];if(f!==g)return!1;d=e+1|0;continue}}else return!1}function m(a,b){return k(a,b)>0}function n(a,b){return k(a,b)>=0}function o(a,b){return k(a,b)<0}function p(a,b){return k(a,b)<=0}f.caml_create_bytes=d;f.caml_fill_bytes=c;f.get=b;f.set=a;f.bytes_to_string=g;f.caml_blit_bytes=e;f.caml_blit_string=h;f.bytes_of_string=i;f.caml_bytes_compare=k;f.caml_bytes_greaterthan=m;f.caml_bytes_greaterequal=n;f.caml_bytes_lessthan=o;f.caml_bytes_lessequal=p;f.caml_bytes_equal=l}),null);
__d("bs_caml_external_polyfill",[],(function(a,b,c,d,e,f){"use strict";var g=function(){if(typeof globalThis!=="undefined")return globalThis;if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof a!=="undefined")return a;if(typeof this!=="undefined")return this;throw new Error("Unable to locate global `this`")};b=function(a){var b=g();if(b[a]===void 0)throw new Error(a+" not polyfilled by ReScript yet\n");return b[a]};c=function(a,b){var c=g();c[a]=b;return 0};f.getGlobalThis=g;f.resolve=b;f.register=c}),null);
__d("bs_caml_io",[],(function(a,b,c,d,e,f){"use strict";var g={buffer:"",output:function(a,b){a=b.length-1|0;if(typeof process!=="undefined"&&process.stdout&&process.stdout.write)return process.stdout.write(b);else{b[a]==="\n";return}}},h={buffer:"",output:function(a,b){a=b.length-1|0;b[a]==="\n"}};function i(a){if(a.buffer!==""){a.output(a,a.buffer);a.buffer="";return}}function j(a,b,c,d){b=c===0&&d===b.length?b:b.slice(c,d);if(typeof process!=="undefined"&&process.stdout&&process.stdout.write&&a===g)return process.stdout.write(b);c=b.lastIndexOf("\n");c<0?a.buffer=a.buffer+b:(a.buffer=a.buffer+b.slice(0,c+1|0),i(a),a.buffer=a.buffer+b.slice(c+1|0))}function a(a,b){return j(a,String.fromCharCode(b),0,1)}function b(a){return{hd:g,tl:{hd:h,tl:0}}}var k;f.stdin=k;f.stdout=g;f.stderr=h;f.caml_ml_flush=i;f.caml_ml_output=j;f.caml_ml_output_char=a;f.caml_ml_out_channels_list=b}),null);
__d("bs_caml_string",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b>=a.length||b<0)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};return a.charCodeAt(b)}function b(a,b){return String.fromCharCode(b).repeat(a)}f.get=a;f.make=b}),null);
__d("bs_caml_sys",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(typeof process==="undefined"||process.env===void 0)throw{RE_EXN_ID:"Not_found",Error:new Error()};a=process.env[a];if(a!==void 0)return a;throw{RE_EXN_ID:"Not_found",Error:new Error()}}var g=function(a){if(typeof process!=="undefined"&&process.platform==="win32")return"Win32";else return"Unix"};function b(a){if(typeof process==="undefined"||process.uptime===void 0)return-1;else return process.uptime()}function c(a){return 127}var h=function(a){return typeof process==="undefined"||process.cwd===void 0?"/":process.cwd()};function d(a){if(typeof process==="undefined")return["",[""]];a=process.argv;if(a==null)return["",[""]];else return[a[0],a]}function e(a){if(typeof process!=="undefined")return process.exit(a)}function i(a){throw{RE_EXN_ID:"Failure",_1:"caml_sys_is_directory not implemented",Error:new Error()}}function j(a){throw{RE_EXN_ID:"Failure",_1:"caml_sys_file_exists not implemented",Error:new Error()}}f.caml_sys_getenv=a;f.caml_sys_time=b;f.os_type=g;f.caml_sys_system_command=c;f.caml_sys_getcwd=h;f.caml_sys_get_argv=d;f.caml_sys_exit=e;f.caml_sys_is_directory=i;f.caml_sys_file_exists=j}),null);
__d("bs_pervasives",["bs_caml_bytes","bs_caml_exceptions","bs_caml_external_polyfill","bs_caml_format","bs_caml_io","bs_caml_js_exceptions","bs_caml_string","bs_caml_sys","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){throw{RE_EXN_ID:"Failure",_1:a,Error:new Error()}}function c(a){throw{RE_EXN_ID:"Invalid_argument",_1:a,Error:new Error()}}var h=b("bs_caml_exceptions").create("Pervasives.Exit");function d(a){if(a>=0)return a;else return-a|0}function e(a){return a^-1}var i=-2147483648;function j(a){if(isFinite(a))if(Math.abs(a)>=22250738585072014e-324)return 0;else if(a!==0)return 1;else return 2;else if(isNaN(a))return 4;else return 3}function k(a){if(a<0||a>255)throw{RE_EXN_ID:"Invalid_argument",_1:"char_of_int",Error:new Error()};return a}function l(a){if(a)return"true";else return"false"}function m(a){switch(a){case"false":return!1;case"true":return!0;default:throw{RE_EXN_ID:"Invalid_argument",_1:"bool_of_string",Error:new Error()}}}function n(a){switch(a){case"false":return!1;case"true":return!0;default:return}}function o(a){try{return b("bs_caml_format").caml_int_of_string(a)}catch(c){a=b("bs_caml_js_exceptions").internalToOCamlException(c);if(a.RE_EXN_ID==="Failure")return;throw a}}function p(a){var c=a.length,d=0;while(!0){var e=d;if(e>=c)return a+".";var f=b("bs_caml_string").get(a,e);if(f>=48){if(f>=58)return a;d=e+1|0;continue}if(f!==45)return a;d=e+1|0;continue}}function q(a){return p(b("bs_caml_format").caml_format_float("%.12g",a))}function r(a){try{return b("bs_caml_format").caml_float_of_string(a)}catch(c){a=b("bs_caml_js_exceptions").internalToOCamlException(c);if(a.RE_EXN_ID==="Failure")return;throw a}}function s(a,b){if(a)return{hd:a.hd,tl:s(a.tl,b)};else return b}var t=(g=b("bs_caml_io")).stdin,u=g.stdout,v=g.stderr;function w(a,c,d){a=b("bs_caml_external_polyfill").resolve("caml_ml_open_descriptor_out")(b("bs_caml_external_polyfill").resolve("caml_sys_open")(d,a,c));b("bs_caml_external_polyfill").resolve("caml_ml_set_channel_name")(a,d);return a}function x(a){return w({hd:1,tl:{hd:3,tl:{hd:4,tl:{hd:7,tl:0}}}},438,a)}function y(a){return w({hd:1,tl:{hd:3,tl:{hd:4,tl:{hd:6,tl:0}}}},438,a)}function z(a){a=b("bs_caml_io").caml_ml_out_channels_list(void 0);while(!0){var c=a;if(!c)return;try{b("bs_caml_io").caml_ml_flush(c.hd)}catch(a){var d=b("bs_caml_js_exceptions").internalToOCamlException(a);if(d.RE_EXN_ID!=="Sys_error")throw d}a=c.tl;continue}}function A(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_output_bytes")(a,c,0,c.length)}function B(a,c){return b("bs_caml_io").caml_ml_output(a,c,0,c.length)}function C(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw{RE_EXN_ID:"Invalid_argument",_1:"output",Error:new Error()};return b("bs_caml_external_polyfill").resolve("caml_ml_output_bytes")(a,c,d,e)}function D(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw{RE_EXN_ID:"Invalid_argument",_1:"output_substring",Error:new Error()};return b("bs_caml_io").caml_ml_output(a,c,d,e)}function E(a,c){return b("bs_caml_external_polyfill").resolve("caml_output_value")(a,c,0)}function F(a){b("bs_caml_io").caml_ml_flush(a);return b("bs_caml_external_polyfill").resolve("caml_ml_close_channel")(a)}function G(a){try{b("bs_caml_io").caml_ml_flush(a)}catch(a){}try{return b("bs_caml_external_polyfill").resolve("caml_ml_close_channel")(a)}catch(a){return}}function H(a,c,d){a=b("bs_caml_external_polyfill").resolve("caml_ml_open_descriptor_in")(b("bs_caml_external_polyfill").resolve("caml_sys_open")(d,a,c));b("bs_caml_external_polyfill").resolve("caml_ml_set_channel_name")(a,d);return a}function I(a){return H({hd:0,tl:{hd:7,tl:0}},0,a)}function J(a){return H({hd:0,tl:{hd:6,tl:0}},0,a)}function K(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw{RE_EXN_ID:"Invalid_argument",_1:"input",Error:new Error()};return b("bs_caml_external_polyfill").resolve("caml_ml_input")(a,c,d,e)}function L(a,c,d,e){while(!0){var f=e,g=d;if(f<=0)return;var h=b("bs_caml_external_polyfill").resolve("caml_ml_input")(a,c,g,f);if(h===0)throw{RE_EXN_ID:"End_of_file",Error:new Error()};e=f-h|0;d=g+h|0;continue}}function M(a,b,c,d){if(c<0||d<0||c>(b.length-d|0))throw{RE_EXN_ID:"Invalid_argument",_1:"really_input",Error:new Error()};return L(a,b,c,d)}function N(a,c){var d=b("bs_caml_bytes").caml_create_bytes(c);M(a,d,0,c);return b("bs_caml_bytes").bytes_to_string(d)}function O(a){var c=function(a,c,d){while(!0){var e=d,f=c;if(!e)return a;var g=e.hd,h=g.length;b("bs_caml_bytes").caml_blit_bytes(g,0,a,f-h|0,h);d=e.tl;c=f-h|0;continue}},d=function(d,e){while(!0){var f=e,g=d,h=b("bs_caml_external_polyfill").resolve("caml_ml_input_scan_line")(a);if(h===0){if(g)return c(b("bs_caml_bytes").caml_create_bytes(f),f,g);throw{RE_EXN_ID:"End_of_file",Error:new Error()}}if(h>0){var i=b("bs_caml_bytes").caml_create_bytes(h-1|0);b("bs_caml_external_polyfill").resolve("caml_ml_input")(a,i,0,h-1|0);b("bs_caml_external_polyfill").resolve("caml_ml_input_char")(a);if(!g)return i;var j=(f+h|0)-1|0;return c(b("bs_caml_bytes").caml_create_bytes(j),j,{hd:i,tl:g})}j=b("bs_caml_bytes").caml_create_bytes(-h|0);b("bs_caml_external_polyfill").resolve("caml_ml_input")(a,j,0,-h|0);e=f-h|0;d={hd:j,tl:g};continue}};return b("bs_caml_bytes").bytes_to_string(d(0,0))}function P(a){try{return b("bs_caml_external_polyfill").resolve("caml_ml_close_channel")(a)}catch(a){return}}function Q(a){return b("bs_caml_io").caml_ml_output_char(u,a)}function R(a){return B(u,a)}function S(a){return A(u,a)}function T(a){return B(u,String(a))}function U(a){return B(u,p(b("bs_caml_format").caml_format_float("%.12g",a)))}function V(a){b("bs_caml_io").caml_ml_output_char(u,10);return b("bs_caml_io").caml_ml_flush(u)}function W(a){return b("bs_caml_io").caml_ml_output_char(v,a)}function X(a){return B(v,a)}function aa(a){return A(v,a)}function ba(a){return B(v,String(a))}function ca(a){return B(v,p(b("bs_caml_format").caml_format_float("%.12g",a)))}function da(a){b("bs_caml_io").caml_ml_output_char(v,10);return b("bs_caml_io").caml_ml_flush(v)}function ea(a){b("bs_caml_io").caml_ml_flush(u);return O(t)}function fa(a){return b("bs_caml_format").caml_int_of_string((b("bs_caml_io").caml_ml_flush(u),O(t)))}function ga(a){return o((b("bs_caml_io").caml_ml_flush(u),O(t)))}function ha(a){return b("bs_caml_format").caml_float_of_string((b("bs_caml_io").caml_ml_flush(u),O(t)))}function ia(a){return r((b("bs_caml_io").caml_ml_flush(u),O(t)))}function ja(a){return a._1}var Y={contents:z};function ka(a){var c=Y.contents;Y.contents=function(d){b("bs_curry")._1(a,void 0);return b("bs_curry")._1(c,void 0)}}function Z(a){return b("bs_curry")._1(Y.contents,void 0)}function la(a){Z(void 0);return b("bs_caml_sys").caml_sys_exit(a)}var ma=2147483647,na=Infinity,oa=-Infinity,pa=17976931348623157e292,qa=22250738585072014e-324,ra=2220446049250313e-31,sa=g.caml_ml_flush,ta=g.caml_ml_output_char;g=g.caml_ml_output_char;function ua(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_output_int")(a,c)}function va(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_seek_out")(a,c)}function wa(a){return b("bs_caml_external_polyfill").resolve("caml_ml_pos_out")(a)}function xa(a){return b("bs_caml_external_polyfill").resolve("caml_ml_channel_size")(a)}function ya(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_set_binary_mode")(a,c)}function za(a){return b("bs_caml_external_polyfill").resolve("caml_ml_input_char")(a)}function Aa(a){return b("bs_caml_external_polyfill").resolve("caml_ml_input_char")(a)}function Ba(a){return b("bs_caml_external_polyfill").resolve("caml_ml_input_int")(a)}function Ca(a){return b("bs_caml_external_polyfill").resolve("caml_input_value")(a)}function Da(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_seek_in")(a,c)}function Ea(a){return b("bs_caml_external_polyfill").resolve("caml_ml_pos_in")(a)}function Fa(a){return b("bs_caml_external_polyfill").resolve("caml_ml_channel_size")(a)}function Ga(a){return b("bs_caml_external_polyfill").resolve("caml_ml_close_channel")(a)}function Ha(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_set_binary_mode")(a,c)}function $(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_seek_out_64")(a,c)}function Ia(a){return b("bs_caml_external_polyfill").resolve("caml_ml_pos_out_64")(a)}function Ja(a){return b("bs_caml_external_polyfill").resolve("caml_ml_channel_size_64")(a)}function Ka(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_seek_in_64")(a,c)}function La(a){return b("bs_caml_external_polyfill").resolve("caml_ml_pos_in_64")(a)}function Ma(a){return b("bs_caml_external_polyfill").resolve("caml_ml_channel_size_64")(a)}$={seek_out:$,pos_out:Ia,out_channel_length:Ja,seek_in:Ka,pos_in:La,in_channel_length:Ma};f.invalid_arg=c;f.failwith=a;f.Exit=h;f.abs=d;f.max_int=ma;f.min_int=i;f.lnot=e;f.infinity=na;f.neg_infinity=oa;f.max_float=pa;f.min_float=qa;f.epsilon_float=ra;f.classify_float=j;f.char_of_int=k;f.string_of_bool=l;f.bool_of_string=m;f.bool_of_string_opt=n;f.int_of_string_opt=o;f.string_of_float=q;f.float_of_string_opt=r;f.$at=s;f.stdin=t;f.stdout=u;f.stderr=v;f.print_char=Q;f.print_string=R;f.print_bytes=S;f.print_int=T;f.print_float=U;f.print_newline=V;f.prerr_char=W;f.prerr_string=X;f.prerr_bytes=aa;f.prerr_int=ba;f.prerr_float=ca;f.prerr_newline=da;f.read_line=ea;f.read_int=fa;f.read_int_opt=ga;f.read_float=ha;f.read_float_opt=ia;f.open_out=x;f.open_out_bin=y;f.open_out_gen=w;f.flush=sa;f.flush_all=z;f.output_char=ta;f.output_string=B;f.output_bytes=A;f.output=C;f.output_substring=D;f.output_byte=g;f.output_binary_int=ua;f.output_value=E;f.seek_out=va;f.pos_out=wa;f.out_channel_length=xa;f.close_out=F;f.close_out_noerr=G;f.set_binary_mode_out=ya;f.open_in=I;f.open_in_bin=J;f.open_in_gen=H;f.input_char=za;f.input_line=O;f.input=K;f.really_input=M;f.really_input_string=N;f.input_byte=Aa;f.input_binary_int=Ba;f.input_value=Ca;f.seek_in=Da;f.pos_in=Ea;f.in_channel_length=Fa;f.close_in=Ga;f.close_in_noerr=P;f.set_binary_mode_in=Ha;f.LargeFile=$;f.string_of_format=ja;f.exit=la;f.at_exit=ka;f.valid_float_lexem=p;f.unsafe_really_input=L;f.do_at_exit=Z}),null);/*FB_PKG_DELIM*/
__d("MWChatSettingsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5248437728509060"}),null);
__d("MWChatSettingsQuery.graphql",["MWChatSettingsQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatSettingsQuery",selections:a},params:{id:b("MWChatSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWChatSettingsQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("LSPlatformGraphQLLightspeedRequestQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"deviceId"},{defaultValue:null,kind:"LocalArgument",name:"requestId"},{defaultValue:null,kind:"LocalArgument",name:"requestPayload"},{defaultValue:null,kind:"LocalArgument",name:"requestType"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"device_id",variableName:"deviceId"},{kind:"Variable",name:"request_id",variableName:"requestId"},{kind:"Variable",name:"request_payload",variableName:"requestPayload"},{kind:"Variable",name:"request_type",variableName:"requestType"}],concreteType:"LightspeedWebResponse",kind:"LinkedField",name:"lightspeed_web_request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},{alias:null,args:null,concreteType:"LightspeedWebRequestDependency",kind:"LinkedField",name:"dependencies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"experiments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b},params:{id:"6336780299679280",metadata:{},name:"LSPlatformGraphQLLightspeedRequestQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MAWCondWrapper.react",["QE2Logger","cr:2895","cr:2896","cr:3921","cr:4891","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");d("QE2Logger").logExposureForUser("messenger_armadillo_web");function a(a){a=a.children;return a}e=c("gkx")("1224637")?a:(c=(d=(f=(e=b("cr:2895"))!=null?e:b("cr:2896"))!=null?f:b("cr:4891"))!=null?d:b("cr:3921"))!=null?c:a;f=e;g["default"]=f}),98);
__d("MAWTTRC",["MAWEBSwitch","MAWGating","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=!1,j=new Set(),k=new Set(["offline_queue_end","maw_init_end","backend_init_end","ls_init_end"]);function a(a){if(!i||!h)return;i=!0;c("QPLUserFlow").endFailure(c("qpl")._(1056839232,"112"),a)}function b(a){if(i||j.has(a)||d("MAWGating").isCodeOnlyInitEnabled())return;h||(h=!0,c("QPLUserFlow").startFromNavStart(c("qpl")._(1056839232,"112")),c("QPLUserFlow").addAnnotations(c("qpl")._(1056839232,"112"),{bool:{isEBEnabled:c("MAWEBSwitch").isEnabled(),isTlcPublicUser:d("MAWGating").isTlcPublicUser()}}));j.add(a);k["delete"](a);c("QPLUserFlow").addPoint(c("qpl")._(1056839232,"112"),a);k.size===0&&(i=!0,c("QPLUserFlow").endSuccess(c("qpl")._(1056839232,"112")))}g.fail=a;g.markEvent=b}),98);
__d("MWChatOpenTabFromNewMessage.bs",["LSThreadAttributionStore.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatThreadId","ODS","react","setTimeout","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useCometFeedNoRoutingNavigationEventLogger")(),e=d("MWChatStateV2.bs").useDispatch();return h.useCallback(function(f,g,h){b(Date.now(),"","messenger");d("ODS").bumpEntityKey(3185,"mwchat_tab","open_incoming");d("LSThreadAttributionStore.bs").setSource(d("MWChatThreadId").getFBID(f),a);var i=Date.now();e(d("MWChatStateActions.bs").openTabOrFlyout(i,{shouldFocus:!1},{_0:{clientThreadKey:void 0,threadKey:g.threadKey,threadType:g.threadType},TAG:1}));c("setTimeout")(function(){return e(d("MWChatStateActions.bs").closeFlyout(i,g.threadKey))},3e3);return h()},[b,a,e])}b=a;g.useHook=b}),98);
__d("MWChatSettingsQuery",["CometRelay","CometRelayEnvironment","MWChatSettingsQuery.graphql","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){var b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{},c("gkx")("1820749")?{fetchPolicy:"store-or-network"}:void 0).toPromise().then(function(b){var c;c=b==null?void 0:(c=b.viewer)==null?void 0:c.chat_tabs_turned_off;b=b==null?void 0:(b=b.viewer)==null?void 0:b.chat_sounds_on;a(c,b);return});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatSettingsQuery.graphql");a=function(a){i(function(b,c){return a(b)})};e=function(a){i(function(b,c){return a(c!=null&&c)})};g.areChatTabsTurnedOff=a;g.areChatTabsSoundsOn=e}),98);
__d("LSErrorHandlerDeferred.bs",["promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSErrorHandler.bs").__setRef("LSErrorHandlerDeferred.bs");function a(a){var b=h.load().then(function(b){return b.subscribeToErrorTableAndShowToast(a)});return function(){return c("promiseDone")(b.then(function(a){return a==null?void 0:a()}))}}g.subscribeToErrors=a}),98);
__d("MAWInitSyncComplete.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,1e3];f.id=a}),66);
__d("MWChatConfig.bs",["CurrentEnvironment","bx"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").messengerdotcom?c("bx").getURL(c("bx")("273041")):c("bx").getURL(c("bx")("273022"));b=c("CurrentEnvironment").messengerdotcom?c("bx").getURL(c("bx")("273042")):c("bx").getURL(c("bx")("273023"));g.soundNotifMp3Url=a;g.soundNotifOggUrl=b}),98);
__d("MWChatThreadPingCounter.bs",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function h(a){a=g.get(a);if(!(a==null))return a;else return 0}function a(a){var b=h(a);g.set(a,b+1|0)}function b(){g.clear()}c=h;d=a;e=b;f.getCount=c;f.incrementCount=d;f.clear=e}),66);
__d("MWGetCurrentThreadIDForLSThread.bs",["MWCMIsAnyCMThread","MessagingThreadType.bs","bs_caml","bs_int64","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(e)return{NAME:"Page",VAL:c("bs_int64").to_string(a)};else if(c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").tincanOneToOne)||c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").secureMessageOverWaOneToOne)||c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").secureMessageOverWaGroup))return{NAME:"UserSecret",VAL:c("bs_int64").to_string(a)};else if(c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").oneToOne)||c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").tincanOneToOneDisappearing))return{NAME:"User",VAL:c("bs_int64").to_string(a)};else if(c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").group)||c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").marketplace)||c("MWCMIsAnyCMThread")(b)||c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").discoverablePublicChat)||c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").discoverablePublicChatUnjoined)||c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").discoverablePublicChatV2)||c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").discoverablePublicChatV2Unjoined)||c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").discoverablePublicBroadcastChat)||c("bs_caml").i64_eq(b,d("MessagingThreadType.bs").discoverablePublicBroadcastChatUnjoined))return{NAME:"Group",VAL:c("bs_int64").to_string(a)};throw c("unrecoverableViolation")("Unsupported MWMessagingThreadType "+c("bs_int64").to_string(b),"messenger_web_product")}g.get=a}),98);
__d("MWLSChatTabPolicy.bs",["LSContactBlockedByViewerStatus.bs","MWCMThreadTypes.react","MWChatSettingsQuery","MWCount.bs","MessengerWebEventsFalcoEvent","bs_caml","bs_caml_int64","bs_curry","gkx","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d){d=d.TAG===0?!0:!1;if(d)return c("bs_curry")._1(a,b)}function a(a,b,e,f,g){var i=function(a){return c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"suppress_new_message",extra_data:{reason:a}}})},j=function(a){if(c("killswitch")("MESSENGER_WEB_STOP_AUTOMATIC_CHAT_TAB_RAISING")||!c("gkx")("1812191")){c("bs_curry")._1(d("MWCount.bs").Comet.NewMessage.reject);return c("bs_curry")._1(a,{_0:void 0,TAG:1})}else return c("bs_curry")._1(a,{_0:void 0,TAG:0})},k=function(b){if(c("bs_caml").i64_eq(a.senderId,f)){i("message_outgoing");c("bs_curry")._1(d("MWCount.bs").Comet.NewMessage.reject);return c("bs_curry")._1(b,{_0:void 0,TAG:1})}else return c("bs_curry")._1(b,{_0:void 0,TAG:0})},l=function(a){if(c("gkx")("1968579"))return c("bs_curry")._1(a,{_0:void 0,TAG:0});else{d("MWChatSettingsQuery").areChatTabsTurnedOff(function(b){if(!(b==null)&&b){i("turn_off_chat_tab");c("bs_curry")._1(d("MWCount.bs").Comet.NewMessage.reject);return c("bs_curry")._1(a,{_0:void 0,TAG:1})}else return c("bs_curry")._1(a,{_0:void 0,TAG:0})});return}},m=function(a){var e=c("bs_caml_int64").to_float(b.muteExpireTimeMs);if(e>Date.now()||e<0){i("mention_muted");c("bs_curry")._1(d("MWCount.bs").Comet.NewMessage.reject);return c("bs_curry")._1(a,{_0:void 0,TAG:1})}else return c("bs_curry")._1(a,{_0:void 0,TAG:0})},n=function(b){if(a.isAdminMessage){i("message_non_user_generated");c("bs_curry")._1(d("MWCount.bs").Comet.NewMessage.reject);return c("bs_curry")._1(b,{_0:void 0,TAG:1})}else return c("bs_curry")._1(b,{_0:void 0,TAG:0})},o=function(a){if(b.folderName==="inbox")return c("bs_curry")._1(a,{_0:void 0,TAG:0});else{i("message_no_inbox");c("bs_curry")._1(d("MWCount.bs").Comet.NewMessage.reject);return c("bs_curry")._1(a,{_0:void 0,TAG:1})}},p=function(a){if(c("bs_caml").i64_neq(e.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").unblocked)){i("message_blocked_participants");c("bs_curry")._1(d("MWCount.bs").Comet.NewMessage.reject);return c("bs_curry")._1(a,{_0:void 0,TAG:1})}else return c("bs_curry")._1(a,{_0:void 0,TAG:0})},q=function(a){if(d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)){i("community_messaging_group_blocked");return c("bs_curry")._1(a,{_0:void 0,TAG:1})}else return c("bs_curry")._1(a,{_0:void 0,TAG:0})},r=function(b){var d=a.mentionTypes;if(d!==void 0&&"s".includes(d))return c("bs_curry")._1(b,{_0:void 0,TAG:1});else return c("bs_curry")._1(b,{_0:void 0,TAG:0})};j={hd:j,tl:{hd:k,tl:{hd:l,tl:{hd:m,tl:{hd:n,tl:{hd:o,tl:{hd:p,tl:{hd:q,tl:{hd:r,tl:0}}}}}}}}};if(!j)return;k=function a(b){if(!b)return function(a){return h(function(){return c("bs_curry")._1(g)},function(){},a)};var d=b.hd,e=a(b.tl);return function(a){return h(d,e,a)}};return c("bs_curry")._1(j.hd,k(j.tl))}b=h;e=a;g.proceedIfAllow=b;g.shouldMessageBeAllowed=e}),98);
__d("MWNotificationRenderer.bs",["fbt","MessagingThreadType.bs","bs_caml","bs_curry"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e,f,g,i){if(!c("bs_caml").i64_neq(a.senderId,b))return c("bs_curry")._1(i,h._("__JHASH__rY0dxFqgz-w__JHASH__"));a=g.nickname;if(a!==void 0)b=a;else{g=f.firstName;b=g!==void 0?g:f.name}a=e.threadName;if(a!==void 0)return c("bs_curry")._1(i,h._("__JHASH__OUbuC9yLTGc__JHASH__",[h._param("senderName",b),h._param("groupName",a)]));else if(c("bs_caml").i64_eq(e.threadType,d("MessagingThreadType.bs").group))return c("bs_curry")._1(i,h._("__JHASH__xWtep4OGpvD__JHASH__",[h._param("name",b)]));else return c("bs_curry")._1(i,h._("__JHASH__uh-zU0Y_fAB__JHASH__",[h._param("name",b)]))}b=a;g.renderDocumentTitle=b}),98);
__d("MWLSChatPopperUpper.bs",["CometSetBlinkingTitleMessageContext","CurrentUser","LSContactType.bs","MWChatConfig.bs","MWChatOpenTabFromNewMessage.bs","MWChatSettingsQuery","MWChatThreadPingCounter.bs","MWCount.bs","MWGetCurrentThreadIDForLSThread.bs","MWIsXacGroupThread.bs","MWLSChatTabPolicy.bs","MWNotificationRenderer.bs","MWPActor.bs","MWPIsThreadUnread.bs","MWXacGating.bs","MercuryIDs","ReQL.bs","ServerTime","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","clearInterval","promiseDone","react","requireDeferred","setInterval","useGlobalEventListener"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("Sound").__setRef("MWLSChatPopperUpper.bs");function j(a){var b=c("bs_int64").to_string(a.senderId)!==c("CurrentUser").getID();if(b)return i.onReady(function(b){b.play([d("MWChatConfig.bs").soundNotifOggUrl,d("MWChatConfig.bs").soundNotifMp3Url],c("bs_caml_int64").to_float(a.timestampMs),!1)})}var k={contents:void 0};function l(a,b,e,f,g,h,i,l){var m=d("MWGetCurrentThreadIDForLSThread.bs").get(e.threadKey,e.threadType,c("bs_caml").i64_eq(f.contactType,d("LSContactType.bs").page)||c("bs_caml").i64_eq(f.contactType,d("LSContactType.bs").pagePersona));return d("MWLSChatTabPolicy.bs").shouldMessageBeAllowed(b,e,f,i,function(){var n=d("MercuryIDs").getThreadIDFromThreadFBID(c("bs_int64").to_string(e.threadKey));c("bs_curry")._1(d("MWCount.bs").Comet.NewMessage.lift);return a(m,e,function(){d("MWNotificationRenderer.bs").renderDocumentTitle(b,i,e,f,g,function(a){var f=k.contents;f!==void 0&&c("bs_curry")._1(f);k.contents=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(l.table("threads")),{hd:e.threadKey,tl:0}),function(a,b){switch(b.TAG){case 0:case 1:break;case 2:return}a=b._0;if(d("MWPIsThreadUnread.bs").isThreadUnread(a))return;b=k.contents;b!==void 0&&c("bs_curry")._1(b);k.contents=void 0;return c("bs_curry")._2(h,void 0,c("bs_caml_int64").to_float(a.lastReadWatermarkTimestampMs))});return c("bs_curry")._2(h,a,c("bs_caml_int64").to_float(b.timestampMs))});if(d("MWChatThreadPingCounter.bs").getCount(n)<3){d("MWChatThreadPingCounter.bs").incrementCount(n);d("MWChatSettingsQuery").areChatTabsSoundsOn(function(a){if(!(a==null)&&a)return j(b)});return}})})}function m(a,b,e,f,g){c("bs_curry")._1(d("MWCount.bs").Comet.NewMessage.$$process),c("promiseDone")(window.Promise.all([b.table("threads").get({hd:a.threadKey,tl:0}),b.table("contacts").get({hd:a.senderId,tl:0}),b.table("participants").get({hd:a.threadKey,tl:{hd:a.senderId,tl:0}})]),function(d){var h=d[2],i=d[1];if(i!==void 0&&h!==void 0)return l(e,a,c("bs_belt_Option").getExn(d[0]),i,h,f,g,b)})}function n(a,b,e,f,g){c("promiseDone")(window.Promise.all([b.table("threads").get({hd:a.threadKey,tl:0}),b.table("contacts").get({hd:a.senderId,tl:0}),b.table("participants").get({hd:a.threadKey,tl:{hd:a.senderId,tl:0}})]),function(h){var i=h[2],j=h[1];h=h[0];if(h!==void 0&&j!==void 0&&i!==void 0&&!d("MWIsXacGroupThread.bs").check(h)){c("bs_curry")._1(d("MWCount.bs").Comet.NewMessage.$$process);return l(e,a,h,j,i,f,g,b)}})}function a(a){var b=h.useContext(c("CometSetBlinkingTitleMessageContext")),e=d("MWChatOpenTabFromNewMessage.bs").useHook("notificationInThreadReply"),f=d("MWPActor.bs").useActor(),g=h.useRef(d("ServerTime").getMillis());h.useEffect(function(){return d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").fromTableAscending(a.table("messages")),function(h,i){switch(i.TAG){case 0:h=i._0;if(c("bs_caml_int64").to_float(h.timestampMs)<=g.current)return;g.current=c("bs_caml_int64").to_float(h.timestampMs);i=d("MWXacGating.bs").isGroupsEnabled()?m:n;return i(h,a,e,b,f);case 1:case 2:return}})},[b,e,a]);var i=h.useRef(),j=function(){var a=i.current;if(a!==void 0){c("clearInterval")(c("bs_caml_option").valFromOption(a));return}},k=function(){j(),i.current=c("bs_caml_option").some(c("setInterval")(function(){return d("MWChatThreadPingCounter.bs").clear()},6e5))},l=function(){d("MWChatThreadPingCounter.bs").clear();return j()};c("useGlobalEventListener")("blur",k,{});c("useGlobalEventListener")("focus",l,{});h.useEffect(function(){return function(){return j()}},[])}b=6e5;e=3;f=b;b=e;e=i;var o=j,p=k,q=l;a=a;g.cometSetBlinkingTitleMessageContext=c("CometSetBlinkingTitleMessageContext");g.pingCounterResetTime=f;g.pingsMaxCount=b;g.soundDeferred=e;g.playSound=o;g.threadSubscription=p;g.dispatchOpenTab=q;g.useHook=a}),98);
__d("MWSetupPresenceReportingDeferred.react",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferred")("MWSetupPresenceReporting.react").__setRef("MWSetupPresenceReportingDeferred.react"));function a(){return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSDatascriptEvaluator.bs",["LSDatascriptEvaluator"],(function(a,b,c,d,e,f,g){"use strict";g.make=c("LSDatascriptEvaluator")}),34);
__d("LSDatascriptEvaluatorDeferred",["MWDetectDbSupport","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorDeferred"),i=c("requireDeferred")("LSDatascriptEvaluatorMaybeSandbox").__setRef("LSDatascriptEvaluatorDeferred");a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("MWDetectDbSupport").isIndexedDbSupported());return(a?i:h).load()});return function(){return a.apply(this,arguments)}}();e=a;g["default"]=e}),98);
__d("LSDatascriptEvaluatorMaybeDeferred",["cr:974"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:974")}),98);
__d("LSPlatformClientInstances",["ExecutionEnvironment","LSPlatformClientSingleton.bs","LSPlatformLsInitLog","LSSuspense","MAWTTRC","Promise","PromiseAnnotate","QPLUserFlow","WALoggerDeferred","cr:1169","cr:4654","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Beginning hardcoded init sync"]);h=function(){return a};return a}var i=c("LSSuspense").makeCollection(),j=!1;function a(a,e){j||(j=!0,b("cr:4654")!=null&&b("cr:1169")!=null&&b("cr:4654").isArmadillo()&&(b("cr:1169").setupMainWaLogger(),c("QPLUserFlow").start(c("qpl")._(25300040,"1388"),{cancelOnUnload:!0,timeoutInMs:c("ExecutionEnvironment").canUseDOM?6e4:0}),c("QPLUserFlow").addAnnotations(c("qpl")._(25300040,"1388"),{bool:{isDev:0,isOccamadillo:b("cr:4654").isOccamadillo(),isOccamadilloResumeSync:b("cr:4654").isOccamadilloResumeSyncEnabled(),isRelaxedDurability:!0}}),d("MAWTTRC").markEvent("ls_init_start"),b("cr:4654").isOccamadillo()&&d("WALoggerDeferred").LOG(h())));return c("LSSuspense").getFromCollection(i,a,function(){return d("PromiseAnnotate").setDisplayName(e().then(function(e){return e.make(a).then(function(a){return a.start().then(function(){d("LSPlatformClientSingleton.bs").saveInstance(a);return a})})["catch"](function(a){d("LSPlatformLsInitLog").fail("failure_during_client_setup");d("LSPlatformLsInitLog").failEvent(c("qpl")._(25300040,"1388"),"failure_during_client_setup");d("MAWTTRC").fail("ls_init_fail");return b("Promise").reject(a)})}),"InitLSPlatformClient")})}e={getOrInit:a};g["default"]=e}),98);
__d("LSPlatformConfig.bs",["LSSuspense","bs_caml_exceptions","bs_caml_js_exceptions","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=c("bs_caml_exceptions").create("LSPlatformConfig.NoLSPlatformProviderFound");f=c("LSSuspense").makeWithError(c("bs_caml_js_exceptions").caml_as_js_exn({RE_EXN_ID:e}));var i=h.createContext(f);function a(a){var b=a.children;a=a.config;return h.createElement(i.Provider,{children:b,value:a})}d={make:a};function b(){return c("LSSuspense").getOrSuspend(h.useContext(i))}a=f;f=d;d=b;g.NoLSPlatformProviderFound=e;g.defaultVal=a;g.Provider=f;g.useOrSuspend=d}),98);
__d("LSPlatformErrorsCatcher.react",["cr:529","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useEffect,i=e.useState;function a(){var a=i(null),d=a[0],e=a[1];h(function(){var a=b("cr:529")&&b("cr:529").subscribe(function(a){e(a)});return function(){a&&a()}},[]);if(c("justknobx")._("384")&&d!=null)throw d;return null}g["default"]=a}),98);
__d("LSPlatformClientProvider.bs",["CometPlaceholder.react","LSPlatformClientInstances","LSPlatformConfig.bs","LSPlatformConnectionStatusProvider","LSPlatformErrorsCatcher.react","MAWCondWrapper.react","ReStoreProvider.react","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext();function j(a){var b=d("LSPlatformConfig.bs").useOrSuspend();return c("LSPlatformClientInstances").getOrInit(b,a)}function k(a){var b=a.children;a=a.client;return h.jsx(i.Provider,{children:b,value:a})}b={make:k};function l(a){var b=a.children;a=a.loadLSPlatformClient;a=j(a);d("LSPlatformConnectionStatusProvider").useSubscribeOnConnectionStatusChange(a);return h.jsx(d("ReStoreProvider.react").ReStoreProvider,{db:a.db,children:h.jsx(d("LSPlatformConnectionStatusProvider").Provider,{onConnectionStatusChange:a.onConnectionStatusChange,children:h.jsx(k,{client:a,children:b})})})}l.displayName=l.name+" [from "+f.id+"]";e={make:l};function a(a){var b=a.children,d=a.loadLSPlatformClient;a=a.placeholder;a=a!==void 0?c("bs_caml_option").valFromOption(a):null;var e=h.useContext(i);if(e!==void 0)return b;else return h.jsxs(h.Fragment,{children:[h.jsx(c("LSPlatformErrorsCatcher.react"),{}),h.jsx(c("MAWCondWrapper.react"),{children:h.jsx(c("CometPlaceholder.react"),{fallback:a,children:h.jsx(l,{loadLSPlatformClient:d,children:b})})})]})}f=a;g.context=i;g.Provider=b;g.Inner=e;g.make=f}),98);
__d("LSPlatformConfig.re",["LSPlatformConfig.bs"],(function(a,b,c,d,e,f,g){g.Provider_make=d("LSPlatformConfig.bs").Provider.make,g.useOrSuspend=d("LSPlatformConfig.bs").useOrSuspend,g.Provider=d("LSPlatformConfig.bs").Provider}),34);
__d("LSDedicatedMqttChannel",["FBMqttChannel","cr:1232"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:1232")!=null&&b("cr:1232").shutdownAndClear()}function d(a,d,e,f){return function(g){if(b("cr:1232")!=null)return b("cr:1232").getInstance(g,a,d,e,f);else return c("FBMqttChannel")}}g.shutdownAndClear=a;g.getInstance=d}),98);
__d("LSPlatformGraphQLLightspeedRequest",["CometRelay","CometRelayEnvironment","LSPlatformGraphQLLightspeedRequestQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g){return d("CometRelay").fetchQuery(c("CometRelayEnvironment"),h!==void 0?h:h=b("LSPlatformGraphQLLightspeedRequestQuery.graphql"),{deviceId:a,requestId:e,requestPayload:f,requestType:g}).toPromise().then(function(a){return a==null?void 0:(a=a.viewer)==null?void 0:a.lightspeed_web_request})}g["default"]=a}),98);
__d("LSPlatformDefaultUnderlyingApi.bs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(){return function(){}}function c(){return function(){}}function d(){return function(){}}function e(a,c){return b("Promise").resolve()}function g(){}g={cleanup:g,onConnectionStatusChange:c,onReconnect:d,publish:e,subscribe:a};f.defaultUnderlyingApi=g}),66);
__d("LSRequestType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];b=[0,5];f.initSync=a;f.resumeSync=c;f.taskBatch=d;f.fireForget=e;f.resumeSyncBatch=b}),null);
__d("LSSyncChannel.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];f.mqtt=a;f.http=c;f.dgw=d}),null);
__d("LSPlatformRealtimeTransport.bs",["JSMap.bs","LSDynamicDependencies","LSJson","LSRequestType.bs","LSShape","LSSyncChannel.bs","Promise","bs_caml","bs_caml_exceptions","bs_curry","bs_int64","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=c("bs_caml_exceptions").create("LSPlatformRealtimeTransport.NotConnected"),i=c("bs_caml_exceptions").create("LSPlatformRealtimeTransport.Timeout");function a(a,b,c){return d("LSDynamicDependencies").downloadBootloaderDependencies(a,b,c)}function j(a){var b=new Map();return{getAll:function(){return Array.from(b.values())},getOrStart:function(e){return d("JSMap.bs").getOrMake(b,c("bs_int64").to_string(e),function(){return c("bs_curry")._1(a,e)})}}}var k={make:j};function l(){}function e(){}function f(a,e,f){var g=new Map(),h={contents:l},k=new Set(),m=new Map(),n=[],o=j(function(b){b=a(b,f);n.push(b.subscribe(function(a){var b=JSON.parse(a),e=d("LSDynamicDependencies").downloadBootloaderDependencies(b.sp,b.nop,b.ntop);a=b.request_id;var f;if(a!==void 0){var h=g.get(a);h==null?f=!1:(c("clearTimeout")(h.timeoutId),h.resolve({_0:e,_1:b,TAG:0}),g["delete"](a),f=!0)}else f=!1;if(!f){Array.from(m.entries()).forEach(function(a){return a[1](e,b)});return}}));n.push(b.onReconnect(function(){return h.contents()}));n.push(b.onConnectionStatusChange(function(a){k.forEach(function(b){return b(a)})}));return b});o.getOrStart(d("LSSyncChannel.bs").mqtt);return{cleanup:function(){n.forEach(function(a){return c("bs_curry")._1(a)}),c("bs_curry")._1(o.getAll).forEach(function(a){return a.cleanup()})},onConnectionStatusChange:function(a){k.add(a);return function(){k["delete"](a)}},onReconnect:function(a){h.contents=a;return function(){h.contents=l}},publish:function(a,f,h,j,k){return new(b("Promise"))(function(b,l){if(c("bs_caml").i64_eq(j,d("LSRequestType.bs").taskBatch)){var m=c("setTimeout")(function(){var a=g.get(h);a==null||(g["delete"](h),a.reject({RE_EXN_ID:i}));return l({RE_EXN_ID:i})},3e4);g.set(h,{queueName:f,reject:l,resolve:b,timeoutId:m,timestamp:Date.now()})}c("promiseDone")(o.getOrStart(a).publish(d("LSJson").stringify(d("LSShape").ofRecord({app_id:e,payload:k,request_id:h,type:j})),j),function(){if(c("bs_caml").i64_neq(j,d("LSRequestType.bs").taskBatch))return b({_0:void 0,TAG:1})},function(a){return l(a)})})},subscribeToNonTaskResponses:function(a){var b={};m.set(b,a);return function(){m["delete"](b)}}}}k=k;var m=l;e=e;f=f;g.NotConnected=h;g.Timeout=i;g.downloadDependencies=a;g.Transports=k;g.defaultReconnectHandler=m;g.defaultConnectionChangedHandler=e;g.make=f}),98);
__d("LSPlatformMqttRealtimeTransport.bs",["ExecutionEnvironment","LSDedicatedMqttChannel","LSPlatformDefaultUnderlyingApi.bs","LSPlatformRealtimeTransport.bs","LSRequestType.bs","MqttState.bs","Promise","bs_caml","killswitch","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return[{payload:JSON.stringify({ls_fdid:"",ls_sv:a}),qos:1,topic:"/ls_app_settings"}]}function i(a){var e={contents:a.getConnectionState()},f={contents:function(){}},g={contents:new(b("Promise"))(function(a,b){f.contents=a})},h={onMQTTStateChanged:function(a){a===d("MqttState.bs").connected?f.contents():a===d("MqttState.bs").disconnected&&e.contents===d("MqttState.bs").connected&&(g.contents=new(b("Promise"))(function(a,b){f.contents=a})),e.contents=a}};e.contents===d("MqttState.bs").connected&&f.contents();a.subscribeChannelEvents(h);return[function(){a.unsubscribeChannelEvents(h)},function(e,f){return g.contents.then(function(){return new(b("Promise"))(function(b,g){c("promiseDone")(a.publish("/ls_req",e,{listener:{onEvent:function(a){if(a==="NOT_CONNECTED")return g({RE_EXN_ID:d("LSPlatformRealtimeTransport.bs").NotConnected})}},qos:c("bs_caml").i64_eq(f,d("LSRequestType.bs").fireForget)?0:1,skipBuffer:!1}),function(){return b()},function(a){if(a.message==="Publish Timed Out")return g({RE_EXN_ID:d("LSPlatformRealtimeTransport.bs").Timeout});else return g(a)})})})}]}var j={contents:void 0};function a(a,b,e){if(!c("ExecutionEnvironment").canUseDOM)return d("LSPlatformDefaultUnderlyingApi.bs").defaultUnderlyingApi;var f=e(b),g={getPublishMessages:function(){return h(a)}};f.registerExtraConnectPayloadProvider(g);var k={onMQTTStateChanged:function(a){var b=j.contents;if(b!==void 0)return b(a)}};f.subscribeChannelEvents(k);var l=f.subscribe("/ls_foreground_state",function(){});e=i(f);var m=e[0];b=e[1];return{cleanup:function(){f.unregisterExtraConnectPayloadProvider(g),c("killswitch")("MESSENGER_WEB_PERSISTED_DB")||d("LSDedicatedMqttChannel").shutdownAndClear(),f.unsubscribeChannelEvents(k),l(),m()},onConnectionStatusChange:function(a){j.contents=a;return function(){j.contents=void 0}},onReconnect:function(a){var b={contents:f.getConnectionState()},c={contents:b.contents===d("MqttState.bs").connected},e={onMQTTStateChanged:function(e){e===d("MqttState.bs").connected&&(c.contents&&b.contents!==d("MqttState.bs").connected&&a(),c.contents=!0),b.contents=e}};f.subscribeChannelEvents(e);return function(){f.unsubscribeChannelEvents(e)}},publish:b,subscribe:function(a){return f.subscribe("/ls_resp",function(b){return a(b)})}}}e=a;g.make=e}),98);
__d("MessengerWebRegion.bs",["MessengerWebRegion","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("MessengerWebRegion").regionNullable;if(a==null)if(c("gkx")("1993339"))return c("unrecoverableViolation")("Tried to load mailbox for a user that does not have a mailbox","messenger_web_product");else return"";else return a}g.getRegion=a}),98);
__d("LSPlatformMessengerConfig.bs",["CurrentUser","LSDatabaseDeferred","LSDatascriptEvaluatorMaybeDeferred","LSDedicatedMqttChannel","LSPlatformGraphQLLightspeedRequest","LSPlatformMessengerSyncParams","LSPlatformMqttRealtimeTransport.bs","LSSuspense","LSSyncChannel.bs","LSVersion","MessengerWebRegion.bs","ServerAppID","bs_caml","cr:972"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerWebRegion.bs").getRegion();function a(){return d("LSDatabaseDeferred").db}function e(a,e){if(b("cr:972")!=null&&c("bs_caml").i64_eq(a,d("LSSyncChannel.bs").dgw))return b("cr:972").make(c("LSVersion"),e);else return d("LSPlatformMqttRealtimeTransport.bs").make(c("LSVersion"),e,d("LSDedicatedMqttChannel").getInstance(c("CurrentUser").isLoggedInNow))}function f(){return c("LSDatascriptEvaluatorMaybeDeferred")()}a={appId:c("ServerAppID").app_id,executeGraphQLLightSpeedRequest:c("LSPlatformGraphQLLightspeedRequest"),getDb:a,getEval:f,platformName:"Messenger",realtimeUnderylingTransport:e,region:h,schemaVersion:c("LSVersion"),sendHardcodedInitSync:!0,syncParams:c("LSPlatformMessengerSyncParams")};f=c("LSSuspense").makeWithValue(a);g.syncParams=c("LSPlatformMessengerSyncParams");g.config=a;g.configEagerlyLoaded=f}),98);
__d("LSMqttEnvInitializer",["CurrentUser","MqttEnv","MqttEnvInitializer","MqttLogger","Random","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";a={initialize:function(a,b,e,f){d("MqttEnv").Env.initialize(c("Random").random,(a=a)!=null?a:c("CurrentUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},function(a){return b!=null&&b[a]!=null?b[a]:c("MqttEnvInitializer").genGk(a)},null,null,null,(a=e)!=null?a:c("MqttEnvInitializer").configRead,(e=f)!=null?e:c("MqttEnvInitializer").configWrite)}};b=a;g["default"]=b}),98);
__d("LSMqttChannel",["LSMqttEnvInitializer","MqttChannel","MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g){c("LSMqttEnvInitializer").initialize(b,e,f,g);return new(c("MqttChannel"))({appId:d("MqttWebConfig").appID,capabilities:d("MqttWebConfig").capabilities,chatVisibility:d("MqttWebConfig").chatVisibility,clientCapabilities:d("MqttWebConfig").clientCapabilities,deviceId:a,endpoint:d("MqttWebConfig").endpoint,initialSubscribedTopics:d("MqttWebConfig").subscribedTopics,phpOverride:d("MqttWebConfig").hostNameOverride,pollingEndpoint:d("MqttWebConfig").pollingEndpoint,userFbid:d("MqttWebConfig").fbid})}var i=null;function a(a,b,c,d,e){if(i==null){i=h(a,b,c,d,e);return i}else return i}function b(){i!=null&&(i.shutdown(),i=null)}g.getInstance=a;g.shutdownAndClear=b}),98);/*FB_PKG_DELIM*/
__d("createReStoreTableNameAllowListPersistence",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return{clearCache:function(){a.clearCache==null?void 0:a.clearCache(),c.clearCache==null?void 0:c.clearCache()},close:function(){a.close==null?void 0:a.close(),c.close==null?void 0:c.close()},flush:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f){var g=new Map(),h=new Map();e.forEach(function(a,b){d.has(b)?h.set(b,a):g.set(b,a)});yield b("Promise").all([a.flush(g,f),c.flush(h,f)])});function f(a,b){return e.apply(this,arguments)}return f}(),get:function(b,e,f,g){return d.has(e)?c.get(b,e,f,g):a.get(b,e,f,g)},runExclusively:function(b){return a.runExclusively(function(){return c.runExclusively(b)})},shouldSync:function(b){if(d.has(b))return c.shouldSync(b);else return a.shouldSync(b)},types:[].concat(a.types,c.types)}}f["default"]=a}),66);
__d("MAWDbBrowserEncryptionMetaTxnsV2",["MAWCryptoConsts","MAWEncyptionIndexedDbV2","MAWKeychainCrypto","MAWKeychainV2","MAWTransactionMode","Promise","WALogger","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Keychain - No Previous Browser Encryption Meta Exists"]);h=function(){return a};return a}function i(a){return new(b("Promise"))(function(b,e){var f=a.index(d("MAWEncyptionIndexedDbV2").ENCRYPTION_MAW_STORES_INDEX);f=f.getAll();f.onsuccess=function(a){b(a.target.result||[])};f.onerror=function(a){e(c("err")("Error in fetching browser encryption metadata"))}})}function j(a){return new(b("Promise"))(function(b,e){var f=a.index(d("MAWEncyptionIndexedDbV2").ENCRYPTION_MAW_STORES_INDEX);f=f.openCursor(null,"prev");f.onsuccess=function(a){b((a=a.target.result)==null?void 0:a.value)};f.onerror=function(a){e(c("err")("Error in fetching latest browser encryption metadata"))}})}function a(a,e){return new(b("Promise"))(function(b,f){var g=a.index(d("MAWEncyptionIndexedDbV2").ENCRYPTION_MAW_STORES_INDEX);g=g.get(e);g.onsuccess=function(a){b(a.target.result)};g.onerror=function(a){f(c("err")("Error in fetching browser encryption metadata by version"))}})}function k(a,d){return new(b("Promise"))(function(b,e){var f=a.add(d);f.onsuccess=function(a){b(a.target.result)};f.onerror=function(a){e(c("err")("Error in setting encryption metadata"))}})}function l(a){return new(b("Promise"))(function(b,d){var e=a.count();e.onsuccess=function(a){b(a.target.result)};e.onerror=function(a){d(c("err")("Error in getting encryption metadata count"))}})}function m(a,c){var e=d("MAWKeychainCrypto").genBrowserEncryptionKeyString(),f=d("MAWKeychainCrypto").genDatabaseEncryptionSeed();return b("Promise").all([d("MAWKeychainCrypto").importBrowserEncryptionKey(e),d("MAWKeychainCrypto").encryptDataToStringBuffer(a,f)]).then(function(a){var b=a[0];a=a[1];var g=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);a={expiration:g,key:e,seed:a,version:c};return d("MAWEncyptionIndexedDbV2").makeEncryptionMsgrTransactor(d("MAWTransactionMode").READWRITE)(k)(a).then(function(){return{expiration:g,key:b,seed:f,version:c}})})}function e(a,b){return j(a).then(function(a){a==null&&d("WALogger").LOG(h());if(a!=null&&!d("WATimeUtils").isInFuture(a.expiration))return m(b,a.version+1).then(function(){});return})}function n(a,c,e){return i(a).then(function(a){var f=e==null?a:a.filter(function(a){return a.version<=e});a=f.map(function(a){return b("Promise").all([d("MAWKeychainCrypto").importBrowserEncryptionKey(a.key),d("MAWKeychainCrypto").decryptDataToArrayBuffer(c,a.seed)]).then(function(b){var c=b[0];b=b[1];return{expiration:a.expiration,key:c,seed:b,version:a.version}})});return b("Promise").all(a).then(function(a){var b=new Map(),c=d("MAWKeychainV2").getLatestVersion();a.map(function(a){b.set(a.version,a),c<a.version&&(c=a.version)});d("MAWKeychainV2").setLatestVersion(c);d("MAWKeychainV2").setEncryptionKeyEntries(b);return{dbEncMetas:f,encEntriesMap:b,latestVersion:c}})})}function f(a,e){return n(a,e).then(function(a){var f=a.dbEncMetas,g=a.encEntriesMap,h=a.latestVersion;return d("MAWEncyptionIndexedDbV2").makeEncryptionMsgrTransactor(d("MAWTransactionMode").READWRITE)(l)().then(function(a){if(a!==f.length)throw c("err")("MAWKeychain - EncMeta count does not equal the fetched amount");a===0&&f.length===0?a=m(e,d("MAWCryptoConsts").VERSION).then(function(a){var b=new Map(),c=a.version;b.set(c,a);d("MAWKeychainV2").setEncryptionKeyEntries(b);d("MAWKeychainV2").setLatestVersion(c);return{encMaterials:b,latestVersion:c}}):a=b("Promise").resolve({encMaterials:g,latestVersion:h});return a})})}g.getAllBrowserEncryptionMeta=i;g.getLatestBrowserEncryptionMeta=j;g.getBrowserEncryptionMetaByVersion=a;g.setBrowserEncryptionMeta=k;g.getBrowserEncryptionMetaCount=l;g.generateNewBrowserEncryptionMeta=m;g.maybeRotateBrowserEncryptionMeta=e;g.fetchEncryptionMetas=n;g.fetchOrGenerateEncryptionMetas=f}),98);
__d("MAWKeychainV2",["MAWCryptoConsts","MAWDbBrowserEncryptionMetaTxnsV2","MAWEncyptionIndexedDbV2","MAWKeychainCrypto","MAWTransactionMode","Promise","WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWKeychain - Setup Keychain on Worker Thread"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWKeychain - Setup Keychain on Main Thread"]);i=function(){return a};return a}var j={accountKey:null,databaseEncryptionKeys:new Map(),encryptionMaterials:new Map(),latestVersion:d("MAWCryptoConsts").VERSION};function k(){var a=n();if(a==null)return d("MAWKeychainCrypto").genAccountKey().then(function(a){o(a);return a});else return b("Promise").resolve(a)}function a(){return k().then(function(a){return d("MAWEncyptionIndexedDbV2").makeEncryptionMsgrTransactor(d("MAWTransactionMode").READWRITE)(d("MAWDbBrowserEncryptionMetaTxnsV2").fetchOrGenerateEncryptionMetas)(a).then(function(a){var b=a.encMaterials,c=a.latestVersion;return m(b).then(function(){d("WALogger").LOG(i());return c})})})}function e(a){return k().then(function(b){return d("MAWEncyptionIndexedDbV2").makeEncryptionMsgrTransactor(d("MAWTransactionMode").READWRITE)(d("MAWDbBrowserEncryptionMetaTxnsV2").fetchEncryptionMetas)(b,a).then(function(a){a=a.encEntriesMap;if(a.size===0)throw c("err")("Worker expected EARKeychain to have been setup in Mainworker");d("WALogger").LOG(h());return m(a)})})}function f(){return k().then(function(a){return d("MAWEncyptionIndexedDbV2").makeEncryptionMsgrTransactor(d("MAWTransactionMode").READWRITE)(d("MAWDbBrowserEncryptionMetaTxnsV2").maybeRotateBrowserEncryptionMeta)(a)})}function l(a){var b=a==null?p():a,d=s(b);if(d==null)throw c("err")("expected DBEncryptionKey with version "+b+" to exist - isVersionNull : "+(a==null).toString());return{key:d,version:b}}function m(a){var c=[];a.forEach(function(a,b){c.push(d("MAWKeychainCrypto").genDatabaseEncryptionKey(a.key,a.seed).then(function(a){return{dbEncKey:a,version:b}}))});return b("Promise").all(c).then(function(a){a.map(function(a){var b=a.dbEncKey;a=a.version;t(a,b)})})}function n(){return j.accountKey}function o(a){j.accountKey=a}function p(){return j.latestVersion}function q(a){j.latestVersion=a}function r(a){j.encryptionMaterials=a}function s(a){return j.databaseEncryptionKeys.get(a)}function t(a,b){j.databaseEncryptionKeys.set(a,b)}function u(){return j.databaseEncryptionKeys}function v(){return j}function w(){j.accountKey=null,j.encryptionMaterials=new Map(),j.databaseEncryptionKeys=new Map(),j.latestVersion=d("MAWCryptoConsts").VERSION}g.fetchOrGenerateAccountKey=k;g.setupEARKeychain=a;g.fetchEARKeyChainForWorker=e;g.maybeRotateBrowserEncryptionMetaInTxn=f;g.getDbEncryptionKey=l;g.getLatestVersion=p;g.setLatestVersion=q;g.setEncryptionKeyEntries=r;g.getAllDatabaseEncryptionKeys=u;g.getEARKeychainForDebugging=v;g.resetEARKeyChain=w}),98);
__d("WAPromiseBackoffs",["Promise","WAErr"],(function(a,b,c,d,e,f,g){function a(a,b){if(a===0)return 0;var c=n(b.algo);for(var d=1;d<a;d++)c();return i(b,c())}function h(a){var b=a.relativeDelay,c=b===void 0?!1:b,d=null,e=n(a.algo);return function(){var b=d;if(b==null){d=c?Date.now():0;return 0}var f=i(a,e());if(c){var g=Date.now();b=g-b;b>0&&(f=Math.max(0,f-b));d=g}return f}}function d(a){var c=h(a);return function(a){return new(b("Promise"))(function(b){var d=c();d>0?setTimeout(b,d,a):b(a)})}}function i(a,b){var c=a.max,d=a.min;a=a.jitter;a=a===void 0?.1:a;b=b;c!=null&&b>c&&(b=c);d!=null&&b<d&&(b=d);a!==0&&(b=Math.ceil(b*(1+a*Math.random())));return b}function j(a){var b=a.second-a.first,c=a.first-b;return function(){var a=b+c;c=b;b=a;return a}}function k(a){var b=a.base,c=b===void 0?2:b,d=a.first;return function(){var a=d;d*=c;return a}}function l(a){var b=a.delay;return function(){return b}}function m(a){var b=a.toMs;a=a.backoff;var c=n(a);return function(){return b(c())}}function n(a){switch(a.type){case"fibonacci":return j(a);case"exponential":return k(a);case"constant":return l(a);case"adjust":return m(a);default:a;throw c("WAErr")("makeTimeFunc unrecognized backoff "+a.type)}}g.getDelay=a;g.createTimer=h;g.createPromiseTimer=d}),98);
__d("WAResolvable",["Promise"],(function(a,b,c,d,e,f){a=function(){function a(){var a=this;this.$1=function(){};this.$2=!1;this.promise=new(b("Promise"))(function(b){a.$1=b})}var c=a.prototype;c.resolve=function(a){this.$2=!0,this.$1(a)};c.reject=function(a){this.resolve(b("Promise").reject(a))};c.resolveWasCalled=function(){return this.$2};return a}();f.Resolvable=a}),66);
__d("WAPromiseRetryLoop",["Promise","WAErr","WALogger","WAPromiseBackoffs","WAPromiseDelays","WAResolvable"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: retrying "," in ","ms"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: resetting ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop was called several times. You may have race conditions"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: starting ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: resetting ",""]);l=function(){return a};return a}a=function(){function a(a){var b=this;this.$2=new(d("WAResolvable").Resolvable)();this.$3=null;this.$4=null;this.$5=0;this.endWithValue=function(a){b.$5++,b.$2.resolve(a)};this.$1=a}var e=a.prototype;e.resetTimeoutAfter=function(a){this.$4=Date.now()+a};e.cancelReset=function(){this.$4=null};e.reset=function(){if(this.$2.resolveWasCalled())return;d("WALogger").LOG(l(),this.$1.name);this.$5++;this.$6()};e.start=function(){if(this.$2.resolveWasCalled())return;d("WALogger").LOG(k(),this.$1.name);this.$5!==0&&d("WALogger").ERROR(j());this.$5++;this.$6()};e.$6=function(){var a=this,c=this.$1,e=this.$5,f=d("WAPromiseBackoffs").createTimer(this.$1.timer);f();var g=function b(){if(a.$2.resolveWasCalled())return;if(e!==a.$5)return;var g=Date.now();a.$3=c.code(a.endWithValue).then(function(){if(a.$2.resolveWasCalled())return;var e=c.resetDelay;(e!==void 0&&Date.now()>=g+e||a.$4!=null&&a.$4<=Date.now())&&(d("WALogger").LOG(i(),c.name),f=d("WAPromiseBackoffs").createTimer(a.$1.timer));a.$4=null;e=f();d("WALogger").LOG(h(),c.name,e);return d("WAPromiseDelays").delayMs(e).then(b)});return a.$3};this.$3=b("Promise").resolve().then(g)};e.promise=function(){var a=this;if(this.$2.resolveWasCalled())return this.$2.promise;return!this.$3?b("Promise").reject(c("WAErr")("PromiseRetryLoop "+this.$1.name+" had promise() called before start()")):b("Promise").race([this.$2.promise,this.$3.then(function(){return a.$2.promise})])};return a}();g.PromiseRetryLoop=a}),98);
__d("WARetryUtils",[],(function(a,b,c,d,e,f){a={algo:{type:"adjust",backoff:{type:"fibonacci",first:1,second:1},toMs:function(a){return 1e3*(a+9)}},max:62e4};f.FIBONACCI_BACKOFF=a}),66);
__d("MAWKeychainInit",["MAWCryptoConsts","MAWKeychainV2","WALogger","WAPromiseRetryLoop","WAResultOrError","WARetryUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Keychain setup finished, ending keychain setup promise retry loop"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWKeychain Setup failure: ",""]);j=function(){return a};return a}function a(){var a=0,c=new Map(),e=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({code:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){if(a===d("MAWCryptoConsts").MAX_KEYCHAIN_SETUP_RETRIES){Array(c.values()).forEach(function(a){d("WALogger").ERROR(j(),a)});b(d("WAResultOrError").makeError("keychain-setup-failure"));return}try{var e=(yield d("MAWKeychainV2").setupEARKeychain());d("WALogger").LOG(i());b(d("WAResultOrError").makeResult(e))}catch(a){d("MAWKeychainV2").resetEARKeyChain();b="Uncaught keychain setup error - "+a;d("WALogger").WARN(h(),b);c.set(b,a)}a++});function f(a){return e.apply(this,arguments)}return f}(),name:"EARKeychainSetup",timer:d("WARetryUtils").FIBONACCI_BACKOFF});e.start();return e.promise()}g.initSetupKeychain=a}),98);
__d("MAWLSDBEncryption",["MAWCryptoConsts","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWKeychainUtil","MAWKeychainV2","ReStoreDecryptionFailure","err","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=atob(a);var b=a.length,c=new Uint8Array(b);for(var d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer}function i(a){var b="";a=new Uint8Array(a);var c=a.byteLength;for(var d=0;d<c;d++)b+=String.fromCharCode(a[d]);return window.btoa(b)}function j(a){return c("nullthrows")(JSON.stringify(a,function(a,b){if(a===""||b==null||typeof b==="string"||typeof b==="number"||typeof b==="boolean"||Array.isArray(b))return b;else if(b instanceof ArrayBuffer)return{type:"ab",value:i(b)};else if(typeof b==="object")return{type:"o",value:j(b)};throw c("unrecoverableViolation")("Not supported","messenger_comet")}))}function k(a){return JSON.parse(a,function(a,b){if(a===""||b===null||typeof b==="string"||typeof b==="number"||typeof b==="boolean"||Array.isArray(b))return b;else if(typeof b==="object")if(b.type==="ab")return h(b.value);else if(b.type==="o")return k(b.value);throw c("unrecoverableViolation")("Not supported","messenger_comet")})}function a(a,b){try{var e=d("MAWKeychainV2").getDbEncryptionKey(),f=e.key;e=e.version;e=d("MAWKeychainUtil").makeAAD(e,d("MAWCryptoConsts").CIPHER_ID);return l(f,c("nullthrows")(j(a)),e)}catch(a){throw c("err")(a.message+" - Encrypted LSDB was unable to encrypt an entity for table "+b)}}function b(a,b){try{var e=d("MAWKeychainCrypto").getKeyVersionFromCipherData(a),f=d("MAWKeychainV2").getDbEncryptionKey(e);f=f.key;f=m(f,a,e);return c("nullthrows")(k(f))}catch(a){throw new(d("ReStoreDecryptionFailure").ReStoreDecryptionFailure)(a.message,b)}}function l(a,b,c){b=new TextEncoder().encode(b).buffer;return d("MAWKeychainNaClCrypto").encryptTweetNaClArrayBuffer(a,new Uint8Array(b),c)}function m(a,b,c){a=d("MAWKeychainNaClCrypto").decryptTweetNaClArrayBuffer(a,b,c);return new TextDecoder().decode(a)}g.stringify=j;g.parse=k;g.encryptLSDBObj=a;g.decryptLSDBObj=b;g.decryptStrWithKeyVersion=m}),98);
__d("MAWAppVersion",["qex"],(function(a,b,c,d,e,f,g){"use strict";var h="301.0.2",i="999.0.0";function j(){var a;a=(a=c("qex")._("308")||c("qex")._("391"))!=null?a:!1;return a?i:h}function a(){var a=j().split(".");return{primary:parseInt(a[0],10),secondary:parseInt(a[1],10),tertiary:parseInt(a[2],10)}}g.APP_VERSION=h;g.GROUP_INVITE_APP_VERSION=i;g.getVersionNumber=j;g.getAppVersionParts=a}),98);
__d("MAWLeakDetection",[],(function(a,b,c,d,e,f){"use strict";var g="[Vault] Vaulted string detected";function h(a){var b=/\d{10}##\d{10}/gm;return b.test(a)}function a(a){return h(a)?g:a}f.VAULTED_STRING_DETECTED=g;f.detectVaultedString=h;f.maybeReplaceVaultedString=a}),66);
__d("MAWConsoleLogger",["MAWGK"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){if(c("MAWGK").armadillo_web_debug_logging){var e=d.map(function(a){return"["+a+"]"}).join("");for(var f=arguments.length,g=new Array(f>3?f-3:0),h=3;h<f;h++)g[h-3]=arguments[h];if(e){var i;(i=console)[a].apply(i,[e,b].concat(g))}else{var j;(j=console)[a].apply(j,[b].concat(g))}}}g.logToConsole=a}),98);
__d("MAWKillSwitches",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("1996");b=c("gkx")("4282");d=a;e=b;g.isBugReportingDisabled=d;g.isServerLoggingDisabled=e}),98);
__d("CmcdConfig",[],(function(a,b,c,d,e,f){"use strict";a={DETECTION_TYPE_EMAIL:"DETECTION_TYPE_EMAIL",DETECTION_TYPE_PHONE_NUMBER:"DETECTION_TYPE_PHONE_NUMBER",DETECTION_TYPE_URL:"DETECTION_TYPE_URL",DETECTION_TYPE_WHOLE_MESSAGE:"DETECTION_TYPE_WHOLE_MESSAGE"};b=window.__DEV__?"dev || test":"production";c=["getstacktrace","startcmcdworker","log","error","warn","info"];f.CMCD_DETECTION_TYPES=a;f.env=b;f.excludeCallsites=c}),66);
__d("CmcdMessengerWebLoggingEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3929");b=d("FalcoLoggerInternal").create("cmcd_messenger_web_logging_event",a);e=b;g["default"]=e}),98);
__d("CmcdUtils",["CmcdConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a="";try{throw new Error("")}catch(b){a=b.stack}return a}function b(a){var b=a.split("\n");a=b.length;var c=function(a){var c=b[a].substring(0,b[a].indexOf("(")).toLowerCase();if(!d("CmcdConfig").excludeCallsites.some(function(a){return c.includes(a)}))return{v:b[a]}};for(var e=1;e<a;e++){var f=c(e);if(typeof f==="object")return f.v}return""}function c(a){return a!=null&&typeof a==="object"&&Object.prototype.hasOwnProperty.call(a,"is_detection")&&a.is_detection!=null&&!a.is_detection&&Object.prototype.hasOwnProperty.call(a,"detection_type")&&Object.prototype.hasOwnProperty.call(a,"call_site")&&Object.prototype.hasOwnProperty.call(a,"stack_trace")&&Object.prototype.hasOwnProperty.call(a,"run_type")?{call_site:String(a.call_site),detection_type:String(a.detection_type),is_detection:!0,run_type:String(a.run_type),stack_trace:String(a.stack_trace)}:null}g.getStackTrace=a;g.getCallSite=b;g.convertToDetectionData=c}),98);
__d("RegexPatternUtils",[],(function(a,b,c,d,e,f){function a(){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/}function b(){return/^(([+][0-9]+)?)([-\s]?[0-9]+)+$/}function c(){return/((https?|ftp|file):\/\/|(www|ftp)\.)[-A-Z0-9+&@#/%?=~_|$!:,.;]*[A-Z0-9+&@#/%=~_|$]/}f.getEmailRegexPattern=a;f.getPhoneNumberRegexPattern=b;f.getURLRegexPattern=c}),66);
__d("CmcdWorkerManager",["CmcdConfig","CmcdMessengerWebLoggingEventFalcoEvent","CmcdUtils","RegexPatternUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=[{detection:d("CmcdConfig").CMCD_DETECTION_TYPES.DETECTION_TYPE_EMAIL,regex:d("RegexPatternUtils").getEmailRegexPattern()},{detection:d("CmcdConfig").CMCD_DETECTION_TYPES.DETECTION_TYPE_PHONE_NUMBER,regex:d("RegexPatternUtils").getPhoneNumberRegexPattern()},{detection:d("CmcdConfig").CMCD_DETECTION_TYPES.DETECTION_TYPE_URL,regex:d("RegexPatternUtils").getURLRegexPattern()}],i=[""];function a(a){var b=d("CmcdUtils").getStackTrace(),e=d("CmcdUtils").getCallSite(b),f=new Blob(["self.onmessage = ",j.toString()],{type:"text/javascript"});e={callsite:e,detectionTypes:d("CmcdConfig").CMCD_DETECTION_TYPES,log:a.args,messageContent:i,regexPatterns:h,run_type:d("CmcdConfig").env,stack:b};var g=new Worker(URL.createObjectURL(f));g.onmessage=function(a){g.terminate();var b=d("CmcdUtils").convertToDetectionData(a.data);b!=null&&c("CmcdMessengerWebLoggingEventFalcoEvent").log(function(){return b})};g.postMessage(e)}var j=function(a){a=a.data;var b=a.messageContent,c=a.log,d={call_site:a.callsite,detection_type:"",is_detection:!1,run_type:a.run_type,stack_trace:a.stack};for(b of b)if(c.includes(b)){d.is_detection=!0;d.detection_type=a.detectionTypes.DETECTION_TYPE_WHOLE_MESSAGE;self.postMessage(d);return}b=a.regexPatterns;for(a of b)c.match(a.regex)&&(d.is_detection=!0,d.detection_type=a.detection);self.postMessage(d)};g.startCMCDWorker=a}),98);
__d("WADevToolsBridge",["WADynamicRouter"],(function(a,b,c,d,e,f,g){var h=new(d("WADynamicRouter").DynamicRouter)();function a(){return h}g.getDevToolBridge=a}),98);
__d("sortBy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.map(function(a,c){return{index:c,sortValue:b(a),value:a}});a.sort(function(a,b){var c=a.sortValue,d=b.sortValue;if(c>d)return 1;return c<d?-1:a.index-b.index});return a.map(function(a){return a.value})}f["default"]=a}),66);
__d("MAWMainThreadLogger",["CmcdWorkerManager","CurrentUser","FBLogger","MAWAppVersion","MAWConsoleLogger","MAWGating","MAWKillSwitches","MAWLeakDetection","WADevToolsBridge","WAJids","WALogger","cr:1999269","err","gkx","sortBy"],(function(a,b,c,d,e,f,g){"use strict";var h=[],i=d("MAWGating").isFlushingLogsFromWorkerInBulkEnabled()?1e4:5e3,j=!1;function a(){j=!1}function e(){j||(j=!0,d("WALogger").initializeWaLogger(w))}var k=function(){return d("MAWKillSwitches").isServerLoggingDisabled?null:c("FBLogger")("messenger_e2ee_web")};function f(a){a.forEach(function(a){var b=a.date,c=a.logLevel,d=a.tags,e=a.logString;if(a.logLevel==="error"){a=u(e,a.message,a.entriesToReport);a=a.errorLogString;e=a}if(c==="logRestricted"){a=q(e);a!==void 0&&o("log",a,"worker_log",d,b);return}o(c,e,"worker_log",d,b)}),h.length>i&&h.sort(function(a,b){return a.date-b.date}).splice(0,h.length-i)}function l(a,b,c,d){o(a,b,c,d,Date.now()),h.length>i&&h.shift()}function m(a,b){b===void 0&&(b="");return a.length>0?"["+a.join("|")+"]":b}function n(a,b){return b.length>0?m(b)+" "+a:a}function o(a,e,f,g,i){c("gkx")("5147")&&d("WADevToolsBridge").getDevToolBridge().fireAndForget("devtool","logLine",{logLevel:a,logString:n(e,g)},!0);e=e.replace(/\n/g," ");if(a==="debug")return;if(typeof e!=="string")return;f={args:e,category:f,date:i,event:m(g,"[unknown]"),level:a};h.push(f);d("MAWGating").isCMCDMessengerWebEnabled()&&d("CmcdWorkerManager").startCMCDWorker(f);b("cr:1999269")!=null&&c("gkx")("4291")&&b("cr:1999269").getBroker().sendMessage("update_maw_logging",{event:"armadillo_web_log_event",trace:e})}function p(a,b){a=q(a);a!==void 0&&l("log",a,"mainthread",b)}function q(a){if(!c("CurrentUser").isEmployee()&&!c("CurrentUser").isTestUser())return;a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);return a}function r(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);l("log",a,"mainthread",b)}function s(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);l("warn",a,"mainthread",b)}function t(a,b,d,e,f,g){d=c("err")(d);d.stack=e;v(a,b,d,f,g)}function u(a,b,c){a=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(a));b=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(b));c=c===0?[]:[].concat(h.slice(-c).map(function(a){return a.args}));return{errorLogString:b+" [Caught in "+a+"]",logs:[a].concat(c),sanitizedMessage:b}}function v(a,b,c,e,f){a=u(n(a,b),c.message,f);f=a.errorLogString;var g=a.logs;a=a.sanitizedMessage;c.message=a;e!==0&&(c.framesToPop=e);(a=k())==null?void 0:(e=a.addMetadata("MESSENGER_E2EE_WEB","APP_VERSION",d("MAWAppVersion").getVersionNumber()).catching(c)).mustfix.apply(e,g);d("MAWGating").isFlushingLogsFromWorkerInBulkEnabled()||l("error",f,"error_log",b)}var w={debug:function(a,b){d("MAWConsoleLogger").logToConsole("log",a,b)},devConsole:function(a,b,c){for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];switch(a){case"DEV":d("MAWConsoleLogger").logToConsole.apply(void 0,["log",b,c].concat(f));break;case"DEV_XMPP":d("MAWConsoleLogger").logToConsole.apply(void 0,["log",b,c].concat(f));break;case"LOG":d("MAWConsoleLogger").logToConsole.apply(void 0,["info",b,c].concat(f));break;case"WARN":d("MAWConsoleLogger").logToConsole.apply(void 0,["warn",b,c].concat(f));break;case"ERROR":d("MAWConsoleLogger").logToConsole.apply(void 0,["error",b,c].concat(f));break;case"CATCHING":d("MAWConsoleLogger").logToConsole.apply(void 0,["error",b,c].concat(f));break}},error:function(a,b,e){a=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(a));e?v(a,b,e,0,0):v(a,b,c("err")(a),2,0);d("MAWConsoleLogger").logToConsole("error",a,b)},info:function(a,b){r(a,b),d("MAWConsoleLogger").logToConsole("info",a,b)},logRestricted:function(a,b){p(a,b),d("MAWConsoleLogger").logToConsole("log",a,b)},warn:function(a,b){s(a,b),d("MAWConsoleLogger").logToConsole("warn",a,b)}};function x(){return d("MAWKillSwitches").isServerLoggingDisabled?[]:c("sortBy")(h,function(a){return a.date})}function y(){h.length=0}function z(a){return a.map(function(a){var b=/\d\d:\d\d:\d\d\.\d*/.exec(new Date(a.date).toISOString());return[b&&b[0],a.level,a.category,a.event,a.args].join(" | ")}).join("\n")}g.__testClearLoggerSetup=a;g.setupMainWaLogger=e;g.logToHistoryInBulk=f;g.logToHistory=l;g.logRestricted=p;g.info=r;g.warn=s;g.logError=t;g.getEntries=x;g.clearEntries=y;g.formatEntries=z}),98);
__d("MWSetupDBEncryption",["MAWCurrentUser","MAWEncyptionIndexedDbV2","MAWKeychainInit","MAWKeychainV2","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(h)return h;var a=d("MAWCurrentUser").getID();yield d("MAWEncyptionIndexedDbV2").makeEncryptionDB(a);yield d("MAWKeychainV2").maybeRotateBrowserEncryptionMetaInTxn();return h=d("MAWKeychainInit").initSetupKeychain()});return i.apply(this,arguments)}g.initEncryptedDbAndKeys=a}),98);
__d("MWSetupDBEncryption.bs",["MAWMainThreadLogger","MWSetupDBEncryption"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("MAWMainThreadLogger").setupMainWaLogger()}function b(){return d("MWSetupDBEncryption").initEncryptedDbAndKeys()}function c(){d("MAWMainThreadLogger").setupMainWaLogger();return d("MWSetupDBEncryption").initEncryptedDbAndKeys()}g.setupMainWaLogger=a;g.initEncryptedDbAndKeys=b;g.init=c}),98);
__d("MWBroadcastChannelPolyfill",["FBLogger","LSLogHistory","LocalStorageWrapper","Random","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("LSLogHistory").log("[MWBroadcastChannelPolyfill] "+a,"log")}function h(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}var i={},j=d("LocalStorageWrapper").getStorage(a);function b(a){var b="$BroadcastChannel$"+a+"$",e=!1,f=function(a){if(a.storageArea!==j)return;var c=a.newValue;if(c==null||c==="")return;if(((a=a.key)==null?void 0:a.substring(0,b.length))!==b)return;var d=JSON.parse(c);(a=i[b])==null?void 0:a.forEach(function(a){a({data:d})})};window.addEventListener("storage",f);return{addEventListener:function(a,c){i[b]=i[b]||new Set(),i[b].add(c)},close:function(){if(e)return;e=!0;i={};window.removeEventListener("storage",f)},postMessage:function(a){if(e){c("recoverableViolation")("Broadcast channel is closed","messenger_web_product");return}a=JSON.stringify(a);var f=b+String(Date.now())+"$"+String(c("Random").uint32());d("LocalStorageWrapper").setItemGuarded(j,f,a,h);c("setTimeout")(function(){d("LocalStorageWrapper").removeItemGuarded(j,f,h)},500)},removeEventListener:function(a,c){(a=i[b])==null?void 0:a["delete"](c)}}}g["default"]=b}),98);
__d("MWBroadcastChannel",["MWBroadcastChannelPolyfill"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return window.BroadcastChannel!=null?new window.BroadcastChannel(a):c("MWBroadcastChannelPolyfill")(a)}g.MWBroadcastChannel=a}),98);
__d("MWTabNotifier",["MWBroadcastChannel"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=d("MWBroadcastChannel").MWBroadcastChannel("mwChat");function b(b,c){a.postMessage([b,c])}function c(b,c){a.addEventListener("message",function(a){a=a.data;var d=a[0];d===b&&c(a[1])})}return{onEventReceive:c,postMessage:b}}();b=a;g["default"]=b}),98);