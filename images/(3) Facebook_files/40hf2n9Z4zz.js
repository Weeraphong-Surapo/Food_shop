;/*FB_PKG_DELIM*/

__d("LSGetFirstAvailablePersistentMenuCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.sb(b.db.table(251).fetch(),[["ctaId","DESC"]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=[0,1]:(d=a.item,c[0]=b.i64.add(d.ctaId,[0,1]))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSInsertPersistentMenuCtasForThread",["LSGetFirstAvailablePersistentMenuCTAID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetFirstAvailablePersistentMenuCTAID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.ct(c.db.table(9).fetch([[[a[0]]]])).then(function(a){return d[1]=a})},function(b){return c.i64.eq(d[1],[0,0])?c.resolve(0):c.db.table(251).add({threadKey:a[0],ctaId:d[0],title:a[2],actionUrl:a[3],nativeUrl:a[4],ctaType:a[5],platformToken:a[6]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRemoveExistingPersistentMenuCtas",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(251).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);